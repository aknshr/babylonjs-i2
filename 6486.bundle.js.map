{"version":3,"file":"6486.bundle.js","mappings":"4MAYO,MAAMA,UAAkC,IAU3C,WAAAC,CAAYC,GACRC,MAAMD,GAENE,KAAKC,MAAQD,KAAKE,mBAAmB,QAAS,MAC9CF,KAAKG,MAAQH,KAAKI,qBAAqB,QAC3C,CAEO,QAAAC,CAASC,EAA2BC,GACvC,GAAIA,IAAkBP,KAAKG,MAGvB,OAFAG,EAAQE,sBAAsBR,KAAM,QAAS,QAC7CA,KAAKC,MAAMQ,SAAS,EAAGH,GAG3B,MAAMI,EAAaJ,EAAQK,sBAAsBX,KAAM,QAAS,GAAK,EAErEM,EAAQE,sBAAsBR,KAAM,QAASU,GAC7CV,KAAKC,MAAMQ,SAASC,EAAYJ,GAChCN,KAAKY,IAAIC,gBAAgBP,EAC7B,CAKgB,YAAAQ,GACZ,MAAO,2BACX,GAEJ,QAAc,4BAAiClB,E","sources":["webpack://@dev/inspector-v2/../core/src/FlowGraph/Blocks/Execution/ControlFlow/flowGraphCounterBlock.ts?"],"sourcesContent":["import type { FlowGraphContext } from \"../../../flowGraphContext\";\r\nimport type { FlowGraphDataConnection } from \"../../../flowGraphDataConnection\";\r\nimport { RichTypeNumber } from \"../../../flowGraphRichTypes\";\r\nimport type { FlowGraphSignalConnection } from \"../../../flowGraphSignalConnection\";\r\nimport { FlowGraphExecutionBlockWithOutSignal } from \"../../../flowGraphExecutionBlockWithOutSignal\";\r\nimport { RegisterClass } from \"../../../../Misc/typeStore\";\r\nimport type { IFlowGraphBlockConfiguration } from \"../../../flowGraphBlock\";\r\nimport { FlowGraphBlockNames } from \"../../flowGraphBlockNames\";\r\n/**\r\n * A block that counts the number of times it has been called.\r\n * Afterwards it activates its out signal.\r\n */\r\nexport class FlowGraphCallCounterBlock extends FlowGraphExecutionBlockWithOutSignal {\r\n    /**\r\n     * Output connection: The number of times the block has been called.\r\n     */\r\n    public readonly count: FlowGraphDataConnection<number>;\r\n    /**\r\n     * Input connection: Resets the counter.\r\n     */\r\n    public readonly reset: FlowGraphSignalConnection;\r\n\r\n    constructor(config?: IFlowGraphBlockConfiguration) {\r\n        super(config);\r\n\r\n        this.count = this.registerDataOutput(\"count\", RichTypeNumber);\r\n        this.reset = this._registerSignalInput(\"reset\");\r\n    }\r\n\r\n    public _execute(context: FlowGraphContext, callingSignal: FlowGraphSignalConnection): void {\r\n        if (callingSignal === this.reset) {\r\n            context._setExecutionVariable(this, \"count\", 0);\r\n            this.count.setValue(0, context);\r\n            return;\r\n        }\r\n        const countValue = context._getExecutionVariable(this, \"count\", 0) + 1;\r\n\r\n        context._setExecutionVariable(this, \"count\", countValue);\r\n        this.count.setValue(countValue, context);\r\n        this.out._activateSignal(context);\r\n    }\r\n\r\n    /**\r\n     * @returns class name of the block.\r\n     */\r\n    public override getClassName(): string {\r\n        return FlowGraphBlockNames.CallCounter;\r\n    }\r\n}\r\nRegisterClass(FlowGraphBlockNames.CallCounter, FlowGraphCallCounterBlock);\r\n"],"names":["FlowGraphCallCounterBlock","constructor","config","super","this","count","registerDataOutput","reset","_registerSignalInput","_execute","context","callingSignal","_setExecutionVariable","setValue","countValue","_getExecutionVariable","out","_activateSignal","getClassName"],"ignoreList":[],"sourceRoot":""}