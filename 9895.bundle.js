"use strict";(self.webpackChunk_dev_inspector_v2=self.webpackChunk_dev_inspector_v2||[]).push([[9895],{39895:(t,e,a)=>{a.r(e),a.d(e,{FlowGraphInterpolationBlock:()=>u});var i=a(95611),n=a(63683),s=a(41862),r=a(23138),o=a(72062);class u extends n.e{constructor(t={}){super(t),this.keyFrames=[];const e="string"==typeof t?.animationType?(0,s.Yd)(t.animationType):(0,s.aZ)(t?.animationType??i.Y.ANIMATIONTYPE_FLOAT),a=t?.keyFramesCount??1,n=this.registerDataInput("duration_0",s.Es,0),r=this.registerDataInput("value_0",e);this.keyFrames.push({duration:n,value:r});for(let i=1;i<a+1;i++){const n=this.registerDataInput(`duration_${i}`,s.Es,i===a?t.duration:void 0),r=this.registerDataInput(`value_${i}`,e);this.keyFrames.push({duration:n,value:r})}this.initialValue=this.keyFrames[0].value,this.endValue=this.keyFrames[a].value,this.easingFunction=this.registerDataInput("easingFunction",s.Vv),this.animation=this.registerDataOutput("animation",s.Vv),this.propertyName=this.registerDataInput("propertyName",s.Vv,t?.propertyName),this.customBuildAnimation=this.registerDataInput("customBuildAnimation",s.Vv)}_updateOutputs(t){const e=t._getGlobalContextVariable("interpolationAnimations",[]),a=this.propertyName.getValue(t),i=this.easingFunction.getValue(t),n=this._createAnimation(t,a,i);if(this.animation.setValue(n,t),Array.isArray(n))for(const t of n)e.push(t.uniqueId);else e.push(n.uniqueId);t._setGlobalContextVariable("interpolationAnimations",e)}_createAnimation(t,e,a){const i=this.initialValue.richType,n=[],s=this.initialValue.getValue(t)||i.defaultValue;n.push({frame:0,value:s});const o=this.config?.numberOfKeyFrames??1;for(let e=1;e<o+1;e++){const a=this.keyFrames[e].duration?.getValue(t);let s=this.keyFrames[e].value?.getValue(t);e===o-1&&(s=s||i.defaultValue),void 0!==a&&s&&n.push({frame:60*a,value:s})}const u=this.customBuildAnimation.getValue(t);if(u)return u(null,null,t)(n,60,i.animationType,a);if("string"==typeof e){const t=r.X5.CreateAnimation(e,i.animationType,60,a);return t.setKeys(n),[t]}return e.map((t=>{const e=r.X5.CreateAnimation(t,i.animationType,60,a);return e.setKeys(n),e}))}getClassName(){return"FlowGraphInterpolationBlock"}}(0,o.Y5)("FlowGraphInterpolationBlock",u)}}]);
//# sourceMappingURL=9895.bundle.js.map