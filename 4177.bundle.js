"use strict";(self.webpackChunk_dev_inspector_v2=self.webpackChunk_dev_inspector_v2||[]).push([[4177],{14177:(e,o,s)=>{s.d(o,{KHR_draco_mesh_compression:()=>d});var t=s(95830),n=s(92230),r=s(69884),a=s(96734);const i="KHR_draco_mesh_compression";class d{constructor(e){this.name=i,this.useNormalizedFlagFromAccessor=!0,this._loader=e,this.enabled=t.Y.DefaultAvailable&&this._loader.isExtensionUsed(i)}dispose(){delete this.dracoDecoder,this._loader=null}_loadVertexDataAsync(e,o,s){return r.BT.LoadExtensionAsync(e,o,this.name,(async(a,i)=>{if(null!=o.mode&&4!==o.mode&&5!==o.mode)throw new Error(`${e}: Unsupported mode ${o.mode}`);const d={},l={},c=(e,t)=>{const n=i.attributes[e];if(null!=n&&(s._delayInfo=s._delayInfo||[],-1===s._delayInfo.indexOf(t)&&s._delayInfo.push(t),d[t]=n,this.useNormalizedFlagFromAccessor)){const s=r.l2.TryGet(this._loader.gltf.accessors,o.attributes[e]);s&&(l[t]=s.normalized||!1)}};c("POSITION",n.R.PositionKind),c("NORMAL",n.R.NormalKind),c("TANGENT",n.R.TangentKind),c("TEXCOORD_0",n.R.UVKind),c("TEXCOORD_1",n.R.UV2Kind),c("TEXCOORD_2",n.R.UV3Kind),c("TEXCOORD_3",n.R.UV4Kind),c("TEXCOORD_4",n.R.UV5Kind),c("TEXCOORD_5",n.R.UV6Kind),c("JOINTS_0",n.R.MatricesIndicesKind),c("WEIGHTS_0",n.R.MatricesWeightsKind),c("COLOR_0",n.R.ColorKind);const _=r.l2.Get(a,this._loader.gltf.bufferViews,i.bufferView);return _._dracoBabylonGeometry||(_._dracoBabylonGeometry=this._loader.loadBufferViewAsync(`/bufferViews/${_.index}`,_).then((async n=>{const a=this.dracoDecoder||t.Y.Default,i=r.l2.TryGet(this._loader.gltf.accessors,o.attributes.POSITION),c=this._loader.parent.alwaysComputeBoundingBox||s.skeleton||!i?null:(0,r.dM)(i);return await a._decodeMeshToGeometryForGltfAsync(s.name,this._loader.babylonScene,n,d,l,c).catch((o=>{throw new Error(`${e}: ${o.message}`)}))}))),await _._dracoBabylonGeometry}))}}(0,a.Hg)(i),(0,a.Ye)(i,!0,(e=>new d(e)))}}]);
//# sourceMappingURL=4177.bundle.js.map