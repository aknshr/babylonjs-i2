{"version":3,"file":"5468.bundle.js","mappings":"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","sources":["webpack://@dev/inspector-v2/../core/src/FlowGraph/Blocks/Data/flowGraphCachedOperationBlock.ts?","webpack://@dev/inspector-v2/../core/src/FlowGraph/Blocks/Data/flowGraphUnaryOperationBlock.ts?","webpack://@dev/inspector-v2/../core/src/FlowGraph/Blocks/Data/flowGraphConstantOperationBlock.ts?","webpack://@dev/inspector-v2/../core/src/FlowGraph/Blocks/Data/flowGraphTernaryOperationBlock.ts?","webpack://@dev/inspector-v2/../core/src/FlowGraph/Blocks/Data/Math/flowGraphMathBlocks.ts?","webpack://@dev/inspector-v2/../core/src/FlowGraph/Blocks/Data/flowGraphBinaryOperationBlock.ts?"],"sourcesContent":["import type { Nullable } from \"../../../types\";\r\nimport type { IFlowGraphBlockConfiguration } from \"../../flowGraphBlock\";\r\nimport { FlowGraphBlock } from \"../../flowGraphBlock\";\r\nimport type { FlowGraphContext } from \"../../flowGraphContext\";\r\nimport type { FlowGraphDataConnection } from \"../../flowGraphDataConnection\";\r\nimport type { RichType } from \"../../flowGraphRichTypes\";\r\nimport { RichTypeBoolean } from \"../../flowGraphRichTypes\";\r\n\r\nconst CacheName = \"cachedOperationValue\";\r\nconst CacheExecIdName = \"cachedExecutionId\";\r\n\r\n/**\r\n * A block that will cache the result of an operation and deliver it as an output.\r\n */\r\nexport abstract class FlowGraphCachedOperationBlock<OutputT> extends FlowGraphBlock {\r\n    /**\r\n     * The output of the operation\r\n     */\r\n    public readonly value: FlowGraphDataConnection<OutputT>;\r\n\r\n    /**\r\n     * Output connection: Whether the value is valid.\r\n     */\r\n    public readonly isValid: FlowGraphDataConnection<boolean>;\r\n\r\n    constructor(outputRichType: RichType<OutputT>, config?: IFlowGraphBlockConfiguration) {\r\n        super(config);\r\n\r\n        this.value = this.registerDataOutput(\"value\", outputRichType);\r\n        this.isValid = this.registerDataOutput(\"isValid\", RichTypeBoolean);\r\n    }\r\n\r\n    /**\r\n     * @internal\r\n     * Operation to realize\r\n     * @param context the graph context\r\n     */\r\n    public abstract _doOperation(context: FlowGraphContext): OutputT | undefined;\r\n\r\n    public override _updateOutputs(context: FlowGraphContext) {\r\n        const cachedExecutionId = context._getExecutionVariable(this, CacheExecIdName, -1);\r\n        const cachedValue = context._getExecutionVariable<Nullable<OutputT>>(this, CacheName, null);\r\n        if (cachedValue !== undefined && cachedValue !== null && cachedExecutionId === context.executionId) {\r\n            this.isValid.setValue(true, context);\r\n            this.value.setValue(cachedValue, context);\r\n        } else {\r\n            try {\r\n                const calculatedValue = this._doOperation(context);\r\n                if (calculatedValue === undefined || calculatedValue === null) {\r\n                    this.isValid.setValue(false, context);\r\n                    return;\r\n                }\r\n                context._setExecutionVariable(this, CacheName, calculatedValue);\r\n                context._setExecutionVariable(this, CacheExecIdName, context.executionId);\r\n                this.value.setValue(calculatedValue, context);\r\n                this.isValid.setValue(true, context);\r\n            } catch (e) {\r\n                this.isValid.setValue(false, context);\r\n            }\r\n        }\r\n    }\r\n}\r\n","import type { FlowGraphDataConnection } from \"../../flowGraphDataConnection\";\r\nimport type { IFlowGraphBlockConfiguration } from \"../../flowGraphBlock\";\r\nimport type { RichType } from \"../../flowGraphRichTypes\";\r\nimport type { FlowGraphContext } from \"../../flowGraphContext\";\r\nimport { FlowGraphCachedOperationBlock } from \"./flowGraphCachedOperationBlock\";\r\n\r\n/**\r\n * @internal\r\n * The base block for all unary operation blocks. Receives an input of type InputT, and outputs a value of type ResultT.\r\n */\r\nexport class FlowGraphUnaryOperationBlock<InputT, ResultT> extends FlowGraphCachedOperationBlock<ResultT> {\r\n    /**\r\n     * the input of this block\r\n     */\r\n    a: FlowGraphDataConnection<InputT>;\r\n\r\n    constructor(\r\n        inputRichType: RichType<InputT>,\r\n        resultRichType: RichType<ResultT>,\r\n        private _operation: (input: InputT) => ResultT,\r\n        private _className: string,\r\n        config?: IFlowGraphBlockConfiguration\r\n    ) {\r\n        super(resultRichType, config);\r\n        this.a = this.registerDataInput(\"a\", inputRichType);\r\n    }\r\n\r\n    /**\r\n     * the operation performed by this block\r\n     * @param context the graph context\r\n     * @returns the result of the operation\r\n     */\r\n    public override _doOperation(context: FlowGraphContext): ResultT {\r\n        return this._operation(this.a.getValue(context));\r\n    }\r\n\r\n    /**\r\n     * Gets the class name of this block\r\n     * @returns the class name\r\n     */\r\n    public override getClassName(): string {\r\n        return this._className;\r\n    }\r\n}\r\n","import type { FlowGraphContext } from \"../../flowGraphContext\";\r\nimport type { RichType } from \"../../flowGraphRichTypes\";\r\nimport type { IFlowGraphBlockConfiguration } from \"../../flowGraphBlock\";\r\nimport { FlowGraphCachedOperationBlock } from \"./flowGraphCachedOperationBlock\";\r\n/**\r\n * Block that outputs a value of type ResultT, resulting of an operation with no inputs.\r\n * This block is being extended by some math operations and should not be used directly.\r\n * @internal\r\n */\r\nexport class FlowGraphConstantOperationBlock<ResultT> extends FlowGraphCachedOperationBlock<ResultT> {\r\n    constructor(\r\n        richType: RichType<ResultT>,\r\n        private _operation: (context: FlowGraphContext) => ResultT,\r\n        private _className: string,\r\n        config?: IFlowGraphBlockConfiguration\r\n    ) {\r\n        super(richType, config);\r\n    }\r\n\r\n    /**\r\n     * the operation performed by this block\r\n     * @param context the graph context\r\n     * @returns the result of the operation\r\n     */\r\n    public override _doOperation(context: FlowGraphContext): ResultT {\r\n        return this._operation(context);\r\n    }\r\n\r\n    /**\r\n     * Gets the class name of this block\r\n     * @returns the class name\r\n     */\r\n    public override getClassName(): string {\r\n        return this._className;\r\n    }\r\n}\r\n","import type { FlowGraphDataConnection } from \"../../flowGraphDataConnection\";\r\nimport type { RichType } from \"../../flowGraphRichTypes\";\r\nimport type { FlowGraphContext } from \"../../flowGraphContext\";\r\nimport type { IFlowGraphBlockConfiguration } from \"../../flowGraphBlock\";\r\nimport { FlowGraphCachedOperationBlock } from \"./flowGraphCachedOperationBlock\";\r\n/**\r\n * @internal\r\n * The base block for all ternary operation blocks.\r\n */\r\nexport class FlowGraphTernaryOperationBlock<T1, T2, T3, ResultT> extends FlowGraphCachedOperationBlock<ResultT> {\r\n    /**\r\n     * First input of this block\r\n     */\r\n    a: FlowGraphDataConnection<T1>;\r\n    /**\r\n     * Second input of this block\r\n     */\r\n    b: FlowGraphDataConnection<T2>;\r\n    /**\r\n     * Third input of this block\r\n     */\r\n    c: FlowGraphDataConnection<T3>;\r\n\r\n    constructor(\r\n        t1Type: RichType<T1>,\r\n        t2Type: RichType<T2>,\r\n        t3Type: RichType<T3>,\r\n        resultRichType: RichType<ResultT>,\r\n        private _operation: (a: T1, b: T2, c: T3) => ResultT,\r\n        private _className: string,\r\n        config?: IFlowGraphBlockConfiguration\r\n    ) {\r\n        super(resultRichType, config);\r\n        this.a = this.registerDataInput(\"a\", t1Type);\r\n        this.b = this.registerDataInput(\"b\", t2Type);\r\n        this.c = this.registerDataInput(\"c\", t3Type);\r\n    }\r\n\r\n    /**\r\n     * the operation performed by this block\r\n     * @param context the graph context\r\n     * @returns the result of the operation\r\n     */\r\n    public override _doOperation(context: FlowGraphContext): ResultT {\r\n        return this._operation(this.a.getValue(context), this.b.getValue(context), this.c.getValue(context));\r\n    }\r\n\r\n    /**\r\n     * Gets the class name of this block\r\n     * @returns the class name\r\n     */\r\n    public override getClassName(): string {\r\n        return this._className;\r\n    }\r\n}\r\n","import { RegisterClass } from \"../../../../Misc/typeStore\";\r\nimport type { IFlowGraphBlockConfiguration } from \"../../../flowGraphBlock\";\r\nimport { FlowGraphTypes, getRichTypeByFlowGraphType, RichTypeAny, RichTypeBoolean, RichTypeFlowGraphInteger, RichTypeNumber } from \"../../../flowGraphRichTypes\";\r\nimport { FlowGraphBinaryOperationBlock } from \"../flowGraphBinaryOperationBlock\";\r\nimport { FlowGraphConstantOperationBlock } from \"../flowGraphConstantOperationBlock\";\r\nimport { Quaternion, Matrix, Vector2, Vector3, Vector4 } from \"../../../../Maths/math.vector\";\r\nimport { FlowGraphUnaryOperationBlock } from \"../flowGraphUnaryOperationBlock\";\r\nimport { FlowGraphTernaryOperationBlock } from \"../flowGraphTernaryOperationBlock\";\r\nimport { FlowGraphInteger } from \"../../../CustomTypes/flowGraphInteger\";\r\nimport { FlowGraphBlockNames } from \"../../flowGraphBlockNames\";\r\nimport type { FlowGraphDataConnection } from \"core/FlowGraph/flowGraphDataConnection\";\r\nimport type { FlowGraphContext } from \"core/FlowGraph/flowGraphContext\";\r\nimport { FlowGraphMatrix2D, FlowGraphMatrix3D } from \"core/FlowGraph/CustomTypes/flowGraphMatrix\";\r\nimport type { FlowGraphMathOperationType, FlowGraphNumber } from \"core/FlowGraph/utils\";\r\nimport { _AreSameIntegerClass, _AreSameMatrixClass, _AreSameVectorOrQuaternionClass, _GetClassNameOf, getNumericValue, isNumeric } from \"core/FlowGraph/utils\";\r\n\r\n/**\r\n * A configuration interface for math blocks\r\n */\r\nexport interface IFlowGraphMathBlockConfiguration extends IFlowGraphBlockConfiguration {\r\n    /**\r\n     * If true, the multiplication is done per component.\r\n     * This is the behavior in glTF interactivity.\r\n     */\r\n    useMatrixPerComponent?: boolean;\r\n\r\n    /**\r\n     * The type of the variable.\r\n     */\r\n    type?: FlowGraphTypes;\r\n\r\n    /**\r\n     * If true, the block will not allow integer and float arithmetic.\r\n     * This is the behavior in glTF interactivity.\r\n     */\r\n    preventIntegerFloatArithmetic?: boolean;\r\n}\r\n\r\n/**\r\n * Polymorphic add block.\r\n */\r\nexport class FlowGraphAddBlock extends FlowGraphBinaryOperationBlock<FlowGraphMathOperationType, FlowGraphMathOperationType, FlowGraphMathOperationType> {\r\n    /**\r\n     * Construct a new add block.\r\n     * @param config optional configuration\r\n     */\r\n    constructor(config?: IFlowGraphMathBlockConfiguration) {\r\n        super(\r\n            getRichTypeByFlowGraphType(config?.type),\r\n            getRichTypeByFlowGraphType(config?.type),\r\n            getRichTypeByFlowGraphType(config?.type),\r\n            (a, b) => this._polymorphicAdd(a, b),\r\n            FlowGraphBlockNames.Add,\r\n            config\r\n        );\r\n    }\r\n\r\n    private _polymorphicAdd(a: FlowGraphMathOperationType, b: FlowGraphMathOperationType) {\r\n        const aClassName = _GetClassNameOf(a);\r\n        const bClassName = _GetClassNameOf(b);\r\n        if (_AreSameVectorOrQuaternionClass(aClassName, bClassName) || _AreSameMatrixClass(aClassName, bClassName) || _AreSameIntegerClass(aClassName, bClassName)) {\r\n            // cast to vector3, but any other cast will be fine\r\n            return (a as Vector3).add(b as Vector3);\r\n        } else if (aClassName === FlowGraphTypes.Quaternion || bClassName === FlowGraphTypes.Vector4) {\r\n            return new Vector4((a as Quaternion).x, (a as Quaternion).y, (a as Quaternion).z, (a as Quaternion).w).addInPlace(b as Vector4);\r\n        } else if (aClassName === FlowGraphTypes.Vector4 || bClassName === FlowGraphTypes.Quaternion) {\r\n            return (a as Vector4).add(b as Quaternion);\r\n        } else {\r\n            // at this point at least one of the variables is a number.\r\n            if (this.config?.preventIntegerFloatArithmetic && typeof a !== typeof b) {\r\n                throw new Error(\"Cannot add different types of numbers.\");\r\n            }\r\n            return getNumericValue(a as number) + getNumericValue(b as number);\r\n        }\r\n    }\r\n}\r\nRegisterClass(FlowGraphBlockNames.Add, FlowGraphAddBlock);\r\n\r\n/**\r\n * Polymorphic subtract block.\r\n */\r\nexport class FlowGraphSubtractBlock extends FlowGraphBinaryOperationBlock<FlowGraphMathOperationType, FlowGraphMathOperationType, FlowGraphMathOperationType> {\r\n    /**\r\n     * Construct a new subtract block.\r\n     * @param config optional configuration\r\n     */\r\n    constructor(config?: IFlowGraphMathBlockConfiguration) {\r\n        super(\r\n            getRichTypeByFlowGraphType(config?.type),\r\n            getRichTypeByFlowGraphType(config?.type),\r\n            getRichTypeByFlowGraphType(config?.type),\r\n            (a, b) => this._polymorphicSubtract(a, b),\r\n            FlowGraphBlockNames.Subtract,\r\n            config\r\n        );\r\n    }\r\n\r\n    private _polymorphicSubtract(a: FlowGraphMathOperationType, b: FlowGraphMathOperationType) {\r\n        const aClassName = _GetClassNameOf(a);\r\n        const bClassName = _GetClassNameOf(b);\r\n        if (_AreSameVectorOrQuaternionClass(aClassName, bClassName) || _AreSameIntegerClass(aClassName, bClassName) || _AreSameMatrixClass(aClassName, bClassName)) {\r\n            // cast to vector3, but it can be casted to any vector type\r\n            return (a as Vector3).subtract(b as Vector3);\r\n        } else if (aClassName === FlowGraphTypes.Quaternion || bClassName === FlowGraphTypes.Vector4) {\r\n            return new Vector4((a as Quaternion).x, (a as Quaternion).y, (a as Quaternion).z, (a as Quaternion).w).subtractInPlace(b as Vector4);\r\n        } else if (aClassName === FlowGraphTypes.Vector4 || bClassName === FlowGraphTypes.Quaternion) {\r\n            return (a as Vector4).subtract(b as Quaternion);\r\n        } else {\r\n            // at this point at least one of the variables is a number.\r\n            if (this.config?.preventIntegerFloatArithmetic && typeof a !== typeof b) {\r\n                throw new Error(\"Cannot add different types of numbers.\");\r\n            }\r\n            return getNumericValue(a as number) - getNumericValue(b as number);\r\n        }\r\n    }\r\n}\r\nRegisterClass(FlowGraphBlockNames.Subtract, FlowGraphSubtractBlock);\r\n\r\n/**\r\n * Polymorphic multiply block.\r\n * In case of matrix, it is configurable whether the multiplication is done per component.\r\n */\r\nexport class FlowGraphMultiplyBlock extends FlowGraphBinaryOperationBlock<FlowGraphMathOperationType, FlowGraphMathOperationType, FlowGraphMathOperationType> {\r\n    constructor(config?: IFlowGraphMathBlockConfiguration) {\r\n        super(\r\n            getRichTypeByFlowGraphType(config?.type),\r\n            getRichTypeByFlowGraphType(config?.type),\r\n            getRichTypeByFlowGraphType(config?.type),\r\n            (a, b) => this._polymorphicMultiply(a, b),\r\n            FlowGraphBlockNames.Multiply,\r\n            config\r\n        );\r\n    }\r\n\r\n    private _polymorphicMultiply(a: FlowGraphMathOperationType, b: FlowGraphMathOperationType) {\r\n        const aClassName = _GetClassNameOf(a);\r\n        const bClassName = _GetClassNameOf(b);\r\n        if (_AreSameVectorOrQuaternionClass(aClassName, bClassName) || _AreSameIntegerClass(aClassName, bClassName)) {\r\n            // cast to vector3, but it can be casted to any vector type\r\n            return (a as Vector3).multiply(b as Vector3);\r\n        } else if (aClassName === FlowGraphTypes.Quaternion || bClassName === FlowGraphTypes.Vector4) {\r\n            return new Vector4((a as Quaternion).x, (a as Quaternion).y, (a as Quaternion).z, (a as Quaternion).w).multiplyInPlace(b as Vector4);\r\n        } else if (aClassName === FlowGraphTypes.Vector4 || bClassName === FlowGraphTypes.Quaternion) {\r\n            return (a as Vector4).multiply(b as Quaternion);\r\n        } else if (_AreSameMatrixClass(aClassName, bClassName)) {\r\n            if (this.config?.useMatrixPerComponent) {\r\n                // this is the definition of multiplication of glTF interactivity\r\n                // get a's m as array, and multiply each component with b's m\r\n                const aM = (a as FlowGraphMatrix2D).m;\r\n                for (let i = 0; i < aM.length; i++) {\r\n                    aM[i] *= (b as FlowGraphMatrix2D).m[i];\r\n                }\r\n                if (aClassName === FlowGraphTypes.Matrix2D) {\r\n                    return new FlowGraphMatrix2D(aM);\r\n                } else if (aClassName === FlowGraphTypes.Matrix3D) {\r\n                    return new FlowGraphMatrix3D(aM);\r\n                } else {\r\n                    return Matrix.FromArray(aM);\r\n                }\r\n            } else {\r\n                a = a as Matrix;\r\n                b = b as Matrix;\r\n                return b.multiply(a);\r\n            }\r\n        } else {\r\n            // at this point at least one of the variables is a number.\r\n            if (this.config?.preventIntegerFloatArithmetic && typeof a !== typeof b) {\r\n                throw new Error(\"Cannot add different types of numbers.\");\r\n            }\r\n            return getNumericValue(a as number) * getNumericValue(b as number);\r\n        }\r\n    }\r\n}\r\nRegisterClass(FlowGraphBlockNames.Multiply, FlowGraphMultiplyBlock);\r\n\r\n/**\r\n * Polymorphic division block.\r\n */\r\nexport class FlowGraphDivideBlock extends FlowGraphBinaryOperationBlock<FlowGraphMathOperationType, FlowGraphMathOperationType, FlowGraphMathOperationType> {\r\n    /**\r\n     * Construct a new divide block.\r\n     * @param config - Optional configuration\r\n     */\r\n    constructor(config?: IFlowGraphMathBlockConfiguration) {\r\n        super(\r\n            getRichTypeByFlowGraphType(config?.type),\r\n            getRichTypeByFlowGraphType(config?.type),\r\n            getRichTypeByFlowGraphType(config?.type),\r\n            (a, b) => this._polymorphicDivide(a, b),\r\n            FlowGraphBlockNames.Divide,\r\n            config\r\n        );\r\n    }\r\n\r\n    private _polymorphicDivide(a: FlowGraphMathOperationType, b: FlowGraphMathOperationType) {\r\n        const aClassName = _GetClassNameOf(a);\r\n        const bClassName = _GetClassNameOf(b);\r\n        if (_AreSameVectorOrQuaternionClass(aClassName, bClassName) || _AreSameIntegerClass(aClassName, bClassName)) {\r\n            // cast to vector3, but it can be casted to any vector type\r\n            return (a as Vector3).divide(b as Vector3);\r\n        } else if (aClassName === FlowGraphTypes.Quaternion || bClassName === FlowGraphTypes.Quaternion) {\r\n            // this is a simple division (per component!), and should be also supported between Quat and Vector4. Therefore -\r\n            const aClone = (a as Quaternion).clone();\r\n            aClone.x /= (b as Quaternion).x;\r\n            aClone.y /= (b as Quaternion).y;\r\n            aClone.z /= (b as Quaternion).z;\r\n            aClone.w /= (b as Quaternion).w;\r\n            return aClone;\r\n        } else if (aClassName === FlowGraphTypes.Quaternion || bClassName === FlowGraphTypes.Vector4) {\r\n            return new Vector4((a as Quaternion).x, (a as Quaternion).y, (a as Quaternion).z, (a as Quaternion).w).divideInPlace(b as Vector4);\r\n        } else if (aClassName === FlowGraphTypes.Vector4 || bClassName === FlowGraphTypes.Quaternion) {\r\n            return (a as Vector4).divide(b as Quaternion);\r\n        } else if (_AreSameMatrixClass(aClassName, bClassName)) {\r\n            if (this.config?.useMatrixPerComponent) {\r\n                // get a's m as array, and divide each component with b's m\r\n                const aM = (a as FlowGraphMatrix2D).m;\r\n                for (let i = 0; i < aM.length; i++) {\r\n                    aM[i] /= (b as FlowGraphMatrix2D).m[i];\r\n                }\r\n                if (aClassName === FlowGraphTypes.Matrix2D) {\r\n                    return new FlowGraphMatrix2D(aM);\r\n                } else if (aClassName === FlowGraphTypes.Matrix3D) {\r\n                    return new FlowGraphMatrix3D(aM);\r\n                } else {\r\n                    return Matrix.FromArray(aM);\r\n                }\r\n            } else {\r\n                a = a as Matrix;\r\n                b = b as Matrix;\r\n                return a.divide(b);\r\n            }\r\n        } else {\r\n            // at this point at least one of the variables is a number.\r\n            if (this.config?.preventIntegerFloatArithmetic && typeof a !== typeof b) {\r\n                throw new Error(\"Cannot add different types of numbers.\");\r\n            }\r\n            return getNumericValue(a as number) / getNumericValue(b as number);\r\n        }\r\n    }\r\n}\r\nRegisterClass(FlowGraphBlockNames.Divide, FlowGraphDivideBlock);\r\n\r\n/**\r\n * Configuration interface for the random block.\r\n */\r\nexport interface IFlowGraphRandomBlockConfiguration extends IFlowGraphBlockConfiguration {\r\n    /**\r\n     * The minimum value. defaults to 0.\r\n     */\r\n    min?: number;\r\n    /**\r\n     * The maximum value. defaults to 1.\r\n     */\r\n    max?: number;\r\n\r\n    /**\r\n     * The seed for the random number generator for deterministic random values.\r\n     * If not set, Math.random() is used.\r\n     */\r\n    seed?: number;\r\n}\r\n\r\n/**\r\n * Random number between min and max (defaults to 0 to 1)\r\n *\r\n * This node will cache the result for he same node reference. i.e., a Math.eq that references the SAME random node will always return true.\r\n */\r\nexport class FlowGraphRandomBlock extends FlowGraphConstantOperationBlock<FlowGraphMathOperationType> {\r\n    /**\r\n     * The minimum value. defaults to 0.\r\n     */\r\n    public readonly min: FlowGraphDataConnection<number>;\r\n    /**\r\n     * The maximum value. defaults to 1.\r\n     */\r\n    public readonly max: FlowGraphDataConnection<number>;\r\n\r\n    private _seed?: number;\r\n\r\n    /**\r\n     * Construct a new random block.\r\n     * @param config optional configuration\r\n     */\r\n    constructor(config?: IFlowGraphRandomBlockConfiguration) {\r\n        super(RichTypeNumber, (context) => this._random(context), FlowGraphBlockNames.Random, config);\r\n        this.min = this.registerDataInput(\"min\", RichTypeNumber, config?.min ?? 0);\r\n        this.max = this.registerDataInput(\"max\", RichTypeNumber, config?.max ?? 1);\r\n        if (config?.seed) {\r\n            this._seed = config.seed;\r\n        }\r\n    }\r\n\r\n    private _isSeed(seed = this._seed): seed is number {\r\n        return seed !== undefined;\r\n    }\r\n\r\n    private _getRandomValue() {\r\n        if (this._isSeed(this._seed)) {\r\n            // compute seed-based random number, deterministic randomness!\r\n            const x = Math.sin(this._seed++) * 10000;\r\n            return x - Math.floor(x);\r\n        }\r\n        return Math.random();\r\n    }\r\n\r\n    private _random(context: FlowGraphContext) {\r\n        const min = this.min.getValue(context);\r\n        const max = this.max.getValue(context);\r\n        return this._getRandomValue() * (max - min) + min;\r\n    }\r\n}\r\nRegisterClass(FlowGraphBlockNames.Random, FlowGraphRandomBlock);\r\n\r\n/**\r\n * E constant.\r\n */\r\n// eslint-disable-next-line @typescript-eslint/naming-convention\r\nexport class FlowGraphEBlock extends FlowGraphConstantOperationBlock<number> {\r\n    constructor(config?: IFlowGraphBlockConfiguration) {\r\n        super(RichTypeNumber, () => Math.E, FlowGraphBlockNames.E, config);\r\n    }\r\n}\r\nRegisterClass(FlowGraphBlockNames.E, FlowGraphEBlock);\r\n\r\n/**\r\n * Pi constant.\r\n */\r\nexport class FlowGraphPiBlock extends FlowGraphConstantOperationBlock<number> {\r\n    constructor(config?: IFlowGraphBlockConfiguration) {\r\n        super(RichTypeNumber, () => Math.PI, FlowGraphBlockNames.PI, config);\r\n    }\r\n}\r\nRegisterClass(FlowGraphBlockNames.PI, FlowGraphPiBlock);\r\n\r\n/**\r\n * Positive inf constant.\r\n */\r\nexport class FlowGraphInfBlock extends FlowGraphConstantOperationBlock<number> {\r\n    constructor(config?: IFlowGraphBlockConfiguration) {\r\n        super(RichTypeNumber, () => Number.POSITIVE_INFINITY, FlowGraphBlockNames.Inf, config);\r\n    }\r\n}\r\nRegisterClass(FlowGraphBlockNames.Inf, FlowGraphInfBlock);\r\n\r\n/**\r\n * NaN constant.\r\n */\r\nexport class FlowGraphNaNBlock extends FlowGraphConstantOperationBlock<number> {\r\n    constructor(config?: IFlowGraphBlockConfiguration) {\r\n        super(RichTypeNumber, () => Number.NaN, FlowGraphBlockNames.NaN, config);\r\n    }\r\n}\r\nRegisterClass(FlowGraphBlockNames.NaN, FlowGraphNaNBlock);\r\n\r\nfunction ComponentWiseUnaryOperation(a: FlowGraphMathOperationType, op: (a: number) => number) {\r\n    const aClassName = _GetClassNameOf(a);\r\n    switch (aClassName) {\r\n        case \"FlowGraphInteger\":\r\n            a = a as FlowGraphInteger;\r\n            return new FlowGraphInteger(op(a.value));\r\n        case FlowGraphTypes.Vector2:\r\n            a = a as Vector2;\r\n            return new Vector2(op(a.x), op(a.y));\r\n        case FlowGraphTypes.Vector3:\r\n            a = a as Vector3;\r\n            return new Vector3(op(a.x), op(a.y), op(a.z));\r\n        case FlowGraphTypes.Vector4:\r\n            a = a as Vector4;\r\n            return new Vector4(op(a.x), op(a.y), op(a.z), op(a.w));\r\n        case FlowGraphTypes.Quaternion:\r\n            a = a as Quaternion;\r\n            return new Quaternion(op(a.x), op(a.y), op(a.z), op(a.w));\r\n        case FlowGraphTypes.Matrix:\r\n            a = a as Matrix;\r\n            return Matrix.FromArray(a.m.map(op));\r\n        case FlowGraphTypes.Matrix2D:\r\n            a = a as FlowGraphMatrix2D;\r\n            // reason for not using .map is performance\r\n            return new FlowGraphMatrix2D(a.m.map(op));\r\n        case FlowGraphTypes.Matrix3D:\r\n            a = a as FlowGraphMatrix3D;\r\n            return new FlowGraphMatrix3D(a.m.map(op));\r\n        default:\r\n            a = a as number;\r\n            return op(a);\r\n    }\r\n}\r\n\r\n/**\r\n * Absolute value block.\r\n */\r\nexport class FlowGraphAbsBlock extends FlowGraphUnaryOperationBlock<FlowGraphMathOperationType, FlowGraphMathOperationType> {\r\n    constructor(config?: IFlowGraphBlockConfiguration) {\r\n        super(RichTypeNumber, RichTypeNumber, (a) => this._polymorphicAbs(a), FlowGraphBlockNames.Abs, config);\r\n    }\r\n\r\n    private _polymorphicAbs(a: FlowGraphMathOperationType) {\r\n        return ComponentWiseUnaryOperation(a, Math.abs);\r\n    }\r\n}\r\nRegisterClass(FlowGraphBlockNames.Abs, FlowGraphAbsBlock);\r\n\r\n/**\r\n * Sign block.\r\n */\r\nexport class FlowGraphSignBlock extends FlowGraphUnaryOperationBlock<FlowGraphMathOperationType, FlowGraphMathOperationType> {\r\n    constructor(config?: IFlowGraphBlockConfiguration) {\r\n        super(RichTypeNumber, RichTypeNumber, (a) => this._polymorphicSign(a), FlowGraphBlockNames.Sign, config);\r\n    }\r\n\r\n    private _polymorphicSign(a: FlowGraphMathOperationType) {\r\n        return ComponentWiseUnaryOperation(a, Math.sign);\r\n    }\r\n}\r\nRegisterClass(FlowGraphBlockNames.Sign, FlowGraphSignBlock);\r\n\r\n/**\r\n * Truncation block.\r\n */\r\nexport class FlowGraphTruncBlock extends FlowGraphUnaryOperationBlock<FlowGraphMathOperationType, FlowGraphMathOperationType> {\r\n    constructor(config?: IFlowGraphBlockConfiguration) {\r\n        super(RichTypeNumber, RichTypeNumber, (a) => this._polymorphicTrunc(a), FlowGraphBlockNames.Trunc, config);\r\n    }\r\n\r\n    private _polymorphicTrunc(a: FlowGraphMathOperationType) {\r\n        return ComponentWiseUnaryOperation(a, Math.trunc);\r\n    }\r\n}\r\nRegisterClass(FlowGraphBlockNames.Trunc, FlowGraphTruncBlock);\r\n\r\n/**\r\n * Floor block.\r\n */\r\nexport class FlowGraphFloorBlock extends FlowGraphUnaryOperationBlock<FlowGraphMathOperationType, FlowGraphMathOperationType> {\r\n    constructor(config?: IFlowGraphBlockConfiguration) {\r\n        super(RichTypeNumber, RichTypeNumber, (a) => this._polymorphicFloor(a), FlowGraphBlockNames.Floor, config);\r\n    }\r\n\r\n    private _polymorphicFloor(a: FlowGraphMathOperationType) {\r\n        return ComponentWiseUnaryOperation(a, Math.floor);\r\n    }\r\n}\r\nRegisterClass(FlowGraphBlockNames.Floor, FlowGraphFloorBlock);\r\n\r\n/**\r\n * Ceiling block.\r\n */\r\nexport class FlowGraphCeilBlock extends FlowGraphUnaryOperationBlock<FlowGraphMathOperationType, FlowGraphMathOperationType> {\r\n    constructor(config?: IFlowGraphBlockConfiguration) {\r\n        super(RichTypeAny, RichTypeAny, (a) => this._polymorphicCeiling(a), FlowGraphBlockNames.Ceil, config);\r\n    }\r\n\r\n    private _polymorphicCeiling(a: FlowGraphMathOperationType) {\r\n        return ComponentWiseUnaryOperation(a, Math.ceil);\r\n    }\r\n}\r\nRegisterClass(FlowGraphBlockNames.Ceil, FlowGraphCeilBlock);\r\n\r\n/**\r\n * Configuration for the round block.\r\n */\r\nexport interface IFlowGraphRoundBlockConfiguration extends IFlowGraphBlockConfiguration {\r\n    /**\r\n     * If true, the rounding is away from zero, even when negative. i.e. -7.5 goes to -8, and not -7 as Math.round does (it rounds up).\r\n     * This is the default when using glTF\r\n     */\r\n    roundHalfAwayFromZero?: boolean;\r\n}\r\n/**\r\n * Round block.\r\n */\r\nexport class FlowGraphRoundBlock extends FlowGraphUnaryOperationBlock<FlowGraphMathOperationType, FlowGraphMathOperationType> {\r\n    constructor(config?: IFlowGraphRoundBlockConfiguration) {\r\n        super(RichTypeAny, RichTypeAny, (a) => this._polymorphicRound(a), FlowGraphBlockNames.Round, config);\r\n    }\r\n\r\n    private _polymorphicRound(a: FlowGraphMathOperationType) {\r\n        return ComponentWiseUnaryOperation(a, (a) => (a < 0 && this.config?.roundHalfAwayFromZero ? -Math.round(-a) : Math.round(a)));\r\n    }\r\n}\r\n\r\nRegisterClass(FlowGraphBlockNames.Round, FlowGraphRoundBlock);\r\n\r\n/**\r\n * A block that returns the fractional part of a number.\r\n */\r\nexport class FlowGraphFractionBlock extends FlowGraphUnaryOperationBlock<FlowGraphMathOperationType, FlowGraphMathOperationType> {\r\n    constructor(config?: IFlowGraphBlockConfiguration) {\r\n        super(RichTypeAny, RichTypeAny, (a) => this._polymorphicFraction(a), FlowGraphBlockNames.Fraction, config);\r\n    }\r\n\r\n    private _polymorphicFraction(a: FlowGraphMathOperationType) {\r\n        return ComponentWiseUnaryOperation(a, (a) => a - Math.floor(a));\r\n    }\r\n}\r\nRegisterClass(FlowGraphBlockNames.Fraction, FlowGraphFractionBlock);\r\n\r\n/**\r\n * Negation block.\r\n */\r\nexport class FlowGraphNegationBlock extends FlowGraphUnaryOperationBlock<FlowGraphMathOperationType, FlowGraphMathOperationType> {\r\n    /**\r\n     * construct a new negation block.\r\n     * @param config optional configuration\r\n     */\r\n    constructor(config?: IFlowGraphBlockConfiguration) {\r\n        super(RichTypeAny, RichTypeAny, (a) => this._polymorphicNeg(a), FlowGraphBlockNames.Negation, config);\r\n    }\r\n\r\n    private _polymorphicNeg(a: FlowGraphMathOperationType) {\r\n        return ComponentWiseUnaryOperation(a, (a) => -a);\r\n    }\r\n}\r\nRegisterClass(FlowGraphBlockNames.Negation, FlowGraphNegationBlock);\r\n\r\nfunction ComponentWiseBinaryOperation(a: FlowGraphMathOperationType, b: FlowGraphMathOperationType, op: (a: number, b: number) => number) {\r\n    const aClassName = _GetClassNameOf(a);\r\n    switch (aClassName) {\r\n        case \"FlowGraphInteger\":\r\n            a = a as FlowGraphInteger;\r\n            b = b as FlowGraphInteger;\r\n            return new FlowGraphInteger(op(a.value, b.value));\r\n        case FlowGraphTypes.Vector2:\r\n            a = a as Vector2;\r\n            b = b as Vector2;\r\n            return new Vector2(op(a.x, b.x), op(a.y, b.y));\r\n        case FlowGraphTypes.Vector3:\r\n            a = a as Vector3;\r\n            b = b as Vector3;\r\n            return new Vector3(op(a.x, b.x), op(a.y, b.y), op(a.z, b.z));\r\n        case FlowGraphTypes.Vector4:\r\n            a = a as Vector4;\r\n            b = b as Vector4;\r\n            return new Vector4(op(a.x, b.x), op(a.y, b.y), op(a.z, b.z), op(a.w, b.w));\r\n        case FlowGraphTypes.Quaternion:\r\n            a = a as Quaternion;\r\n            b = b as Quaternion;\r\n            return new Quaternion(op(a.x, b.x), op(a.y, b.y), op(a.z, b.z), op(a.w, b.w));\r\n        case FlowGraphTypes.Matrix:\r\n            a = a as Matrix;\r\n            return Matrix.FromArray(a.m.map((v, i) => op(v, (b as Matrix).m[i])));\r\n        case FlowGraphTypes.Matrix2D:\r\n            a = a as FlowGraphMatrix2D;\r\n            return new FlowGraphMatrix2D(a.m.map((v, i) => op(v, (b as FlowGraphMatrix2D).m[i])));\r\n        case FlowGraphTypes.Matrix3D:\r\n            a = a as FlowGraphMatrix3D;\r\n            return new FlowGraphMatrix3D(a.m.map((v, i) => op(v, (b as FlowGraphMatrix3D).m[i])));\r\n        default:\r\n            return op(getNumericValue(a as number), getNumericValue(b as number));\r\n    }\r\n}\r\n\r\n/**\r\n * Remainder block.\r\n */\r\nexport class FlowGraphModuloBlock extends FlowGraphBinaryOperationBlock<FlowGraphMathOperationType, FlowGraphMathOperationType, FlowGraphMathOperationType> {\r\n    constructor(config?: IFlowGraphBlockConfiguration) {\r\n        super(RichTypeAny, RichTypeAny, RichTypeAny, (a, b) => this._polymorphicRemainder(a, b), FlowGraphBlockNames.Modulo, config);\r\n    }\r\n\r\n    private _polymorphicRemainder(a: FlowGraphMathOperationType, b: FlowGraphMathOperationType) {\r\n        return ComponentWiseBinaryOperation(a, b, (a, b) => a % b);\r\n    }\r\n}\r\nRegisterClass(FlowGraphBlockNames.Modulo, FlowGraphModuloBlock);\r\n\r\n/**\r\n * Min block.\r\n */\r\nexport class FlowGraphMinBlock extends FlowGraphBinaryOperationBlock<FlowGraphMathOperationType, FlowGraphMathOperationType, FlowGraphMathOperationType> {\r\n    constructor(config?: IFlowGraphBlockConfiguration) {\r\n        super(RichTypeAny, RichTypeAny, RichTypeAny, (a, b) => this._polymorphicMin(a, b), FlowGraphBlockNames.Min, config);\r\n    }\r\n\r\n    private _polymorphicMin(a: FlowGraphMathOperationType, b: FlowGraphMathOperationType) {\r\n        return ComponentWiseBinaryOperation(a, b, Math.min);\r\n    }\r\n}\r\nRegisterClass(FlowGraphBlockNames.Min, FlowGraphMinBlock);\r\n\r\n/**\r\n * Max block\r\n */\r\nexport class FlowGraphMaxBlock extends FlowGraphBinaryOperationBlock<FlowGraphMathOperationType, FlowGraphMathOperationType, FlowGraphMathOperationType> {\r\n    constructor(config?: IFlowGraphBlockConfiguration) {\r\n        super(RichTypeAny, RichTypeAny, RichTypeAny, (a, b) => this._polymorphicMax(a, b), FlowGraphBlockNames.Max, config);\r\n    }\r\n\r\n    private _polymorphicMax(a: FlowGraphMathOperationType, b: FlowGraphMathOperationType) {\r\n        return ComponentWiseBinaryOperation(a, b, Math.max);\r\n    }\r\n}\r\nRegisterClass(FlowGraphBlockNames.Max, FlowGraphMaxBlock);\r\n\r\nfunction Clamp(a: number, b: number, c: number) {\r\n    return Math.min(Math.max(a, Math.min(b, c)), Math.max(b, c));\r\n}\r\n\r\nfunction ComponentWiseTernaryOperation(\r\n    a: FlowGraphMathOperationType,\r\n    b: FlowGraphMathOperationType,\r\n    c: FlowGraphMathOperationType,\r\n    op: (a: number, b: number, c: number) => number\r\n) {\r\n    const aClassName = _GetClassNameOf(a);\r\n    switch (aClassName) {\r\n        case \"FlowGraphInteger\":\r\n            a = a as FlowGraphInteger;\r\n            b = b as FlowGraphInteger;\r\n            c = c as FlowGraphInteger;\r\n            return new FlowGraphInteger(op(a.value, b.value, c.value));\r\n        case FlowGraphTypes.Vector2:\r\n            a = a as Vector2;\r\n            b = b as Vector2;\r\n            c = c as Vector2;\r\n            return new Vector2(op(a.x, b.x, c.x), op(a.y, b.y, c.y));\r\n        case FlowGraphTypes.Vector3:\r\n            a = a as Vector3;\r\n            b = b as Vector3;\r\n            c = c as Vector3;\r\n            return new Vector3(op(a.x, b.x, c.x), op(a.y, b.y, c.y), op(a.z, b.z, c.z));\r\n        case FlowGraphTypes.Vector4:\r\n            a = a as Vector4;\r\n            b = b as Vector4;\r\n            c = c as Vector4;\r\n            return new Vector4(op(a.x, b.x, c.x), op(a.y, b.y, c.y), op(a.z, b.z, c.z), op(a.w, b.w, c.w));\r\n        case FlowGraphTypes.Quaternion:\r\n            a = a as Quaternion;\r\n            b = b as Quaternion;\r\n            c = c as Quaternion;\r\n            return new Quaternion(op(a.x, b.x, c.x), op(a.y, b.y, c.y), op(a.z, b.z, c.z), op(a.w, b.w, c.w));\r\n        case FlowGraphTypes.Matrix:\r\n            return Matrix.FromArray((a as Matrix).m.map((v, i) => op(v, (b as Matrix).m[i], (c as Matrix).m[i])));\r\n        case FlowGraphTypes.Matrix2D:\r\n            return new FlowGraphMatrix2D((a as FlowGraphMatrix2D).m.map((v, i) => op(v, (b as FlowGraphMatrix2D).m[i], (c as FlowGraphMatrix2D).m[i])));\r\n        case FlowGraphTypes.Matrix3D:\r\n            return new FlowGraphMatrix3D((a as FlowGraphMatrix3D).m.map((v, i) => op(v, (b as FlowGraphMatrix3D).m[i], (c as FlowGraphMatrix3D).m[i])));\r\n        default:\r\n            return op(getNumericValue(a as number), getNumericValue(b as number), getNumericValue(c as number));\r\n    }\r\n}\r\n\r\n/**\r\n * Clamp block.\r\n */\r\nexport class FlowGraphClampBlock extends FlowGraphTernaryOperationBlock<\r\n    FlowGraphMathOperationType,\r\n    FlowGraphMathOperationType,\r\n    FlowGraphMathOperationType,\r\n    FlowGraphMathOperationType\r\n> {\r\n    constructor(config?: IFlowGraphBlockConfiguration) {\r\n        super(RichTypeAny, RichTypeAny, RichTypeAny, RichTypeAny, (a, b, c) => this._polymorphicClamp(a, b, c), FlowGraphBlockNames.Clamp, config);\r\n    }\r\n\r\n    private _polymorphicClamp(a: FlowGraphMathOperationType, b: FlowGraphMathOperationType, c: FlowGraphMathOperationType) {\r\n        return ComponentWiseTernaryOperation(a, b, c, Clamp);\r\n    }\r\n}\r\nRegisterClass(FlowGraphBlockNames.Clamp, FlowGraphClampBlock);\r\n\r\nfunction Saturate(a: number): number {\r\n    return Math.min(Math.max(a, 0), 1);\r\n}\r\n\r\n/**\r\n * Saturate block.\r\n */\r\nexport class FlowGraphSaturateBlock extends FlowGraphUnaryOperationBlock<FlowGraphMathOperationType, FlowGraphMathOperationType> {\r\n    constructor(config?: IFlowGraphBlockConfiguration) {\r\n        super(RichTypeAny, RichTypeAny, (a) => this._polymorphicSaturate(a), FlowGraphBlockNames.Saturate, config);\r\n    }\r\n\r\n    private _polymorphicSaturate(a: FlowGraphMathOperationType) {\r\n        return ComponentWiseUnaryOperation(a, Saturate);\r\n    }\r\n}\r\nRegisterClass(FlowGraphBlockNames.Saturate, FlowGraphSaturateBlock);\r\n\r\nfunction Interpolate(a: number, b: number, c: number) {\r\n    return (1 - c) * a + c * b;\r\n}\r\n\r\n/**\r\n * Interpolate block.\r\n */\r\nexport class FlowGraphMathInterpolationBlock extends FlowGraphTernaryOperationBlock<\r\n    FlowGraphMathOperationType,\r\n    FlowGraphMathOperationType,\r\n    FlowGraphMathOperationType,\r\n    FlowGraphMathOperationType\r\n> {\r\n    constructor(config?: IFlowGraphBlockConfiguration) {\r\n        super(RichTypeAny, RichTypeAny, RichTypeAny, RichTypeAny, (a, b, c) => this._polymorphicInterpolate(a, b, c), FlowGraphBlockNames.MathInterpolation, config);\r\n    }\r\n\r\n    private _polymorphicInterpolate(a: FlowGraphMathOperationType, b: FlowGraphMathOperationType, c: FlowGraphMathOperationType) {\r\n        return ComponentWiseTernaryOperation(a, b, c, Interpolate);\r\n    }\r\n}\r\nRegisterClass(FlowGraphBlockNames.MathInterpolation, FlowGraphMathInterpolationBlock);\r\n\r\n/**\r\n * Equals block.\r\n */\r\nexport class FlowGraphEqualityBlock extends FlowGraphBinaryOperationBlock<FlowGraphMathOperationType, FlowGraphMathOperationType, boolean> {\r\n    constructor(config?: IFlowGraphBlockConfiguration) {\r\n        super(RichTypeAny, RichTypeAny, RichTypeBoolean, (a, b) => this._polymorphicEq(a, b), FlowGraphBlockNames.Equality, config);\r\n    }\r\n\r\n    private _polymorphicEq(a: FlowGraphMathOperationType, b: FlowGraphMathOperationType) {\r\n        const aClassName = _GetClassNameOf(a);\r\n        const bClassName = _GetClassNameOf(b);\r\n        if (typeof a !== typeof b) {\r\n            return false;\r\n        }\r\n        if (_AreSameVectorOrQuaternionClass(aClassName, bClassName) || _AreSameMatrixClass(aClassName, bClassName) || _AreSameIntegerClass(aClassName, bClassName)) {\r\n            return (a as Vector3).equals(b as Vector3);\r\n        } else {\r\n            return a === b;\r\n        }\r\n    }\r\n}\r\nRegisterClass(FlowGraphBlockNames.Equality, FlowGraphEqualityBlock);\r\n\r\nfunction ComparisonOperators(a: FlowGraphNumber, b: FlowGraphNumber, op: (a: number, b: number) => boolean) {\r\n    if (isNumeric(a) && isNumeric(b)) {\r\n        return op(getNumericValue(a), getNumericValue(b));\r\n    } else {\r\n        throw new Error(`Cannot compare ${a} and ${b}`);\r\n    }\r\n}\r\n\r\n/**\r\n * Less than block.\r\n */\r\nexport class FlowGraphLessThanBlock extends FlowGraphBinaryOperationBlock<FlowGraphNumber, FlowGraphNumber, boolean> {\r\n    constructor(config?: IFlowGraphBlockConfiguration) {\r\n        super(RichTypeAny, RichTypeAny, RichTypeBoolean, (a, b) => this._polymorphicLessThan(a, b), FlowGraphBlockNames.LessThan, config);\r\n    }\r\n\r\n    private _polymorphicLessThan(a: FlowGraphNumber, b: FlowGraphNumber) {\r\n        return ComparisonOperators(a, b, (a, b) => a < b);\r\n    }\r\n}\r\nRegisterClass(FlowGraphBlockNames.LessThan, FlowGraphLessThanBlock);\r\n\r\n/**\r\n * Less than or equal block.\r\n */\r\nexport class FlowGraphLessThanOrEqualBlock extends FlowGraphBinaryOperationBlock<FlowGraphNumber, FlowGraphNumber, boolean> {\r\n    constructor(config?: IFlowGraphBlockConfiguration) {\r\n        super(RichTypeAny, RichTypeAny, RichTypeBoolean, (a, b) => this._polymorphicLessThanOrEqual(a, b), FlowGraphBlockNames.LessThanOrEqual, config);\r\n    }\r\n\r\n    private _polymorphicLessThanOrEqual(a: FlowGraphNumber, b: FlowGraphNumber) {\r\n        return ComparisonOperators(a, b, (a, b) => a <= b);\r\n    }\r\n}\r\n\r\nRegisterClass(FlowGraphBlockNames.LessThanOrEqual, FlowGraphLessThanOrEqualBlock);\r\n\r\n/**\r\n * Greater than block.\r\n */\r\nexport class FlowGraphGreaterThanBlock extends FlowGraphBinaryOperationBlock<FlowGraphNumber, FlowGraphNumber, boolean> {\r\n    constructor(config?: IFlowGraphBlockConfiguration) {\r\n        super(RichTypeAny, RichTypeAny, RichTypeBoolean, (a, b) => this._polymorphicGreaterThan(a, b), FlowGraphBlockNames.GreaterThan, config);\r\n    }\r\n\r\n    private _polymorphicGreaterThan(a: FlowGraphNumber, b: FlowGraphNumber) {\r\n        return ComparisonOperators(a, b, (a, b) => a > b);\r\n    }\r\n}\r\n\r\nRegisterClass(FlowGraphBlockNames.GreaterThan, FlowGraphGreaterThanBlock);\r\n\r\n/**\r\n * Greater than or equal block.\r\n */\r\nexport class FlowGraphGreaterThanOrEqualBlock extends FlowGraphBinaryOperationBlock<FlowGraphNumber, FlowGraphNumber, boolean> {\r\n    constructor(config?: IFlowGraphBlockConfiguration) {\r\n        super(RichTypeAny, RichTypeAny, RichTypeBoolean, (a, b) => this._polymorphicGreaterThanOrEqual(a, b), FlowGraphBlockNames.GreaterThanOrEqual, config);\r\n    }\r\n\r\n    private _polymorphicGreaterThanOrEqual(a: FlowGraphNumber, b: FlowGraphNumber) {\r\n        return ComparisonOperators(a, b, (a, b) => a >= b);\r\n    }\r\n}\r\nRegisterClass(FlowGraphBlockNames.GreaterThanOrEqual, FlowGraphGreaterThanOrEqualBlock);\r\n\r\n/**\r\n * Is NaN block.\r\n */\r\nexport class FlowGraphIsNanBlock extends FlowGraphUnaryOperationBlock<FlowGraphNumber, boolean> {\r\n    constructor(config?: IFlowGraphBlockConfiguration) {\r\n        super(RichTypeAny, RichTypeBoolean, (a) => this._polymorphicIsNan(a), FlowGraphBlockNames.IsNaN, config);\r\n    }\r\n\r\n    private _polymorphicIsNan(a: FlowGraphNumber) {\r\n        if (isNumeric(a, true)) {\r\n            return isNaN(getNumericValue(a));\r\n        } else {\r\n            throw new Error(`Cannot get NaN of ${a}`);\r\n        }\r\n    }\r\n}\r\nRegisterClass(FlowGraphBlockNames.IsNaN, FlowGraphIsNanBlock);\r\n\r\n/**\r\n * Is Inf block.\r\n */\r\nexport class FlowGraphIsInfinityBlock extends FlowGraphUnaryOperationBlock<FlowGraphNumber, boolean> {\r\n    constructor(config?: IFlowGraphBlockConfiguration) {\r\n        super(RichTypeAny, RichTypeBoolean, (a) => this._polymorphicIsInf(a), FlowGraphBlockNames.IsInfinity, config);\r\n    }\r\n\r\n    private _polymorphicIsInf(a: FlowGraphNumber) {\r\n        if (isNumeric(a)) {\r\n            return !isFinite(getNumericValue(a));\r\n        } else {\r\n            throw new Error(`Cannot get isInf of ${a}`);\r\n        }\r\n    }\r\n}\r\n\r\nRegisterClass(FlowGraphBlockNames.IsInfinity, FlowGraphIsInfinityBlock);\r\n\r\n/**\r\n * Convert degrees to radians block.\r\n */\r\nexport class FlowGraphDegToRadBlock extends FlowGraphUnaryOperationBlock<FlowGraphMathOperationType, FlowGraphMathOperationType> {\r\n    /**\r\n     * Constructs a new instance of the flow graph math block.\r\n     * @param config - Optional configuration for the flow graph block.\r\n     */\r\n    constructor(config?: IFlowGraphBlockConfiguration) {\r\n        super(RichTypeAny, RichTypeAny, (a) => this._polymorphicDegToRad(a), FlowGraphBlockNames.DegToRad, config);\r\n    }\r\n\r\n    private _degToRad(a: number) {\r\n        return (a * Math.PI) / 180;\r\n    }\r\n\r\n    private _polymorphicDegToRad(a: FlowGraphMathOperationType) {\r\n        return ComponentWiseUnaryOperation(a, this._degToRad);\r\n    }\r\n}\r\n\r\nRegisterClass(FlowGraphBlockNames.DegToRad, FlowGraphDegToRadBlock);\r\n\r\n/**\r\n * Convert radians to degrees block.\r\n */\r\nexport class FlowGraphRadToDegBlock extends FlowGraphUnaryOperationBlock<FlowGraphMathOperationType, FlowGraphMathOperationType> {\r\n    constructor(config?: IFlowGraphBlockConfiguration) {\r\n        super(RichTypeAny, RichTypeAny, (a) => this._polymorphicRadToDeg(a), FlowGraphBlockNames.RadToDeg, config);\r\n    }\r\n\r\n    private _radToDeg(a: number) {\r\n        return (a * 180) / Math.PI;\r\n    }\r\n\r\n    private _polymorphicRadToDeg(a: FlowGraphMathOperationType) {\r\n        return ComponentWiseUnaryOperation(a, this._radToDeg);\r\n    }\r\n}\r\nRegisterClass(FlowGraphBlockNames.RadToDeg, FlowGraphRadToDegBlock);\r\n\r\n/**\r\n * Sin block.\r\n */\r\nexport class FlowGraphSinBlock extends FlowGraphUnaryOperationBlock<FlowGraphMathOperationType, FlowGraphMathOperationType> {\r\n    constructor(config?: IFlowGraphBlockConfiguration) {\r\n        super(RichTypeNumber, RichTypeNumber, (a) => this._polymorphicSin(a), FlowGraphBlockNames.Sin, config);\r\n    }\r\n\r\n    private _polymorphicSin(a: FlowGraphMathOperationType) {\r\n        return ComponentWiseUnaryOperation(a, Math.sin);\r\n    }\r\n}\r\n\r\n/**\r\n * Cos block.\r\n */\r\nexport class FlowGraphCosBlock extends FlowGraphUnaryOperationBlock<FlowGraphMathOperationType, FlowGraphMathOperationType> {\r\n    constructor(config?: IFlowGraphBlockConfiguration) {\r\n        super(RichTypeNumber, RichTypeNumber, (a) => this._polymorphicCos(a), FlowGraphBlockNames.Cos, config);\r\n    }\r\n\r\n    private _polymorphicCos(a: FlowGraphMathOperationType) {\r\n        return ComponentWiseUnaryOperation(a, Math.cos);\r\n    }\r\n}\r\n\r\n/**\r\n * Tan block.\r\n */\r\nexport class FlowGraphTanBlock extends FlowGraphUnaryOperationBlock<FlowGraphMathOperationType, FlowGraphMathOperationType> {\r\n    constructor(config?: IFlowGraphBlockConfiguration) {\r\n        super(RichTypeNumber, RichTypeNumber, (a) => this._polymorphicTan(a), FlowGraphBlockNames.Tan, config);\r\n    }\r\n\r\n    private _polymorphicTan(a: FlowGraphMathOperationType) {\r\n        return ComponentWiseUnaryOperation(a, Math.tan);\r\n    }\r\n}\r\n\r\n/**\r\n * Arcsin block.\r\n */\r\nexport class FlowGraphAsinBlock extends FlowGraphUnaryOperationBlock<FlowGraphMathOperationType, FlowGraphMathOperationType> {\r\n    constructor(config?: IFlowGraphBlockConfiguration) {\r\n        super(RichTypeNumber, RichTypeNumber, (a) => this._polymorphicAsin(a), FlowGraphBlockNames.Asin, config);\r\n    }\r\n\r\n    private _polymorphicAsin(a: FlowGraphMathOperationType) {\r\n        return ComponentWiseUnaryOperation(a, Math.asin);\r\n    }\r\n}\r\nRegisterClass(FlowGraphBlockNames.Asin, FlowGraphAsinBlock);\r\n\r\n/**\r\n * Arccos block.\r\n */\r\nexport class FlowGraphAcosBlock extends FlowGraphUnaryOperationBlock<FlowGraphMathOperationType, FlowGraphMathOperationType> {\r\n    constructor(config?: IFlowGraphBlockConfiguration) {\r\n        super(RichTypeNumber, RichTypeNumber, (a) => this._polymorphicAcos(a), FlowGraphBlockNames.Acos, config);\r\n    }\r\n\r\n    private _polymorphicAcos(a: FlowGraphMathOperationType) {\r\n        return ComponentWiseUnaryOperation(a, Math.acos);\r\n    }\r\n}\r\nRegisterClass(FlowGraphBlockNames.Acos, FlowGraphAcosBlock);\r\n\r\n/**\r\n * Arctan block.\r\n */\r\nexport class FlowGraphAtanBlock extends FlowGraphUnaryOperationBlock<FlowGraphMathOperationType, FlowGraphMathOperationType> {\r\n    constructor(config?: IFlowGraphBlockConfiguration) {\r\n        super(RichTypeNumber, RichTypeNumber, (a) => this._polymorphicAtan(a), FlowGraphBlockNames.Atan, config);\r\n    }\r\n\r\n    private _polymorphicAtan(a: FlowGraphMathOperationType) {\r\n        return ComponentWiseUnaryOperation(a, Math.atan);\r\n    }\r\n}\r\nRegisterClass(FlowGraphBlockNames.Atan, FlowGraphAtanBlock);\r\n\r\n/**\r\n * Arctan2 block.\r\n */\r\nexport class FlowGraphAtan2Block extends FlowGraphBinaryOperationBlock<FlowGraphMathOperationType, FlowGraphMathOperationType, FlowGraphMathOperationType> {\r\n    constructor(config?: IFlowGraphBlockConfiguration) {\r\n        super(RichTypeAny, RichTypeAny, RichTypeAny, (a, b) => this._polymorphicAtan2(a, b), FlowGraphBlockNames.Atan2, config);\r\n    }\r\n\r\n    private _polymorphicAtan2(a: any, b: any) {\r\n        return ComponentWiseBinaryOperation(a, b, Math.atan2);\r\n    }\r\n}\r\nRegisterClass(FlowGraphBlockNames.Atan2, FlowGraphAtan2Block);\r\n\r\n/**\r\n * Hyperbolic sin block.\r\n */\r\nexport class FlowGraphSinhBlock extends FlowGraphUnaryOperationBlock<FlowGraphMathOperationType, FlowGraphMathOperationType> {\r\n    constructor(config?: IFlowGraphBlockConfiguration) {\r\n        super(RichTypeAny, RichTypeAny, (a) => this._polymorphicSinh(a), FlowGraphBlockNames.Sinh, config);\r\n    }\r\n\r\n    private _polymorphicSinh(a: FlowGraphMathOperationType) {\r\n        return ComponentWiseUnaryOperation(a, Math.sinh);\r\n    }\r\n}\r\nRegisterClass(FlowGraphBlockNames.Sinh, FlowGraphSinhBlock);\r\n\r\n/**\r\n * Hyperbolic cos block.\r\n */\r\nexport class FlowGraphCoshBlock extends FlowGraphUnaryOperationBlock<FlowGraphMathOperationType, FlowGraphMathOperationType> {\r\n    constructor(config?: IFlowGraphBlockConfiguration) {\r\n        super(RichTypeAny, RichTypeAny, (a) => this._polymorphicCosh(a), FlowGraphBlockNames.Cosh, config);\r\n    }\r\n\r\n    private _polymorphicCosh(a: FlowGraphMathOperationType) {\r\n        return ComponentWiseUnaryOperation(a, Math.cosh);\r\n    }\r\n}\r\nRegisterClass(FlowGraphBlockNames.Cosh, FlowGraphCoshBlock);\r\n\r\n/**\r\n * Hyperbolic tan block.\r\n */\r\nexport class FlowGraphTanhBlock extends FlowGraphUnaryOperationBlock<FlowGraphMathOperationType, FlowGraphMathOperationType> {\r\n    constructor(config?: IFlowGraphBlockConfiguration) {\r\n        super(RichTypeAny, RichTypeAny, (a) => this._polymorphicTanh(a), FlowGraphBlockNames.Tanh, config);\r\n    }\r\n\r\n    private _polymorphicTanh(a: FlowGraphMathOperationType) {\r\n        return ComponentWiseUnaryOperation(a, Math.tanh);\r\n    }\r\n}\r\nRegisterClass(FlowGraphBlockNames.Tanh, FlowGraphTanhBlock);\r\n\r\n/**\r\n * Hyperbolic arcsin block.\r\n */\r\nexport class FlowGraphAsinhBlock extends FlowGraphUnaryOperationBlock<FlowGraphMathOperationType, FlowGraphMathOperationType> {\r\n    constructor(config?: IFlowGraphBlockConfiguration) {\r\n        super(RichTypeAny, RichTypeNumber, (a) => this._polymorphicAsinh(a), FlowGraphBlockNames.Asinh, config);\r\n    }\r\n\r\n    private _polymorphicAsinh(a: FlowGraphMathOperationType) {\r\n        return ComponentWiseUnaryOperation(a, Math.asinh);\r\n    }\r\n}\r\nRegisterClass(FlowGraphBlockNames.Asinh, FlowGraphAsinhBlock);\r\n\r\n/**\r\n * Hyperbolic arccos block.\r\n */\r\nexport class FlowGraphAcoshBlock extends FlowGraphUnaryOperationBlock<FlowGraphMathOperationType, FlowGraphMathOperationType> {\r\n    constructor(config?: IFlowGraphBlockConfiguration) {\r\n        super(RichTypeAny, RichTypeNumber, (a) => this._polymorphicAcosh(a), FlowGraphBlockNames.Acosh, config);\r\n    }\r\n\r\n    private _polymorphicAcosh(a: FlowGraphMathOperationType) {\r\n        return ComponentWiseUnaryOperation(a, Math.acosh);\r\n    }\r\n}\r\nRegisterClass(FlowGraphBlockNames.Acosh, FlowGraphAcoshBlock);\r\n\r\n/**\r\n * Hyperbolic arctan block.\r\n */\r\nexport class FlowGraphAtanhBlock extends FlowGraphUnaryOperationBlock<FlowGraphMathOperationType, FlowGraphMathOperationType> {\r\n    constructor(config?: IFlowGraphBlockConfiguration) {\r\n        super(RichTypeAny, RichTypeNumber, (a) => this._polymorphicAtanh(a), FlowGraphBlockNames.Atanh, config);\r\n    }\r\n\r\n    private _polymorphicAtanh(a: FlowGraphMathOperationType) {\r\n        return ComponentWiseUnaryOperation(a, Math.atanh);\r\n    }\r\n}\r\nRegisterClass(FlowGraphBlockNames.Atanh, FlowGraphAtanhBlock);\r\n\r\n/**\r\n * Exponential block.\r\n */\r\nexport class FlowGraphExpBlock extends FlowGraphUnaryOperationBlock<FlowGraphMathOperationType, FlowGraphMathOperationType> {\r\n    constructor(config?: IFlowGraphBlockConfiguration) {\r\n        super(RichTypeAny, RichTypeNumber, (a) => this._polymorphicExp(a), FlowGraphBlockNames.Exponential, config);\r\n    }\r\n\r\n    private _polymorphicExp(a: FlowGraphMathOperationType) {\r\n        return ComponentWiseUnaryOperation(a, Math.exp);\r\n    }\r\n}\r\nRegisterClass(FlowGraphBlockNames.Exponential, FlowGraphExpBlock);\r\n\r\n/**\r\n * Logarithm block.\r\n */\r\nexport class FlowGraphLogBlock extends FlowGraphUnaryOperationBlock<FlowGraphMathOperationType, FlowGraphMathOperationType> {\r\n    constructor(config?: IFlowGraphBlockConfiguration) {\r\n        super(RichTypeAny, RichTypeNumber, (a) => this._polymorphicLog(a), FlowGraphBlockNames.Log, config);\r\n    }\r\n\r\n    private _polymorphicLog(a: FlowGraphMathOperationType) {\r\n        return ComponentWiseUnaryOperation(a, Math.log);\r\n    }\r\n}\r\nRegisterClass(FlowGraphBlockNames.Log, FlowGraphLogBlock);\r\n\r\n/**\r\n * Base 2 logarithm block.\r\n */\r\nexport class FlowGraphLog2Block extends FlowGraphUnaryOperationBlock<FlowGraphMathOperationType, FlowGraphMathOperationType> {\r\n    constructor(config?: IFlowGraphBlockConfiguration) {\r\n        super(RichTypeAny, RichTypeNumber, (a) => this._polymorphicLog2(a), FlowGraphBlockNames.Log2, config);\r\n    }\r\n\r\n    private _polymorphicLog2(a: FlowGraphMathOperationType) {\r\n        return ComponentWiseUnaryOperation(a, Math.log2);\r\n    }\r\n}\r\nRegisterClass(FlowGraphBlockNames.Log2, FlowGraphLog2Block);\r\n\r\n/**\r\n * Base 10 logarithm block.\r\n */\r\nexport class FlowGraphLog10Block extends FlowGraphUnaryOperationBlock<FlowGraphMathOperationType, FlowGraphMathOperationType> {\r\n    constructor(config?: IFlowGraphBlockConfiguration) {\r\n        super(RichTypeAny, RichTypeNumber, (a) => this._polymorphicLog10(a), FlowGraphBlockNames.Log10, config);\r\n    }\r\n\r\n    private _polymorphicLog10(a: FlowGraphMathOperationType) {\r\n        return ComponentWiseUnaryOperation(a, Math.log10);\r\n    }\r\n}\r\nRegisterClass(FlowGraphBlockNames.Log10, FlowGraphLog10Block);\r\n\r\n/**\r\n * Square root block.\r\n */\r\nexport class FlowGraphSquareRootBlock extends FlowGraphUnaryOperationBlock<FlowGraphMathOperationType, FlowGraphMathOperationType> {\r\n    constructor(config?: IFlowGraphBlockConfiguration) {\r\n        super(RichTypeAny, RichTypeNumber, (a) => this._polymorphicSqrt(a), FlowGraphBlockNames.SquareRoot, config);\r\n    }\r\n\r\n    private _polymorphicSqrt(a: FlowGraphMathOperationType) {\r\n        return ComponentWiseUnaryOperation(a, Math.sqrt);\r\n    }\r\n}\r\nRegisterClass(FlowGraphBlockNames.SquareRoot, FlowGraphSquareRootBlock);\r\n\r\n/**\r\n * Cube root block.\r\n */\r\nexport class FlowGraphCubeRootBlock extends FlowGraphUnaryOperationBlock<FlowGraphMathOperationType, FlowGraphMathOperationType> {\r\n    constructor(config?: IFlowGraphBlockConfiguration) {\r\n        super(RichTypeAny, RichTypeNumber, (a) => this._polymorphicCubeRoot(a), FlowGraphBlockNames.CubeRoot, config);\r\n    }\r\n\r\n    private _polymorphicCubeRoot(a: FlowGraphMathOperationType) {\r\n        return ComponentWiseUnaryOperation(a, Math.cbrt);\r\n    }\r\n}\r\nRegisterClass(FlowGraphBlockNames.CubeRoot, FlowGraphCubeRootBlock);\r\n\r\n/**\r\n * Power block.\r\n */\r\nexport class FlowGraphPowerBlock extends FlowGraphBinaryOperationBlock<FlowGraphMathOperationType, FlowGraphMathOperationType, FlowGraphMathOperationType> {\r\n    constructor(config?: IFlowGraphBlockConfiguration) {\r\n        super(RichTypeAny, RichTypeNumber, RichTypeNumber, (a, b) => this._polymorphicPow(a, b), FlowGraphBlockNames.Power, config);\r\n    }\r\n\r\n    private _polymorphicPow(a: FlowGraphMathOperationType, b: FlowGraphMathOperationType) {\r\n        return ComponentWiseBinaryOperation(a, b, Math.pow);\r\n    }\r\n}\r\n\r\nRegisterClass(FlowGraphBlockNames.Power, FlowGraphPowerBlock);\r\n\r\n/**\r\n * Configuration for bitwise operators\r\n */\r\nexport interface IFlowGraphBitwiseBlockConfiguration extends IFlowGraphBlockConfiguration {\r\n    /**\r\n     * The type of the values that will be operated on\r\n     * Defaults to FlowGraphInteger, but can be a number or boolean as well.\r\n     */\r\n    valueType: FlowGraphTypes;\r\n}\r\n\r\ntype FlowGraphBitwiseTypes = FlowGraphInteger | FlowGraphNumber | boolean;\r\n/**\r\n * Bitwise NOT operation\r\n */\r\nexport class FlowGraphBitwiseNotBlock extends FlowGraphUnaryOperationBlock<FlowGraphBitwiseTypes, FlowGraphBitwiseTypes> {\r\n    constructor(config?: IFlowGraphBitwiseBlockConfiguration) {\r\n        super(\r\n            getRichTypeByFlowGraphType(config?.valueType || FlowGraphTypes.Integer),\r\n            getRichTypeByFlowGraphType(config?.valueType || FlowGraphTypes.Integer),\r\n            (a) => {\r\n                if (typeof a === \"boolean\") {\r\n                    return !a;\r\n                } else if (typeof a === \"number\") {\r\n                    return ~a;\r\n                }\r\n                return new FlowGraphInteger(~a.value);\r\n            },\r\n            FlowGraphBlockNames.BitwiseNot,\r\n            config\r\n        );\r\n    }\r\n}\r\nRegisterClass(FlowGraphBlockNames.BitwiseNot, FlowGraphBitwiseNotBlock);\r\n\r\n/**\r\n * Bitwise AND operation\r\n */\r\nexport class FlowGraphBitwiseAndBlock extends FlowGraphBinaryOperationBlock<FlowGraphBitwiseTypes, FlowGraphBitwiseTypes, FlowGraphBitwiseTypes> {\r\n    constructor(config?: IFlowGraphBitwiseBlockConfiguration) {\r\n        super(\r\n            getRichTypeByFlowGraphType(config?.valueType || FlowGraphTypes.Integer),\r\n            getRichTypeByFlowGraphType(config?.valueType || FlowGraphTypes.Integer),\r\n            getRichTypeByFlowGraphType(config?.valueType || FlowGraphTypes.Integer),\r\n            (a, b) => {\r\n                if (typeof a === \"boolean\" && typeof b === \"boolean\") {\r\n                    return a && b;\r\n                } else if (typeof a === \"number\" && typeof b === \"number\") {\r\n                    return a & b;\r\n                } else if (typeof a === \"object\" && typeof b === \"object\") {\r\n                    return new FlowGraphInteger(a.value & b.value);\r\n                } else {\r\n                    throw new Error(`Cannot perform bitwise AND on ${a} and ${b}`);\r\n                }\r\n            },\r\n            FlowGraphBlockNames.BitwiseAnd,\r\n            config\r\n        );\r\n    }\r\n}\r\n\r\nRegisterClass(FlowGraphBlockNames.BitwiseAnd, FlowGraphBitwiseAndBlock);\r\n\r\n/**\r\n * Bitwise OR operation\r\n */\r\nexport class FlowGraphBitwiseOrBlock extends FlowGraphBinaryOperationBlock<FlowGraphBitwiseTypes, FlowGraphBitwiseTypes, FlowGraphBitwiseTypes> {\r\n    constructor(config?: IFlowGraphBitwiseBlockConfiguration) {\r\n        super(\r\n            getRichTypeByFlowGraphType(config?.valueType || FlowGraphTypes.Integer),\r\n            getRichTypeByFlowGraphType(config?.valueType || FlowGraphTypes.Integer),\r\n            getRichTypeByFlowGraphType(config?.valueType || FlowGraphTypes.Integer),\r\n            (a, b) => {\r\n                if (typeof a === \"boolean\" && typeof b === \"boolean\") {\r\n                    return a || b;\r\n                } else if (typeof a === \"number\" && typeof b === \"number\") {\r\n                    return a | b;\r\n                } else if (typeof a === \"object\" && typeof b === \"object\") {\r\n                    return new FlowGraphInteger(a.value | b.value);\r\n                } else {\r\n                    throw new Error(`Cannot perform bitwise OR on ${a} and ${b}`);\r\n                }\r\n            },\r\n            FlowGraphBlockNames.BitwiseOr,\r\n            config\r\n        );\r\n    }\r\n}\r\nRegisterClass(FlowGraphBlockNames.BitwiseOr, FlowGraphBitwiseOrBlock);\r\n\r\n/**\r\n * Bitwise XOR operation\r\n */\r\nexport class FlowGraphBitwiseXorBlock extends FlowGraphBinaryOperationBlock<FlowGraphBitwiseTypes, FlowGraphBitwiseTypes, FlowGraphBitwiseTypes> {\r\n    constructor(config?: IFlowGraphBlockConfiguration) {\r\n        super(\r\n            getRichTypeByFlowGraphType(config?.valueType || FlowGraphTypes.Integer),\r\n            getRichTypeByFlowGraphType(config?.valueType || FlowGraphTypes.Integer),\r\n            getRichTypeByFlowGraphType(config?.valueType || FlowGraphTypes.Integer),\r\n            (a, b) => {\r\n                if (typeof a === \"boolean\" && typeof b === \"boolean\") {\r\n                    return a !== b;\r\n                } else if (typeof a === \"number\" && typeof b === \"number\") {\r\n                    return a ^ b;\r\n                } else if (typeof a === \"object\" && typeof b === \"object\") {\r\n                    return new FlowGraphInteger(a.value ^ b.value);\r\n                } else {\r\n                    throw new Error(`Cannot perform bitwise XOR on ${a} and ${b}`);\r\n                }\r\n            },\r\n            FlowGraphBlockNames.BitwiseXor,\r\n            config\r\n        );\r\n    }\r\n}\r\nRegisterClass(FlowGraphBlockNames.BitwiseXor, FlowGraphBitwiseXorBlock);\r\n\r\n/**\r\n * Bitwise left shift operation\r\n */\r\nexport class FlowGraphBitwiseLeftShiftBlock extends FlowGraphBinaryOperationBlock<FlowGraphInteger, FlowGraphInteger, FlowGraphInteger> {\r\n    constructor(config?: IFlowGraphBlockConfiguration) {\r\n        super(\r\n            RichTypeFlowGraphInteger,\r\n            RichTypeFlowGraphInteger,\r\n            RichTypeFlowGraphInteger,\r\n            (a, b) => new FlowGraphInteger(a.value << b.value),\r\n            FlowGraphBlockNames.BitwiseLeftShift,\r\n            config\r\n        );\r\n    }\r\n}\r\nRegisterClass(FlowGraphBlockNames.BitwiseLeftShift, FlowGraphBitwiseLeftShiftBlock);\r\n\r\n/**\r\n * Bitwise right shift operation\r\n */\r\nexport class FlowGraphBitwiseRightShiftBlock extends FlowGraphBinaryOperationBlock<FlowGraphInteger, FlowGraphInteger, FlowGraphInteger> {\r\n    constructor(config?: IFlowGraphBlockConfiguration) {\r\n        super(\r\n            RichTypeFlowGraphInteger,\r\n            RichTypeFlowGraphInteger,\r\n            RichTypeFlowGraphInteger,\r\n            (a, b) => new FlowGraphInteger(a.value >> b.value),\r\n            FlowGraphBlockNames.BitwiseRightShift,\r\n            config\r\n        );\r\n    }\r\n}\r\nRegisterClass(FlowGraphBlockNames.BitwiseRightShift, FlowGraphBitwiseRightShiftBlock);\r\n\r\n/**\r\n * Count leading zeros operation\r\n */\r\nexport class FlowGraphLeadingZerosBlock extends FlowGraphUnaryOperationBlock<FlowGraphInteger, FlowGraphInteger> {\r\n    constructor(config?: IFlowGraphBlockConfiguration) {\r\n        super(RichTypeFlowGraphInteger, RichTypeFlowGraphInteger, (a) => new FlowGraphInteger(Math.clz32(a.value)), FlowGraphBlockNames.LeadingZeros, config);\r\n    }\r\n}\r\nRegisterClass(FlowGraphBlockNames.LeadingZeros, FlowGraphLeadingZerosBlock);\r\n\r\n/**\r\n * Count trailing zeros operation\r\n */\r\nexport class FlowGraphTrailingZerosBlock extends FlowGraphUnaryOperationBlock<FlowGraphInteger, FlowGraphInteger> {\r\n    constructor(config?: IFlowGraphBlockConfiguration) {\r\n        super(\r\n            RichTypeFlowGraphInteger,\r\n            RichTypeFlowGraphInteger,\r\n            (a) => new FlowGraphInteger(a.value ? 31 - Math.clz32(a.value & -a.value) : 32),\r\n            FlowGraphBlockNames.TrailingZeros,\r\n            config\r\n        );\r\n    }\r\n}\r\nRegisterClass(FlowGraphBlockNames.TrailingZeros, FlowGraphTrailingZerosBlock);\r\n\r\n/**\r\n * Given a number (which is converted to a 32-bit integer), return the\r\n * number of bits set to one on that number.\r\n * @param n the number to run the op on\r\n * @returns the number of bits set to one on that number\r\n */\r\nfunction CountOnes(n: number) {\r\n    let result = 0;\r\n    while (n) {\r\n        // This zeroes out all bits except for the least significant one.\r\n        // So if the bit is set, it will be 1, otherwise it will be 0.\r\n        result += n & 1;\r\n        // This shifts n's bits to the right by one\r\n        n >>= 1;\r\n    }\r\n    return result;\r\n}\r\n\r\n/**\r\n * Count one bits operation\r\n */\r\nexport class FlowGraphOneBitsCounterBlock extends FlowGraphUnaryOperationBlock<FlowGraphInteger, FlowGraphInteger> {\r\n    constructor(config?: IFlowGraphBlockConfiguration) {\r\n        super(RichTypeFlowGraphInteger, RichTypeFlowGraphInteger, (a) => new FlowGraphInteger(CountOnes(a.value)), FlowGraphBlockNames.OneBitsCounter, config);\r\n    }\r\n}\r\nRegisterClass(FlowGraphBlockNames.OneBitsCounter, FlowGraphOneBitsCounterBlock);\r\n","import type { FlowGraphDataConnection } from \"../../flowGraphDataConnection\";\r\nimport type { RichType } from \"../../flowGraphRichTypes\";\r\nimport type { FlowGraphContext } from \"../../flowGraphContext\";\r\nimport type { IFlowGraphBlockConfiguration } from \"../../flowGraphBlock\";\r\nimport { FlowGraphCachedOperationBlock } from \"./flowGraphCachedOperationBlock\";\r\n/**\r\n * The base block for all binary operation blocks. Receives an input of type\r\n * LeftT, one of type RightT, and outputs a value of type ResultT.\r\n */\r\nexport class FlowGraphBinaryOperationBlock<LeftT, RightT, ResultT> extends FlowGraphCachedOperationBlock<ResultT> {\r\n    /**\r\n     * First input of this block\r\n     */\r\n    a: FlowGraphDataConnection<LeftT>;\r\n    /**\r\n     * Second input of this block\r\n     */\r\n    b: FlowGraphDataConnection<RightT>;\r\n\r\n    constructor(\r\n        leftRichType: RichType<LeftT>,\r\n        rightRichType: RichType<RightT>,\r\n        resultRichType: RichType<ResultT>,\r\n        private _operation: (left: LeftT, right: RightT) => ResultT,\r\n        private _className: string,\r\n        config?: IFlowGraphBlockConfiguration\r\n    ) {\r\n        super(resultRichType, config);\r\n        this.a = this.registerDataInput(\"a\", leftRichType);\r\n        this.b = this.registerDataInput(\"b\", rightRichType);\r\n    }\r\n\r\n    /**\r\n     * the operation performed by this block\r\n     * @param context the graph context\r\n     * @returns the result of the operation\r\n     */\r\n    public override _doOperation(context: FlowGraphContext): ResultT {\r\n        const a = this.a.getValue(context);\r\n        const b = this.b.getValue(context);\r\n        return this._operation(a, b);\r\n    }\r\n\r\n    /**\r\n     * Gets the class name of this block\r\n     * @returns the class name\r\n     */\r\n    public override getClassName(): string {\r\n        return this._className;\r\n    }\r\n}\r\n"],"names":["CacheName","CacheExecIdName","FlowGraphCachedOperationBlock","constructor","outputRichType","config","super","this","value","registerDataOutput","isValid","_updateOutputs","context","cachedExecutionId","_getExecutionVariable","cachedValue","executionId","setValue","calculatedValue","_doOperation","_setExecutionVariable","e","FlowGraphUnaryOperationBlock","inputRichType","resultRichType","_operation","_className","a","registerDataInput","getValue","getClassName","FlowGraphConstantOperationBlock","richType","FlowGraphTernaryOperationBlock","t1Type","t2Type","t3Type","b","c","FlowGraphAddBlock","type","_polymorphicAdd","aClassName","bClassName","add","x","y","z","w","addInPlace","preventIntegerFloatArithmetic","Error","FlowGraphSubtractBlock","_polymorphicSubtract","subtract","subtractInPlace","FlowGraphMultiplyBlock","_polymorphicMultiply","multiply","multiplyInPlace","useMatrixPerComponent","aM","m","i","length","FromArray","FlowGraphDivideBlock","_polymorphicDivide","divide","aClone","clone","divideInPlace","FlowGraphRandomBlock","_random","min","max","seed","_seed","_isSeed","undefined","_getRandomValue","Math","sin","floor","random","FlowGraphEBlock","E","FlowGraphPiBlock","PI","FlowGraphInfBlock","Number","POSITIVE_INFINITY","FlowGraphNaNBlock","NaN","ComponentWiseUnaryOperation","op","map","FlowGraphAbsBlock","_polymorphicAbs","abs","FlowGraphSignBlock","_polymorphicSign","sign","FlowGraphTruncBlock","_polymorphicTrunc","trunc","FlowGraphFloorBlock","_polymorphicFloor","FlowGraphCeilBlock","_polymorphicCeiling","ceil","FlowGraphRoundBlock","_polymorphicRound","roundHalfAwayFromZero","round","FlowGraphFractionBlock","_polymorphicFraction","FlowGraphNegationBlock","_polymorphicNeg","ComponentWiseBinaryOperation","v","FlowGraphModuloBlock","_polymorphicRemainder","FlowGraphMinBlock","_polymorphicMin","FlowGraphMaxBlock","_polymorphicMax","Clamp","ComponentWiseTernaryOperation","FlowGraphClampBlock","_polymorphicClamp","Saturate","FlowGraphSaturateBlock","_polymorphicSaturate","Interpolate","FlowGraphMathInterpolationBlock","_polymorphicInterpolate","FlowGraphEqualityBlock","_polymorphicEq","equals","ComparisonOperators","FlowGraphLessThanBlock","_polymorphicLessThan","FlowGraphLessThanOrEqualBlock","_polymorphicLessThanOrEqual","FlowGraphGreaterThanBlock","_polymorphicGreaterThan","FlowGraphGreaterThanOrEqualBlock","_polymorphicGreaterThanOrEqual","FlowGraphIsNanBlock","_polymorphicIsNan","isNaN","FlowGraphIsInfinityBlock","_polymorphicIsInf","isFinite","FlowGraphDegToRadBlock","_polymorphicDegToRad","_degToRad","FlowGraphRadToDegBlock","_polymorphicRadToDeg","_radToDeg","FlowGraphSinBlock","_polymorphicSin","FlowGraphCosBlock","_polymorphicCos","cos","FlowGraphTanBlock","_polymorphicTan","tan","FlowGraphAsinBlock","_polymorphicAsin","asin","FlowGraphAcosBlock","_polymorphicAcos","acos","FlowGraphAtanBlock","_polymorphicAtan","atan","FlowGraphAtan2Block","_polymorphicAtan2","atan2","FlowGraphSinhBlock","_polymorphicSinh","sinh","FlowGraphCoshBlock","_polymorphicCosh","cosh","FlowGraphTanhBlock","_polymorphicTanh","tanh","FlowGraphAsinhBlock","_polymorphicAsinh","asinh","FlowGraphAcoshBlock","_polymorphicAcosh","acosh","FlowGraphAtanhBlock","_polymorphicAtanh","atanh","FlowGraphExpBlock","_polymorphicExp","exp","FlowGraphLogBlock","_polymorphicLog","log","FlowGraphLog2Block","_polymorphicLog2","log2","FlowGraphLog10Block","_polymorphicLog10","log10","FlowGraphSquareRootBlock","_polymorphicSqrt","sqrt","FlowGraphCubeRootBlock","_polymorphicCubeRoot","cbrt","FlowGraphPowerBlock","_polymorphicPow","pow","FlowGraphBitwiseNotBlock","valueType","FlowGraphBitwiseAndBlock","FlowGraphBitwiseOrBlock","FlowGraphBitwiseXorBlock","FlowGraphBitwiseLeftShiftBlock","FlowGraphBitwiseRightShiftBlock","FlowGraphLeadingZerosBlock","clz32","FlowGraphTrailingZerosBlock","FlowGraphOneBitsCounterBlock","n","result","CountOnes","FlowGraphBinaryOperationBlock","leftRichType","rightRichType"],"ignoreList":[],"sourceRoot":""}