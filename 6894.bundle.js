"use strict";(self.webpackChunk_dev_inspector_v2=self.webpackChunk_dev_inspector_v2||[]).push([[6894],{86894:(e,n,s)=>{s.d(n,{ExtensionListServiceDefinition:()=>b});var a=s(11798),i=s(45969),t=s(35647),l=s(38225),o=s(41766),r=s(83031),c=s(32854),x=s(63772),d=s(76860),u=s(85844),p=s(53768);const m=(0,i.n9w)({extensionButton:{},extensionsDialogSurface:{height:"auto",width:"70vw",maxWidth:"600px",maxHeight:"70vh",backgroundColor:i.LU0.colorNeutralBackground2},extensionDialogBody:{maxWidth:"100%",maxHeight:"100%"},extensionDialogContent:{marginLeft:`calc(-1 * ${i.LU0.spacingHorizontalM})`,marginRight:`calc(-1 * ${i.LU0.spacingHorizontalS})`},extensionHeader:{},extensionItem:{},extensionCardPreview:{padding:`${i.LU0.spacingVerticalM} ${i.LU0.spacingHorizontalM}`,display:"flex",flexDirection:"column",rowGap:i.LU0.spacingVerticalL},extensionIntro:{display:"flex",alignItems:"center",columnGap:i.LU0.spacingHorizontalM},extensionDescription:{display:"flex",flexDirection:"row",columnGap:i.LU0.spacingHorizontalS},extensionButtonContainer:{marginLeft:"auto",alignSelf:"flex-start"},spinner:{animationDuration:"1s",animationName:{from:{opacity:0},to:{opacity:1}}},webResourceDiv:{display:"flex",flexDirection:"column"},webResourceLink:{display:"flex",flexDirection:"row",columnGap:i.LU0.spacingHorizontalS,alignItems:"center"},personPopoverSurfaceDiv:{display:"flex",flexDirection:"column",rowGap:i.LU0.spacingVerticalS},accordionHeaderDiv:{display:"flex",flexDirection:"row",columnGap:i.LU0.spacingHorizontalS,alignItems:"center"},resourceDetailsDiv:{display:"flex",flexDirection:"column",rowGap:i.LU0.spacingVerticalS},peopleDetailsDiv:{display:"flex",flexDirection:"row",columnGap:i.LU0.spacingHorizontalXL},avatarGroupItem:{cursor:"pointer"}});function h(e){return"string"==typeof e?{name:e}:e}function j(e){const n=(0,o.useMemo)((()=>e?e.filter((e=>!!e)):[]),[e]),[s]=(0,o.useState)(n.map(h));return s.filter(Boolean)}const f=(0,u.NJ)("Extensions"),g=e=>{const{url:n,urlDisplay:s,icon:t,label:l}=e,o=m();return(0,a.jsx)("div",{className:o.webResourceDiv,children:(0,a.jsx)(i.m_M,{content:l,relationship:"label",positioning:"before",withArrow:!0,children:(0,a.jsxs)("div",{className:o.webResourceLink,children:[t,(0,a.jsx)(c.N,{url:n,value:s||n})]})})})},y=e=>{const{person:n,title:s,disabled:l,children:o}=e,r=m();return l?(0,a.jsx)(a.Fragment,{children:o}):(0,a.jsxs)(i.AMh,{withArrow:!0,children:[(0,a.jsx)(i.Wvm,{disableButtonEnhancement:!0,children:o}),(0,a.jsx)(i.HFz,{children:(0,a.jsxs)("div",{className:r.personPopoverSurfaceDiv,children:[(0,a.jsx)(i.FNo,{name:n.name,secondaryText:s}),n.email&&(0,a.jsx)(g,{url:`mailto:${n.email}`,urlDisplay:n.email,icon:(0,a.jsx)(t.SdCO,{}),label:"Email"}),n.url&&(0,a.jsx)(g,{url:n.url,urlDisplay:n.url,icon:(0,a.jsx)(t.xZHO,{}),label:"Website"}),n.forumUserName&&(0,a.jsx)(g,{url:`https://forum.babylonjs.com/u/${n.forumUserName}`,urlDisplay:n.forumUserName,icon:(0,a.jsx)(t.D$bf,{}),label:"Forum"})]})})]})},v=(0,o.memo)((e=>{const{extension:n}=e,{metadata:s}=n,r=m(),[c,x]=(0,o.useState)(!1),[d,u]=(0,o.useState)(!1),[p,h]=(0,o.useState)(!1);(0,o.useEffect)((()=>{const e=()=>{x(!n.isInstalled&&!n.isStateChanging),u(n.isInstalled&&!n.isStateChanging),h(n.isStateChanging)},s=n.addStateChangedHandler(e);return e(),s.dispose}),[n]);const[f]=j((0,o.useMemo)((()=>[s.author]),[s.author])),v=j(s.contributors),b=s.homepage||s.repository||s.bugs,D=f||v.length>0,w=b||D,L=f?.email||f?.url||f?.forumUserName,N=[s.version?`${s.version}`:null,s.license?`${s.license}`:null].filter(Boolean).join(" | "),S=(0,o.useCallback)((async()=>{try{await n.installAsync()}catch{}}),[n]),C=(0,o.useCallback)((async()=>{try{await n.uninstallAsync()}catch{}}),[n]);return(0,a.jsxs)(i.AsP,{className:r.extensionItem,value:n.metadata.name,children:[(0,a.jsx)(i.uae,{className:r.extensionHeader,expandIconPosition:"end",children:(0,a.jsxs)("div",{className:r.accordionHeaderDiv,children:[(0,a.jsx)(i.VpL,{children:n.metadata.name}),(0,a.jsx)(l.zW,{visible:n.isInstalled,children:(0,a.jsx)(i.naU,{size:"small"})})]})}),(0,a.jsx)(i.vrD,{children:(0,a.jsxs)(i.ZpM,{children:[(0,a.jsx)(i.aRn,{header:(0,a.jsx)(i.cR2,{children:s.description}),description:(0,a.jsx)(i.M95,{italic:!0,children:N})}),w&&(0,a.jsxs)(i.XpI,{className:r.extensionCardPreview,children:[b&&(0,a.jsxs)("div",{className:r.resourceDetailsDiv,style:{display:"flex"},children:[s.homepage&&(0,a.jsx)(g,{url:s.homepage,icon:(0,a.jsx)(t.xZHO,{}),label:"Website"}),s.repository&&(0,a.jsx)(g,{url:s.repository,icon:(0,a.jsx)(t.tLCU,{}),label:"Repository"}),s.bugs&&(0,a.jsx)(g,{url:s.bugs,icon:(0,a.jsx)(t.bEgt,{}),label:"Report Issues"})]}),D&&(0,a.jsxs)("div",{className:r.peopleDetailsDiv,style:{display:"flex"},children:[f&&(0,a.jsx)(y,{person:f,title:"Author",disabled:!L,children:(0,a.jsx)(i.FNo,{name:f.name,secondaryText:"Author",style:{cursor:L?"pointer":"default"}})}),v.length>0&&(0,a.jsx)(i.Z73,{layout:"stack",children:v.map((e=>(0,a.jsx)(y,{person:e,title:"Contributor",children:(0,a.jsx)(i.KQc,{name:e.name,className:r.avatarGroupItem})},e.name)))})]})]}),(0,a.jsxs)(i.wLy,{children:[c&&(0,a.jsx)(i.$nd,{appearance:"primary",size:"small",icon:(0,a.jsx)(t.mdFB,{}),onClick:S,children:"Get"}),d&&(0,a.jsx)(i.$nd,{appearance:"secondary",size:"small",icon:(0,a.jsx)(t.y7Hq,{}),onClick:C,children:"Remove"}),p&&(0,a.jsx)(i.y$y,{className:r.spinner,size:"extra-small"})]})]})})]})})),b={friendlyName:"ExtensionList",consumes:[p.kQ],factory:e=>{const n=e.addToolbarItem({key:"ExtensionList",horizontalLocation:"right",verticalLocation:"top",suppressTeachingMoment:!0,order:-200,component:()=>{const e=m(),[n,s]=(0,o.useState)("available"),l=(0,d.o)(),[c,u]=(0,o.useState)([]);(0,o.useEffect)((()=>{if(l){const e=async()=>{const e=await l.queryExtensionsAsync(void 0,void 0,"installed"===n),s=await e.getExtensionsAsync(0,e.totalCount);u(s)};e().catch((e=>{r.V.Warn(`Failed to populate extensions: ${e}`)}))}}),[l,n]);const p=f();return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(x.A,{...p,title:"Extensions",description:"Extensions provide new optional features that can be useful to your specific task or workflow. Click this button to manage extensions."}),(0,a.jsxs)(i.lGe,{children:[(0,a.jsx)(i.zMO,{disableButtonEnhancement:!0,children:(0,a.jsx)(i.m_M,{content:"Manage Extensions",relationship:"label",children:(0,a.jsx)(i.$nd,{ref:p.targetRef,className:e.extensionButton,appearance:"subtle",icon:(0,a.jsx)(t.JAWw,{})})})}),(0,a.jsx)(i.Elq,{className:e.extensionsDialogSurface,children:(0,a.jsxs)(i.R4S,{className:e.extensionDialogBody,children:[(0,a.jsx)(i.L33,{action:(0,a.jsx)(i.zMO,{action:"close",children:(0,a.jsx)(i.$nd,{appearance:"subtle","aria-label":"close",icon:(0,a.jsx)(t.BEt$,{})})}),children:(0,a.jsxs)(a.Fragment,{children:["Extensions",(0,a.jsxs)(i.wbY,{className:e.extensionDialogContent,selectedValue:n,onTabSelect:(e,n)=>{s(n.value)},children:[(0,a.jsx)(i.ozo,{value:"available",children:"Available"}),(0,a.jsx)(i.ozo,{value:"installed",children:"Installed"})]})]})}),(0,a.jsx)(i.Cff,{className:e.extensionDialogContent,children:(0,a.jsx)(i.nD3,{collapsible:!0,children:c.map((e=>(0,a.jsx)(v,{extension:e},e.metadata.name)))})})]})})]})]})}});return{dispose:()=>n.dispose()}}}}}]);
//# sourceMappingURL=6894.bundle.js.map