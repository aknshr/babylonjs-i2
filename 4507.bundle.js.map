{"version":3,"file":"4507.bundle.js","mappings":"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","sources":["webpack://@dev/inspector-v2/../../tools/guiEditor/dist/scss/commandBar.scss?../../../node_modules/css-loader/dist/cjs.js??ruleSet[1].rules[2].use[1]!../../../node_modules/sass-loader/dist/cjs.js??ruleSet[1].rules[2].use[2]","webpack://@dev/inspector-v2/../sharedUiComponents/src/components/Button.module.scss?../../../node_modules/css-loader/dist/cjs.js??ruleSet[1].rules[3].use[1]!../../../node_modules/sass-loader/dist/cjs.js??ruleSet[1].rules[3].use[2]","webpack://@dev/inspector-v2/../sharedUiComponents/src/components/Fonts.scss?../../../node_modules/css-loader/dist/cjs.js??ruleSet[1].rules[3].use[1]","webpack://@dev/inspector-v2/../../tools/guiEditor/dist/diagram/workbenchCanvas.scss?../../../node_modules/css-loader/dist/cjs.js??ruleSet[1].rules[2].use[1]!../../../node_modules/sass-loader/dist/cjs.js??ruleSet[1].rules[2].use[2]","webpack://@dev/inspector-v2/../../tools/guiEditor/dist/components/sceneExplorer/sceneExplorer.scss?../../../node_modules/css-loader/dist/cjs.js??ruleSet[1].rules[2].use[1]!../../../node_modules/sass-loader/dist/cjs.js??ruleSet[1].rules[2].use[2]","webpack://@dev/inspector-v2/../../tools/guiEditor/dist/components/log/log.scss?../../../node_modules/css-loader/dist/cjs.js??ruleSet[1].rules[2].use[1]!../../../node_modules/sass-loader/dist/cjs.js??ruleSet[1].rules[2].use[2]","webpack://@dev/inspector-v2/../../tools/guiEditor/dist/scss/header.scss?../../../node_modules/css-loader/dist/cjs.js??ruleSet[1].rules[2].use[1]!../../../node_modules/sass-loader/dist/cjs.js??ruleSet[1].rules[2].use[2]","webpack://@dev/inspector-v2/../sharedUiComponents/src/components/Icon.module.scss?../../../node_modules/css-loader/dist/cjs.js??ruleSet[1].rules[3].use[1]!../../../node_modules/sass-loader/dist/cjs.js??ruleSet[1].rules[3].use[2]","webpack://@dev/inspector-v2/../../tools/guiEditor/src/diagram/coordinateHelper.tsx?","webpack://@dev/inspector-v2/../../tools/guiEditor/src/globalState.ts?","webpack://@dev/inspector-v2/../../tools/guiEditor/src/keyboardManager.ts?","webpack://@dev/inspector-v2/../../tools/guiEditor/src/components/commandButtonComponent.tsx?","webpack://@dev/inspector-v2/../sharedUiComponents/src/lines/checkBoxLineComponent.tsx?","webpack://@dev/inspector-v2/../sharedUiComponents/src/lines/iconComponent.tsx?","webpack://@dev/inspector-v2/../sharedUiComponents/src/components/Button.module.scss?","webpack://@dev/inspector-v2/../sharedUiComponents/src/components/Button.tsx?","webpack://@dev/inspector-v2/../sharedUiComponents/src/components/Icon.module.scss?","webpack://@dev/inspector-v2/../sharedUiComponents/src/components/Icon.tsx?","webpack://@dev/inspector-v2/../sharedUiComponents/src/components/TextInputWithSubmit.module.scss?","webpack://@dev/inspector-v2/../sharedUiComponents/src/components/TextInputWithSubmit.tsx?","webpack://@dev/inspector-v2/../sharedUiComponents/src/components/lines/OptionsLineComponent.tsx?","webpack://@dev/inspector-v2/../sharedUiComponents/src/components/lines/OptionsLineComponent.module.scss?","webpack://@dev/inspector-v2/../sharedUiComponents/src/lines/unitButton.tsx?","webpack://@dev/inspector-v2/../../tools/guiEditor/src/tools.ts?","webpack://@dev/inspector-v2/../../tools/guiEditor/dist/diagram/workbenchCanvas.scss?","webpack://@dev/inspector-v2/../../tools/guiEditor/src/diagram/workbench.tsx?","webpack://@dev/inspector-v2/../../tools/guiEditor/src/components/propertyTab/propertyGrids/gui/commonControlPropertyGridComponent.tsx?","webpack://@dev/inspector-v2/../../tools/guiEditor/src/components/propertyTab/propertyGrids/gui/sliderPropertyGridComponent.tsx?","webpack://@dev/inspector-v2/../../tools/guiEditor/src/components/propertyTab/propertyGrids/gui/sliderGenericPropertyGridComponent.tsx?","webpack://@dev/inspector-v2/../../tools/guiEditor/src/components/propertyTab/propertyGrids/gui/linePropertyGridComponent.tsx?","webpack://@dev/inspector-v2/../../tools/guiEditor/src/components/propertyTab/propertyGrids/gui/radioButtonPropertyGridComponent.tsx?","webpack://@dev/inspector-v2/../../tools/guiEditor/src/components/propertyTab/propertyGrids/gui/textBlockPropertyGridComponent.tsx?","webpack://@dev/inspector-v2/../../tools/guiEditor/src/components/propertyTab/propertyGrids/gui/inputTextPropertyGridComponent.tsx?","webpack://@dev/inspector-v2/../../tools/guiEditor/src/components/propertyTab/propertyGrids/gui/colorPickerPropertyGridComponent.tsx?","webpack://@dev/inspector-v2/../../tools/guiEditor/src/components/propertyTab/propertyGrids/gui/imagePropertyGridComponent.tsx?","webpack://@dev/inspector-v2/../../tools/guiEditor/src/components/propertyTab/propertyGrids/gui/imageBasedSliderPropertyGridComponent.tsx?","webpack://@dev/inspector-v2/../../tools/guiEditor/src/components/propertyTab/propertyGrids/gui/containerPropertyGridComponent.tsx?","webpack://@dev/inspector-v2/../../tools/guiEditor/src/components/propertyTab/propertyGrids/gui/rectanglePropertyGridComponent.tsx?","webpack://@dev/inspector-v2/../gui/src/2D/controls/stackPanel.ts?","webpack://@dev/inspector-v2/../../tools/guiEditor/src/components/propertyTab/propertyGrids/gui/stackPanelPropertyGridComponent.tsx?","webpack://@dev/inspector-v2/../../tools/guiEditor/src/components/propertyTab/propertyGrids/gui/gridPropertyGridComponent.tsx?","webpack://@dev/inspector-v2/../../tools/guiEditor/src/components/propertyTab/propertyGrids/gui/scrollViewerPropertyGridComponent.tsx?","webpack://@dev/inspector-v2/../../tools/guiEditor/src/components/propertyTab/propertyGrids/gui/ellipsePropertyGridComponent.tsx?","webpack://@dev/inspector-v2/../../tools/guiEditor/src/components/propertyTab/propertyGrids/gui/checkboxPropertyGridComponent.tsx?","webpack://@dev/inspector-v2/../../tools/guiEditor/src/components/propertyTab/propertyGrids/gui/controlPropertyGridComponent.tsx?","webpack://@dev/inspector-v2/../../tools/guiEditor/src/components/parentingPropertyGridComponent.tsx?","webpack://@dev/inspector-v2/../../tools/guiEditor/src/components/propertyTab/propertyGrids/gui/displayGridPropertyGridComponent.tsx?","webpack://@dev/inspector-v2/../../tools/guiEditor/src/components/propertyTab/propertyGrids/gui/buttonPropertyGridComponent.tsx?","webpack://@dev/inspector-v2/../gui/src/2D/controls/checkbox.ts?","webpack://@dev/inspector-v2/../gui/src/2D/controls/textWrapper.ts?","webpack://@dev/inspector-v2/../gui/src/2D/controls/inputText.ts?","webpack://@dev/inspector-v2/../gui/src/2D/controls/grid.ts?","webpack://@dev/inspector-v2/../gui/src/2D/controls/colorpicker.ts?","webpack://@dev/inspector-v2/../gui/src/2D/controls/ellipse.ts?","webpack://@dev/inspector-v2/../gui/src/2D/controls/line.ts?","webpack://@dev/inspector-v2/../gui/src/2D/controls/sliders/baseSlider.ts?","webpack://@dev/inspector-v2/../gui/src/2D/controls/sliders/slider.ts?","webpack://@dev/inspector-v2/../gui/src/2D/controls/inputTextArea.ts?","webpack://@dev/inspector-v2/../gui/src/2D/controls/virtualKeyboard.ts?","webpack://@dev/inspector-v2/../gui/src/2D/controls/inputPassword.ts?","webpack://@dev/inspector-v2/../gui/src/2D/controls/displayGrid.ts?","webpack://@dev/inspector-v2/../gui/src/2D/controls/scrollViewers/scrollViewerWindow.ts?","webpack://@dev/inspector-v2/../gui/src/2D/controls/sliders/scrollBar.ts?","webpack://@dev/inspector-v2/../gui/src/2D/controls/sliders/imageScrollBar.ts?","webpack://@dev/inspector-v2/../gui/src/2D/controls/scrollViewers/scrollViewer.ts?","webpack://@dev/inspector-v2/../gui/src/2D/controls/radioButton.ts?","webpack://@dev/inspector-v2/../gui/src/2D/controls/sliders/imageBasedSlider.ts?","webpack://@dev/inspector-v2/../../tools/guiEditor/src/guiNodeTools.ts?","webpack://@dev/inspector-v2/../../tools/guiEditor/dist/components/propertyTab/propertyTab.scss?","webpack://@dev/inspector-v2/../../tools/guiEditor/src/controlTypes.ts?","webpack://@dev/inspector-v2/../../tools/guiEditor/src/components/propertyTab/propertyTabComponent.tsx?","webpack://@dev/inspector-v2/../../tools/guiEditor/src/portal.tsx?","webpack://@dev/inspector-v2/../../tools/guiEditor/dist/components/log/log.scss?","webpack://@dev/inspector-v2/../../tools/guiEditor/src/components/log/logComponent.tsx?","webpack://@dev/inspector-v2/../../tools/guiEditor/src/components/sceneExplorer/treeItemLabelComponent.tsx?","webpack://@dev/inspector-v2/../../tools/guiEditor/src/components/sceneExplorer/extensionsComponent.tsx?","webpack://@dev/inspector-v2/../../tools/guiEditor/src/components/sceneExplorer/entities/gui/controlTreeItemComponent.tsx?","webpack://@dev/inspector-v2/../../tools/guiEditor/src/components/sceneExplorer/treeItemSelectableComponent.tsx?","webpack://@dev/inspector-v2/../sharedUiComponents/src/fluent/primitives/contextMenu.tsx?","webpack://@dev/inspector-v2/../../tools/guiEditor/src/components/sceneExplorer/treeItemComponent.tsx?","webpack://@dev/inspector-v2/../../tools/guiEditor/dist/components/sceneExplorer/sceneExplorer.scss?","webpack://@dev/inspector-v2/../../tools/guiEditor/src/components/sceneExplorer/sceneExplorerComponent.tsx?","webpack://@dev/inspector-v2/../../tools/guiEditor/src/components/commandDropdownComponent.tsx?","webpack://@dev/inspector-v2/../../tools/guiEditor/dist/scss/commandBar.scss?","webpack://@dev/inspector-v2/../../tools/guiEditor/src/components/commandBarComponent.tsx?","webpack://@dev/inspector-v2/../../tools/guiEditor/src/diagram/gizmoScalePoint.tsx?","webpack://@dev/inspector-v2/../../tools/guiEditor/src/diagram/gizmoGeneric.tsx?","webpack://@dev/inspector-v2/../../tools/guiEditor/src/diagram/gizmoLine.tsx?","webpack://@dev/inspector-v2/../../tools/guiEditor/src/diagram/gizmoWrapper.tsx?","webpack://@dev/inspector-v2/../../tools/guiEditor/src/diagram/artBoard.tsx?","webpack://@dev/inspector-v2/../../tools/guiEditor/dist/main.scss?","webpack://@dev/inspector-v2/../../tools/guiEditor/dist/scss/header.scss?","webpack://@dev/inspector-v2/../../tools/guiEditor/src/workbenchEditor.tsx?","webpack://@dev/inspector-v2/../../tools/guiEditor/src/guiEditor.ts?","webpack://@dev/inspector-v2/../../tools/guiEditor/dist/components/propertyTab/propertyTab.scss?../../../node_modules/css-loader/dist/cjs.js??ruleSet[1].rules[2].use[1]!../../../node_modules/sass-loader/dist/cjs.js??ruleSet[1].rules[2].use[2]","webpack://@dev/inspector-v2/../sharedUiComponents/src/components/lines/OptionsLineComponent.module.scss?../../../node_modules/css-loader/dist/cjs.js??ruleSet[1].rules[3].use[1]!../../../node_modules/sass-loader/dist/cjs.js??ruleSet[1].rules[3].use[2]","webpack://@dev/inspector-v2/../sharedUiComponents/src/components/TextInputWithSubmit.module.scss?../../../node_modules/css-loader/dist/cjs.js??ruleSet[1].rules[3].use[1]!../../../node_modules/sass-loader/dist/cjs.js??ruleSet[1].rules[3].use[2]","webpack://@dev/inspector-v2/../../tools/guiEditor/dist/main.scss?../../../node_modules/css-loader/dist/cjs.js??ruleSet[1].rules[2].use[1]!../../../node_modules/sass-loader/dist/cjs.js??ruleSet[1].rules[2].use[2]"],"sourcesContent":["// Imports\nimport ___CSS_LOADER_API_SOURCEMAP_IMPORT___ from \"../../../../../node_modules/css-loader/dist/runtime/sourceMaps.js\";\nimport ___CSS_LOADER_API_IMPORT___ from \"../../../../../node_modules/css-loader/dist/runtime/api.js\";\nvar ___CSS_LOADER_EXPORT___ = ___CSS_LOADER_API_IMPORT___(___CSS_LOADER_API_SOURCEMAP_IMPORT___);\n// Module\n___CSS_LOADER_EXPORT___.push([module.id, `:root{--selectionGrey: #666666}.ge-commands{grid-row:1;grid-column:1;user-select:none}.ge-commands *{font-family:\"acumin-pro-condensed\";font-weight:600;font-size:12px}.ge-commands .copy{display:none}.ge-commands .commands-left{float:left;display:flex}.ge-commands .commands-right{float:right;display:flex}.ge-commands .commands-right .beta-flag{height:30px;position:relative;left:-15px}.ge-commands.background-ts .command-button img,.ge-commands.background-ts .command-dropdown img{filter:invert(64%) sepia(78%) saturate(940%) hue-rotate(323deg) brightness(105%) contrast(103%)}.ge-commands.background-ts .command-button .command-dropdown-active,.ge-commands.background-ts .command-dropdown .command-dropdown-active{color:#333}.ge-commands.background-ts .command-button:hover img,.ge-commands.background-ts .command-button.activated img,.ge-commands.background-ts .command-dropdown:hover img,.ge-commands.background-ts .command-dropdown.activated img{filter:invert(34%) sepia(21%) saturate(3832%) hue-rotate(324deg) brightness(88%) contrast(82%) !important}.ge-commands.background-js .command-button img,.ge-commands.background-js .command-dropdown img{filter:invert(57%) sepia(80%) saturate(2031%) hue-rotate(215deg)}.ge-commands.background-js .command-button .command-dropdown-active,.ge-commands.background-js .command-dropdown .command-dropdown-active{color:#333}.ge-commands.background-js .command-button:hover img,.ge-commands.background-js .command-button.activated img,.ge-commands.background-js .command-dropdown:hover img,.ge-commands.background-js .command-dropdown.activated img{filter:invert(17%) !important}.ge-commands .command-button{cursor:pointer;width:55px;height:55px}.ge-commands .command-button .command-label{display:none}.ge-commands .command-button .command-button-icon{height:100%;width:100%;display:grid;color:#fff;align-content:center;justify-content:center}.ge-commands .command-button .active{transform-origin:center;background-color:var(--selectionGrey)}.ge-commands .command-button img.active{background-color:var(--selectionGrey)}.ge-commands .command-button:hover{background-color:var(--selectionGrey)}.ge-commands .copyAndDeleteDisabled{pointer-events:none;color:#000}.ge-commands .pasteDisabled{pointer-events:none;color:#000}.ge-commands .command-dropdown-root{position:relative;text-transform:uppercase;z-index:1}.ge-commands .command-dropdown{cursor:pointer;width:55px;height:55px}.ge-commands .command-dropdown .command-dropdown-icon{height:100%;width:100%;display:grid;align-content:center;justify-content:center}.ge-commands .command-dropdown .command-dropdown-active{height:100%;width:100%;display:grid;align-content:center;justify-content:center;font-size:14px}.ge-commands .command-dropdown:hover,.ge-commands .command-dropdown.activated{background-color:#666;color:#000}.ge-commands .command-dropdown:active{transform-origin:center;transform:scale(0.95)}.ge-commands .command-dropdown-blocker{position:absolute;top:0;left:0;width:100%;height:100%;transform:scale(1);z-index:1}.ge-commands.background-js .command-dropdown-content{background:#333}.ge-commands.background-js .command-dropdown-content .command-dropdown-label:hover{background:#333}.ge-commands.background-ts .command-dropdown-content .command-dropdown-label:hover{background:#333}.ge-commands .command-dropdown-content{background:#333;position:absolute;top:55px;width:55px;transform:scale(1)}.ge-commands .command-dropdown-content.toRight{width:120px}.ge-commands .command-dropdown-content .command-dropdown-label{color:#fff;padding:5px;padding-left:7px;height:35px;font-size:18px;display:grid;align-items:center;cursor:pointer;user-select:none;grid-template-columns:1fr 20px;grid-template-rows:100%;position:relative}.ge-commands .command-dropdown-content .command-dropdown-label.active{font-weight:bold;font-size:20px}.ge-commands .command-dropdown-content .command-dropdown-label:hover{background:var(--selectionGrey)}.ge-commands .command-dropdown-content .command-dropdown-label:hover .sub-items{display:block}.ge-commands .command-dropdown-content .command-dropdown-label .command-dropdown-label-text{font-size:12px;grid-column:1;grid-row:1}.ge-commands .command-dropdown-content .command-dropdown-label .command-dropdown-label-check{grid-column:2;grid-row:1}.ge-commands .command-dropdown-content .command-dropdown-label .command-dropdown-arrow{grid-column:2;grid-row:1;font-size:20px;font-weight:bold;padding-bottom:10px;padding-left:4px}.ge-commands .command-dropdown-content .command-dropdown-label .sub-items{position:absolute;left:200px;top:0;width:150px;display:none}.ge-commands .command-dropdown-content .command-dropdown-label .sub-items.background-js{background:#bfabff}.ge-commands .command-dropdown-content .command-dropdown-label .sub-items.background-js .sub-item:hover{background-color:#333;color:#fff}.ge-commands .command-dropdown-content .command-dropdown-label .sub-items.background-ts{background:#333}.ge-commands .command-dropdown-content .command-dropdown-label .sub-items.background-ts .sub-item:hover{background-color:#333;color:#fff}.ge-commands .command-dropdown-content .command-dropdown-label .sub-items .sub-item{color:#fff;padding:5px;padding-left:10px;height:35px;display:grid}.ge-commands .command-dropdown-content .command-dropdown-label .sub-items .sub-item.checked{background:#fff;color:#000}.ge-commands .command-dropdown-content .buttonLine{color:#fff;padding:5px;padding-left:7px;height:35px;font-size:18px;display:grid;align-items:center;cursor:pointer;user-select:none;grid-template-columns:1fr 20px;grid-template-rows:100%;position:relative;font-size:12px;grid-column:1;grid-row:1}.ge-commands .command-dropdown-content .buttonLine input[type=file]{display:none}.ge-commands .command-dropdown-content .buttonLine.active{font-weight:bold;font-size:20px;cursor:pointer}.ge-commands .command-dropdown-content .buttonLine:hover{background:var(--selectionGrey);cursor:pointer}.ge-commands .command-dropdown-content .buttonLine:hover .sub-items{display:block}.ge-commands .command-dropdown-content .buttonLine .file-upload{cursor:pointer}.ge-commands .divider{display:flex;align-items:center;border-right:1px solid #000;color:#fff}.ge-commands .divider:last-of-type{border-right:none}.ge-commands .divider.padded{padding-left:10px;padding-right:10px}.ge-commands .floatLine,.ge-commands .checkBoxLine{display:flex;align-items:center}.ge-commands .floatLine .copy,.ge-commands .checkBoxLine .copy{display:none}.ge-commands .checkBoxLine .icon{filter:brightness(10)}.ge-commands .checkBoxLine .hidden{display:none}.ge-commands .checkBoxLine .checkBox{height:40px}.ge-commands .checkBoxLine .copy{display:none}.ge-commands .color3Line{display:grid}.ge-commands .color3Line .firstLine{display:flex;align-items:center}.ge-commands .color3Line .firstLine .label{padding-right:5px}.ge-commands .color3Line .firstLine .floatLine .value{padding-left:2px}.ge-commands .color3Line .firstLine .copy{display:none}.ge-commands .color3Line .firstLine .expand{display:none}.ge-commands .color3Line .secondLine{display:grid;padding-right:5px;border-left:1px solid #337ab7}.ge-commands .color3Line .secondLine .numeric{display:grid;grid-template-columns:1fr auto}.ge-commands .color3Line .secondLine .numeric-label{text-align:right;grid-column:1;display:flex;align-items:center;justify-self:right;margin-right:10px}.ge-commands .color3Line .secondLine .numeric-value{width:120px;grid-column:2;display:flex;align-items:center;border:1px solid #337ab7}.ge-commands .color-picker{height:26px;width:26px}.ge-commands .color-picker .color-rect-background{width:calc(100% - 2px);height:calc(100% - 2px);border:1px solid #fff;cursor:pointer;background:repeating-conic-gradient(#e2e2e2 0% 25%, white 0% 50%) 50%/100% 100%}.ge-commands .color-picker .color-rect-background .color-rect{height:100%}.ge-commands .color-picker .color-picker-cover{position:fixed;top:0px;right:0px;bottom:0px;left:0px;z-index:2}.ge-commands .color-picker .color-picker-float{position:absolute;outline:1px solid #000}.ge-commands .color-picker .color-picker-container{background-color:#e2e2e2}.ge-commands .color-picker input:focus{outline-color:#000}.ge-commands .floatLine input,.ge-commands .listLine select{background-color:#000;color:#fff;padding:5px;border:none}.ge-commands input,.ge-commands .listLine select{outline-color:rgba(0,0,0,0);outline-width:1px;outline-offset:-1px;outline-style:solid;transition:.2s outline;border:none}.ge-commands .floatLine .value{position:relative;margin:5px}.ge-commands .floatLine input:focus{outline-color:#fff}.ge-commands .listLine select{width:150px}.ge-commands .hasArrows .arrows{display:none;position:absolute;right:0;top:0;flex-direction:column;cursor:grab;filter:brightness(10)}.ge-commands .hasArrows .arrows .downArrowIcon,.ge-commands .hasArrows .arrows .upArrowIcon{width:13px;height:13px}.ge-commands .hasArrows:hover .arrows,.ge-commands .hasArrows:focus .arrows,.ge-commands .hasArrows.dragging .arrows{display:flex}.ge-commands .hasArrows .arrows:hover{background-color:var(--buttonHoverBackground);filter:none}.ge-commands .hasArrows.dragging .arrows{background-color:var(--buttonPressedBackground)}.ge-commands .hasArrows.dragging .arrows .downArrowIcon,.ge-commands .hasArrows.dragging .arrows .upArrowIcon{filter:none}.ge-commands .hasArrows input::-webkit-outer-spin-button,.ge-commands .hasArrows input::-webkit-inner-spin-button{-webkit-appearance:none;margin:0}.ge-commands .hasArrows input[type=number]{-moz-appearance:textfield}`, \"\",{\"version\":3,\"sources\":[\"webpack://./../../tools/guiEditor/dist/scss/commandBar.scss\"],\"names\":[],\"mappings\":\"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\",\"sourcesContent\":[\":root {\\r\\n    --selectionGrey: #666666;\\r\\n}\\r\\n\\r\\n.ge-commands {\\r\\n    grid-row: 1;\\r\\n    grid-column: 1;\\r\\n    user-select: none;\\r\\n    * {\\r\\n        font-family: \\\"acumin-pro-condensed\\\";\\r\\n        font-weight: 600;\\r\\n        font-size: 12px;\\r\\n    }\\r\\n\\r\\n    .copy {\\r\\n        display: none;\\r\\n    }\\r\\n\\r\\n    .commands-left {\\r\\n        float: left;\\r\\n        display: flex;\\r\\n    }\\r\\n\\r\\n    .commands-right {\\r\\n        float: right;\\r\\n        display: flex;\\r\\n        .beta-flag {\\r\\n            height: 30px;\\r\\n            position: relative;\\r\\n            left: -15px;\\r\\n        }\\r\\n    }\\r\\n\\r\\n    &.background-ts {\\r\\n        .command-button,\\r\\n        .command-dropdown {\\r\\n            img {\\r\\n                filter: invert(64%) sepia(78%) saturate(940%) hue-rotate(323deg) brightness(105%) contrast(103%);\\r\\n            }\\r\\n\\r\\n            .command-dropdown-active {\\r\\n                color: #333333;\\r\\n            }\\r\\n\\r\\n            &:hover,\\r\\n            &.activated {\\r\\n                img {\\r\\n                    filter: invert(34%) sepia(21%) saturate(3832%) hue-rotate(324deg) brightness(88%) contrast(82%) !important;\\r\\n                }\\r\\n            }\\r\\n        }\\r\\n    }\\r\\n\\r\\n    &.background-js {\\r\\n        .command-button,\\r\\n        .command-dropdown {\\r\\n            img {\\r\\n                filter: invert(57%) sepia(80%) saturate(2031%) hue-rotate(215deg);\\r\\n            }\\r\\n\\r\\n            .command-dropdown-active {\\r\\n                color: #333333;\\r\\n            }\\r\\n\\r\\n            &:hover,\\r\\n            &.activated {\\r\\n                img {\\r\\n                    filter: invert(17%) !important;\\r\\n                }\\r\\n            }\\r\\n        }\\r\\n    }\\r\\n\\r\\n    .command-button {\\r\\n        cursor: pointer;\\r\\n        width: 55px;\\r\\n        height: 55px;\\r\\n\\r\\n        .command-label {\\r\\n            display: none;\\r\\n        }\\r\\n\\r\\n        .command-button-icon {\\r\\n            height: 100%;\\r\\n            width: 100%;\\r\\n            display: grid;\\r\\n            color: white;\\r\\n            align-content: center;\\r\\n            justify-content: center;\\r\\n        }\\r\\n\\r\\n        .active {\\r\\n            transform-origin: center;\\r\\n            background-color: var(--selectionGrey);\\r\\n        }\\r\\n\\r\\n        img {\\r\\n            &.active {\\r\\n                background-color: var(--selectionGrey);\\r\\n            }\\r\\n        }\\r\\n    }\\r\\n    .command-button:hover {\\r\\n        background-color: var(--selectionGrey);\\r\\n    }\\r\\n    .copyAndDeleteDisabled {\\r\\n        pointer-events: none;\\r\\n        color: black;\\r\\n    }\\r\\n    .pasteDisabled {\\r\\n        pointer-events: none;\\r\\n        color: black;\\r\\n    }\\r\\n    .command-dropdown-root {\\r\\n        position: relative;\\r\\n        text-transform: uppercase;\\r\\n        z-index: 1;\\r\\n    }\\r\\n\\r\\n    .command-dropdown {\\r\\n        cursor: pointer;\\r\\n        width: 55px;\\r\\n        height: 55px;\\r\\n\\r\\n        .command-dropdown-icon {\\r\\n            height: 100%;\\r\\n            width: 100%;\\r\\n            display: grid;\\r\\n            align-content: center;\\r\\n            justify-content: center;\\r\\n        }\\r\\n\\r\\n        .command-dropdown-active {\\r\\n            height: 100%;\\r\\n            width: 100%;\\r\\n            display: grid;\\r\\n            align-content: center;\\r\\n            justify-content: center;\\r\\n            font-size: 14px;\\r\\n        }\\r\\n\\r\\n        &:hover,\\r\\n        &.activated {\\r\\n            background-color: #666666;\\r\\n            color: black;\\r\\n        }\\r\\n\\r\\n        &:active {\\r\\n            transform-origin: center;\\r\\n            transform: scale(0.95);\\r\\n        }\\r\\n    }\\r\\n\\r\\n    .command-dropdown-blocker {\\r\\n        position: absolute;\\r\\n        top: 0;\\r\\n        left: 0;\\r\\n        width: 100%;\\r\\n        height: 100%;\\r\\n        transform: scale(1);\\r\\n        z-index: 1;\\r\\n    }\\r\\n\\r\\n    &.background-js {\\r\\n        .command-dropdown-content {\\r\\n            background: #333333;\\r\\n            .command-dropdown-label {\\r\\n                &:hover {\\r\\n                    background: #333333;\\r\\n                }\\r\\n            }\\r\\n        }\\r\\n    }\\r\\n\\r\\n    &.background-ts {\\r\\n        .command-dropdown-content {\\r\\n            .command-dropdown-label {\\r\\n                &:hover {\\r\\n                    background: #333333;\\r\\n                }\\r\\n            }\\r\\n        }\\r\\n    }\\r\\n\\r\\n    .command-dropdown-content {\\r\\n        background: #333333;\\r\\n        position: absolute;\\r\\n        top: 55px;\\r\\n        width: 55px;\\r\\n        transform: scale(1);\\r\\n\\r\\n        &.toRight {\\r\\n            width: 120px;\\r\\n        }\\r\\n\\r\\n        .command-dropdown-label {\\r\\n            color: white;\\r\\n            padding: 5px;\\r\\n            padding-left: 7px;\\r\\n            height: 35px;\\r\\n            font-size: 18px;\\r\\n            display: grid;\\r\\n            align-items: center;\\r\\n            cursor: pointer;\\r\\n            user-select: none;\\r\\n            grid-template-columns: 1fr 20px;\\r\\n            grid-template-rows: 100%;\\r\\n            position: relative;\\r\\n\\r\\n            &.active {\\r\\n                font-weight: bold;\\r\\n                font-size: 20px;\\r\\n            }\\r\\n\\r\\n            &:hover {\\r\\n                background: var(--selectionGrey);\\r\\n                .sub-items {\\r\\n                    display: block;\\r\\n                }\\r\\n            }\\r\\n\\r\\n            .command-dropdown-label-text {\\r\\n                font-size: 12px;\\r\\n                grid-column: 1;\\r\\n                grid-row: 1;\\r\\n            }\\r\\n\\r\\n            .command-dropdown-label-check {\\r\\n                grid-column: 2;\\r\\n                grid-row: 1;\\r\\n            }\\r\\n\\r\\n            .command-dropdown-arrow {\\r\\n                grid-column: 2;\\r\\n                grid-row: 1;\\r\\n                font-size: 20px;\\r\\n                font-weight: bold;\\r\\n                padding-bottom: 10px;\\r\\n                padding-left: 4px;\\r\\n            }\\r\\n\\r\\n            .sub-items {\\r\\n                position: absolute;\\r\\n                left: 200px;\\r\\n                top: 0;\\r\\n                width: 150px;\\r\\n                display: none;\\r\\n\\r\\n                &.background-js {\\r\\n                    background: #bfabff;\\r\\n                    .sub-item {\\r\\n                        &:hover {\\r\\n                            background-color: #333333;\\r\\n                            color: white;\\r\\n                        }\\r\\n                    }\\r\\n                }\\r\\n\\r\\n                &.background-ts {\\r\\n                    background: #333333;\\r\\n                    .sub-item {\\r\\n                        &:hover {\\r\\n                            background-color: #333333;\\r\\n                            color: white;\\r\\n                        }\\r\\n                    }\\r\\n                }\\r\\n\\r\\n                .sub-item {\\r\\n                    color: white;\\r\\n                    padding: 5px;\\r\\n                    padding-left: 10px;\\r\\n                    height: 35px;\\r\\n                    display: grid;\\r\\n\\r\\n                    &.checked {\\r\\n                        background: white;\\r\\n                        color: black;\\r\\n                    }\\r\\n                }\\r\\n            }\\r\\n        }\\r\\n\\r\\n        .buttonLine {\\r\\n            color: white;\\r\\n            padding: 5px;\\r\\n            padding-left: 7px;\\r\\n            height: 35px;\\r\\n            font-size: 18px;\\r\\n            display: grid;\\r\\n            align-items: center;\\r\\n            cursor: pointer;\\r\\n            user-select: none;\\r\\n            grid-template-columns: 1fr 20px;\\r\\n            grid-template-rows: 100%;\\r\\n            position: relative;\\r\\n            font-size: 12px;\\r\\n            grid-column: 1;\\r\\n            grid-row: 1;\\r\\n            input[type=\\\"file\\\"] {\\r\\n                display: none;\\r\\n            }\\r\\n\\r\\n            &.active {\\r\\n                font-weight: bold;\\r\\n                font-size: 20px;\\r\\n                cursor: pointer;\\r\\n            }\\r\\n\\r\\n            &:hover {\\r\\n                background: var(--selectionGrey);\\r\\n                cursor: pointer;\\r\\n                .sub-items {\\r\\n                    display: block;\\r\\n                }\\r\\n            }\\r\\n\\r\\n            .file-upload {\\r\\n                cursor: pointer;\\r\\n            }\\r\\n        }\\r\\n    }\\r\\n\\r\\n    .divider {\\r\\n        display: flex;\\r\\n        align-items: center;\\r\\n        border-right: 1px solid black;\\r\\n        color: white;\\r\\n        &:last-of-type {\\r\\n            border-right: none;\\r\\n        }\\r\\n        &.padded {\\r\\n            padding-left: 10px;\\r\\n            padding-right: 10px;\\r\\n        }\\r\\n    }\\r\\n\\r\\n    .floatLine,\\r\\n    .checkBoxLine {\\r\\n        display: flex;\\r\\n        align-items: center;\\r\\n\\r\\n        .copy {\\r\\n            display: none;\\r\\n        }\\r\\n    }\\r\\n\\r\\n    .checkBoxLine {\\r\\n        .icon {\\r\\n            filter: brightness(10);\\r\\n        }\\r\\n\\r\\n        .hidden {\\r\\n            display: none;\\r\\n        }\\r\\n\\r\\n        .checkBox {\\r\\n            height: 40px;\\r\\n        }\\r\\n\\r\\n        .copy {\\r\\n            display: none;\\r\\n        }\\r\\n    }\\r\\n\\r\\n    .color3Line {\\r\\n        display: grid;\\r\\n\\r\\n        .firstLine {\\r\\n            display: flex;\\r\\n            align-items: center;\\r\\n\\r\\n            .label {\\r\\n                padding-right: 5px;\\r\\n            }\\r\\n\\r\\n            .floatLine {\\r\\n                .value {\\r\\n                    padding-left: 2px;\\r\\n                }\\r\\n            }\\r\\n\\r\\n            .copy {\\r\\n                display: none;\\r\\n            }\\r\\n\\r\\n            .expand {\\r\\n                display: none;\\r\\n            }\\r\\n        }\\r\\n\\r\\n        .secondLine {\\r\\n            display: grid;\\r\\n            padding-right: 5px;\\r\\n            border-left: 1px solid rgb(51, 122, 183);\\r\\n\\r\\n            .numeric {\\r\\n                display: grid;\\r\\n                grid-template-columns: 1fr auto;\\r\\n            }\\r\\n\\r\\n            .numeric-label {\\r\\n                text-align: right;\\r\\n                grid-column: 1;\\r\\n                display: flex;\\r\\n                align-items: center;\\r\\n                justify-self: right;\\r\\n                margin-right: 10px;\\r\\n            }\\r\\n\\r\\n            .numeric-value {\\r\\n                width: 120px;\\r\\n                grid-column: 2;\\r\\n                display: flex;\\r\\n                align-items: center;\\r\\n                border: 1px solid rgb(51, 122, 183);\\r\\n            }\\r\\n        }\\r\\n    }\\r\\n\\r\\n    .color-picker {\\r\\n        height: 26px;\\r\\n        width: 26px;\\r\\n\\r\\n        .color-rect-background {\\r\\n            width: calc(100% - 2px);\\r\\n            height: calc(100% - 2px);\\r\\n            border: 1px solid white;\\r\\n            cursor: pointer;\\r\\n            background: repeating-conic-gradient(#e2e2e2 0% 25%, white 0% 50%) 50% / 100% 100%;\\r\\n            .color-rect {\\r\\n                height: 100%;\\r\\n            }\\r\\n        }\\r\\n\\r\\n        .color-picker-cover {\\r\\n            position: fixed;\\r\\n            top: 0px;\\r\\n            right: 0px;\\r\\n            bottom: 0px;\\r\\n            left: 0px;\\r\\n            z-index: 2;\\r\\n        }\\r\\n\\r\\n        .color-picker-float {\\r\\n            position: absolute;\\r\\n            outline: 1px solid black;\\r\\n        }\\r\\n\\r\\n        .color-picker-container {\\r\\n            background-color: #e2e2e2;\\r\\n        }\\r\\n\\r\\n        input:focus {\\r\\n            outline-color: black;\\r\\n        }\\r\\n    }\\r\\n\\r\\n    .floatLine input,\\r\\n    .listLine select {\\r\\n        background-color: #000000;\\r\\n        color: white;\\r\\n        padding: 5px;\\r\\n        border: none;\\r\\n    }\\r\\n\\r\\n    input,\\r\\n    .listLine select {\\r\\n        outline-color: transparent;\\r\\n        outline-width: 1px;\\r\\n        outline-offset: -1px;\\r\\n        outline-style: solid;\\r\\n        transition: 0.2s outline;\\r\\n        border: none;\\r\\n    }\\r\\n\\r\\n    .floatLine .value {\\r\\n        position: relative;\\r\\n        margin: 5px;\\r\\n    }\\r\\n\\r\\n    .floatLine input:focus {\\r\\n        outline-color: white;\\r\\n    }\\r\\n\\r\\n    .listLine select {\\r\\n        width: 150px;\\r\\n    }\\r\\n\\r\\n    .hasArrows {\\r\\n        .arrows {\\r\\n            display: none;\\r\\n            position: absolute;\\r\\n            right: 0;\\r\\n            top: 0;\\r\\n            flex-direction: column;\\r\\n            cursor: grab;\\r\\n            filter: brightness(10);\\r\\n            .downArrowIcon,\\r\\n            .upArrowIcon {\\r\\n                width: 13px;\\r\\n                height: 13px;\\r\\n            }\\r\\n        }\\r\\n        &:hover .arrows,\\r\\n        &:focus .arrows,\\r\\n        &.dragging .arrows {\\r\\n            display: flex;\\r\\n        }\\r\\n        .arrows:hover {\\r\\n            background-color: var(--buttonHoverBackground);\\r\\n            filter: none;\\r\\n        }\\r\\n        &.dragging .arrows {\\r\\n            background-color: var(--buttonPressedBackground);\\r\\n            .downArrowIcon,\\r\\n            .upArrowIcon {\\r\\n                filter: none;\\r\\n            }\\r\\n        }\\r\\n    }\\r\\n    .hasArrows input::-webkit-outer-spin-button,\\r\\n    .hasArrows input::-webkit-inner-spin-button {\\r\\n        -webkit-appearance: none;\\r\\n        margin: 0;\\r\\n    }\\r\\n\\r\\n    .hasArrows input[type=\\\"number\\\"] {\\r\\n        -moz-appearance: textfield;\\r\\n    }\\r\\n}\\r\\n\"],\"sourceRoot\":\"\"}]);\n// Exports\nexport default ___CSS_LOADER_EXPORT___;\n","// Imports\nimport ___CSS_LOADER_API_SOURCEMAP_IMPORT___ from \"../../../../../node_modules/css-loader/dist/runtime/sourceMaps.js\";\nimport ___CSS_LOADER_API_IMPORT___ from \"../../../../../node_modules/css-loader/dist/runtime/api.js\";\nimport ___CSS_LOADER_ICSS_IMPORT_0___, * as ___CSS_LOADER_ICSS_IMPORT_0____NAMED___ from \"-!../../../../../node_modules/css-loader/dist/cjs.js??ruleSet[1].rules[3].use[1]!./Fonts.scss\";\nvar ___CSS_LOADER_EXPORT___ = ___CSS_LOADER_API_IMPORT___(___CSS_LOADER_API_SOURCEMAP_IMPORT___);\n___CSS_LOADER_EXPORT___.i(___CSS_LOADER_ICSS_IMPORT_0___, \"\", true);\n// Module\n___CSS_LOADER_EXPORT___.push([module.id, `.\\\\---sharedUiComponents-src-components-Button-module__button{width:55px;height:55px;border:none;display:inline-flex;align-items:center;justify-content:center;padding:0 0}.\\\\---sharedUiComponents-src-components-Button-module__button.\\\\---sharedUiComponents-src-components-Button-module__wide{width:120px;height:45px;justify-content:start}.\\\\---sharedUiComponents-src-components-Button-module__button.\\\\---sharedUiComponents-src-components-Button-module__small{width:30px;height:30px}.\\\\---sharedUiComponents-src-components-Button-module__button.\\\\---sharedUiComponents-src-components-Button-module__smaller{width:25px;height:25px}.\\\\---sharedUiComponents-src-components-Button-module__button.\\\\---sharedUiComponents-src-components-Button-module__light{background-color:#E2E2E2;color:#333333}.\\\\---sharedUiComponents-src-components-Button-module__button.\\\\---sharedUiComponents-src-components-Button-module__light:hover,.\\\\---sharedUiComponents-src-components-Button-module__button.\\\\---sharedUiComponents-src-components-Button-module__light.\\\\---sharedUiComponents-src-components-Button-module__active{background-color:#FFFFFF}.\\\\---sharedUiComponents-src-components-Button-module__button.\\\\---sharedUiComponents-src-components-Button-module__light:disabled{background-color:#FFFFFF}.\\\\---sharedUiComponents-src-components-Button-module__button.\\\\---sharedUiComponents-src-components-Button-module__dark{background-color:#333333;color:#FFFFFF}.\\\\---sharedUiComponents-src-components-Button-module__button.\\\\---sharedUiComponents-src-components-Button-module__dark:hover,.\\\\---sharedUiComponents-src-components-Button-module__button.\\\\---sharedUiComponents-src-components-Button-module__dark.\\\\---sharedUiComponents-src-components-Button-module__active{background-color:#666666}`, \"\",{\"version\":3,\"sources\":[\"webpack://./../sharedUiComponents/src/components/Button.module.scss\"],\"names\":[],\"mappings\":\"AACA,6DAEI,UAAA,CACA,WAAA,CACA,WAAA,CACA,mBAAA,CACA,kBAAA,CACA,sBAAA,CACA,WAAA,CACA,uHACI,WAAA,CACA,WAAA,CACA,qBAAA,CAEJ,wHACI,UAAA,CACA,WAAA,CAEJ,0HACI,UAAA,CACA,WAAA,CAEJ,wHACI,wBAAA,CACA,aAAA,CACA,kTAEI,wBAAA,CAEJ,iIACI,wBAAA,CAGR,uHACI,wBAAA,CACA,aAAA,CACA,gTAEI,wBAAA\",\"sourcesContent\":[\"@use \\\"Colors.scss\\\" as *;\\r\\n:local .button {\\r\\n    composes: fontRegular from \\\"Fonts.scss\\\";\\r\\n    width: 55px;\\r\\n    height: 55px;\\r\\n    border: none;\\r\\n    display: inline-flex;\\r\\n    align-items: center;\\r\\n    justify-content: center;\\r\\n    padding: 0 0;\\r\\n    &.wide {\\r\\n        width: 120px;\\r\\n        height: 45px;\\r\\n        justify-content: start;\\r\\n    }\\r\\n    &.small {\\r\\n        width: 30px;\\r\\n        height: 30px;\\r\\n    }\\r\\n    &.smaller {\\r\\n        width: 25px;\\r\\n        height: 25px;\\r\\n    }\\r\\n    &.light {\\r\\n        background-color: light-background;\\r\\n        color: dark-color;\\r\\n        &:hover,\\r\\n        &.active {\\r\\n            background-color: light-active-background;\\r\\n        }\\r\\n        &:disabled {\\r\\n            background-color: light-color;\\r\\n        }\\r\\n    }\\r\\n    &.dark {\\r\\n        background-color: dark-background;\\r\\n        color: light-color;\\r\\n        &:hover,\\r\\n        &.active {\\r\\n            background-color: dark-active-background;\\r\\n        }\\r\\n    }\\r\\n}\\r\\n\"],\"sourceRoot\":\"\"}]);\n// Exports\nvar _1 = `#E2E2E2`;\nexport { _1 as \"light-background\" };\nvar _2 = `#FFFFFF`;\nexport { _2 as \"light-active-background\" };\nvar _3 = `#C8C8C8`;\nexport { _3 as \"light-disabled-background\" };\nvar _4 = `#FFFFFF`;\nexport { _4 as \"light-color\" };\nvar _5 = `#333333`;\nexport { _5 as \"dark-background\" };\nvar _6 = `#666666`;\nexport { _6 as \"dark-active-background\" };\nvar _7 = `#333333`;\nexport { _7 as \"dark-color\" };\nexport var button = `---sharedUiComponents-src-components-Button-module__button ${___CSS_LOADER_ICSS_IMPORT_0____NAMED___[\"fontRegular\"]}`;\nexport var wide = `---sharedUiComponents-src-components-Button-module__wide`;\nexport var small = `---sharedUiComponents-src-components-Button-module__small`;\nexport var smaller = `---sharedUiComponents-src-components-Button-module__smaller`;\nexport var light = `---sharedUiComponents-src-components-Button-module__light`;\nexport var active = `---sharedUiComponents-src-components-Button-module__active`;\nexport var dark = `---sharedUiComponents-src-components-Button-module__dark`;\nexport default ___CSS_LOADER_EXPORT___;\n","// Imports\nimport ___CSS_LOADER_API_SOURCEMAP_IMPORT___ from \"../../../../../node_modules/css-loader/dist/runtime/sourceMaps.js\";\nimport ___CSS_LOADER_API_IMPORT___ from \"../../../../../node_modules/css-loader/dist/runtime/api.js\";\nvar ___CSS_LOADER_EXPORT___ = ___CSS_LOADER_API_IMPORT___(___CSS_LOADER_API_SOURCEMAP_IMPORT___);\n// Module\n___CSS_LOADER_EXPORT___.push([module.id, `.\\\\---sharedUiComponents-src-components-Fonts__fontRegular {\r\n    font-family: \"acumin-pro-condensed\";\r\n    font-size: 14px;\r\n}\r\n`, \"\",{\"version\":3,\"sources\":[\"webpack://./../sharedUiComponents/src/components/Fonts.scss\"],\"names\":[],\"mappings\":\"AAAA;IACI,mCAAmC;IACnC,eAAe;AACnB\",\"sourcesContent\":[\":local(.fontRegular) {\\r\\n    font-family: \\\"acumin-pro-condensed\\\";\\r\\n    font-size: 14px;\\r\\n}\\r\\n\"],\"sourceRoot\":\"\"}]);\n// Exports\nexport var fontRegular = `---sharedUiComponents-src-components-Fonts__fontRegular`;\nexport default ___CSS_LOADER_EXPORT___;\n","// Imports\nimport ___CSS_LOADER_API_SOURCEMAP_IMPORT___ from \"../../../../../node_modules/css-loader/dist/runtime/sourceMaps.js\";\nimport ___CSS_LOADER_API_IMPORT___ from \"../../../../../node_modules/css-loader/dist/runtime/api.js\";\nvar ___CSS_LOADER_EXPORT___ = ___CSS_LOADER_API_IMPORT___(___CSS_LOADER_API_SOURCEMAP_IMPORT___);\n// Module\n___CSS_LOADER_EXPORT___.push([module.id, `#workbench-canvas{grid-column:1;grid-row:1;width:100%;height:100%;margin:0;padding:0;font:14px \"acumin-pro-condensed\";cursor:default;user-select:none;overflow:hidden;background-image:linear-gradient(to right, #4f4e4f 1px, transparent 1px),linear-gradient(to bottom, #4f4e4f 1px, transparent 1px)}#workbench-canvas #selection-container{pointer-events:none}#workbench-canvas #selection-container .selection-box{z-index:10;background:rgba(72,72,196,.5);border:blue solid 2px}#workbench-canvas #workbench-container{width:100%;height:100%;left:0;top:0;transform-origin:left top;display:grid;grid-template-rows:100%;grid-template-columns:100%}#workbench-canvas #workbench-container #frame-container{overflow:visible;grid-row:1;grid-column:1;position:relative;width:100%;height:100%}#workbench-canvas #workbench-container .frame-box{position:absolute;background:rgba(72,72,72,.7);display:grid;grid-template-rows:40px calc(100% - 40px);grid-template-columns:100%;box-sizing:border-box}#workbench-canvas #workbench-container .frame-box.collapsed{height:auto !important;width:200px !important;z-index:3}#workbench-canvas #workbench-container .frame-box.collapsed .frame-box-header{font-size:16px;grid-template-columns:calc(100% - 37px) 30px 7px}#workbench-canvas #workbench-container .frame-box.collapsed .frame-box-header .frame-box-header-collapse{margin-top:-2px}#workbench-canvas #workbench-container .frame-box.collapsed .frame-box-header .frame-box-header-close{display:none}#workbench-canvas #workbench-container .frame-box.collapsed .frame-comments.has-comments .frame-comment-span{white-space:nowrap;text-overflow:ellipsis;overflow:hidden}#workbench-canvas #workbench-container .frame-box .frame-box-border{grid-row:1/span 2;grid-column:1;width:100%;height:100%;border:rgba(0,0,0,0) solid 4px;pointer-events:none;box-sizing:border-box}#workbench-canvas #workbench-container .frame-box .frame-box-header{grid-row:1;grid-column:1;background:#484848;color:#fff;font-size:24px;text-align:center;display:grid;grid-template-rows:100%;grid-template-columns:calc(100% - 74px) 30px 7px 30px 7px;align-content:center;overflow:hidden}#workbench-canvas #workbench-container .frame-box .frame-box-header .frame-box-header-button{cursor:pointer;align-self:center;transform-origin:50% 50%;transform:scale(1);stroke:rgba(0,0,0,0);fill:#fff;display:grid}#workbench-canvas #workbench-container .frame-box .frame-box-header .frame-box-header-button.down{transform:scale(0.9)}#workbench-canvas #workbench-container .frame-box .frame-box-header .frame-box-header-collapse{grid-column:2;grid-row:1}#workbench-canvas #workbench-container .frame-box .frame-box-header .frame-box-header-close{grid-column:4;grid-row:1}#workbench-canvas #workbench-container .frame-box .frame-box-header .frame-box-header-title{grid-column:1;grid-row:1;display:grid;height:100%;width:100%;align-self:stretch;align-items:center;margin-top:-2px}#workbench-canvas #workbench-container .frame-box .frame-comments.has-comments{display:grid;grid-row:2;grid-column:1;padding:0 10px;font-style:italic;word-wrap:break-word}#workbench-canvas #workbench-container .frame-box.selected .frame-box-border{border-color:#fff}#workbench-canvas #workbench-container .frame-box .right-handle{grid-area:1/2/3/2;width:4px;background-color:rgba(0,0,0,0);cursor:ew-resize}#workbench-canvas #workbench-container .frame-box .right-handle::after{content:\"\";width:8px;position:absolute;top:0;bottom:0;margin-left:-4px;cursor:ew-resize}#workbench-canvas #workbench-container .frame-box .right-handle.collapsed{cursor:pointer}#workbench-canvas #workbench-container .frame-box .top-right-corner-handle{background-color:rgba(0,0,0,0);height:4px;z-index:21;cursor:ne-resize;width:4px;margin-left:-6px}#workbench-canvas #workbench-container .frame-box .top-right-corner-handle::after{background-color:rgba(0,0,0,0);cursor:ne-resize;margin-left:unset;top:-4px;height:10px;width:10px}#workbench-canvas #workbench-container .frame-box .bottom-right-corner-handle{background-color:rgba(0,0,0,0);height:0px;z-index:21;cursor:nw-resize;grid-area:4/2/4/2;margin-left:-2px}#workbench-canvas #workbench-container .frame-box .bottom-right-corner-handle::after{background-color:rgba(0,0,0,0);height:10px;cursor:nw-resize;top:unset;bottom:-4px;width:10px}#workbench-canvas #workbench-container .frame-box .left-handle{grid-area:1/1/3/1;width:4px;background-color:rgba(0,0,0,0);cursor:ew-resize}#workbench-canvas #workbench-container .frame-box .left-handle::before{content:\"\";width:8px;position:absolute;top:0;bottom:0;margin-left:-4px}#workbench-canvas #workbench-container .frame-box .top-left-corner-handle{background-color:rgba(0,0,0,0);height:4px;z-index:21;cursor:nw-resize;width:4px;margin-left:-4px}#workbench-canvas #workbench-container .frame-box .top-left-corner-handle::before{background-color:rgba(0,0,0,0);cursor:nw-resize;margin-left:unset;top:-4px;height:10px;width:10px}#workbench-canvas #workbench-container .frame-box .bottom-left-corner-handle{background-color:rgba(0,0,0,0);height:0px;z-index:21;cursor:sw-resize;grid-area:4/1/4/1}#workbench-canvas #workbench-container .frame-box .bottom-left-corner-handle::before{background-color:rgba(0,0,0,0);height:10px;cursor:sw-resize;top:unset;bottom:-4px;width:10px}#workbench-canvas #workbench-container .frame-box .top-handle{grid-area:1/1/1/1;background-color:rgba(0,0,0,0);height:4px;cursor:ns-resize}#workbench-canvas #workbench-container .frame-box .top-handle::before{content:\"\";width:100%;position:absolute;top:-4px;bottom:100%;right:0;left:0;margin-bottom:-8px;cursor:ns-resize;height:8px}#workbench-canvas #workbench-container .frame-box .bottom-handle{grid-area:3/1/3/1;background-color:rgba(0,0,0,0);height:4px;cursor:ns-resize}#workbench-canvas #workbench-container .frame-box .bottom-handle::after{content:\"\";width:100%;position:absolute;top:100%;bottom:0;right:0;left:0;margin-top:-8px;cursor:ns-resize;height:12px}#workbench-canvas #workbench-container .frame-box.collapsed .top-handle,#workbench-canvas #workbench-container .frame-box.collapsed .top-right-corner-handle,#workbench-canvas #workbench-container .frame-box.collapsed .right-handle,#workbench-canvas #workbench-container .frame-box.collapsed .bottom-right-corner-handle,#workbench-canvas #workbench-container .frame-box.collapsed .bottom-handle,#workbench-canvas #workbench-container .frame-box.collapsed .bottom-left-corner-handle,#workbench-canvas #workbench-container .frame-box.collapsed .left-handle,#workbench-canvas #workbench-container .frame-box.collapsed .top-left-corner-handle{cursor:default}#workbench-canvas #workbench-container .frame-box.collapsed .right-handle::after,#workbench-canvas #workbench-container .frame-box.collapsed .bottom-handle::after,#workbench-canvas #workbench-container .frame-box.collapsed .top-right-corner-handle::after,#workbench-canvas #workbench-container .frame-box.collapsed .bottom-right-corner-handle::after{cursor:default}#workbench-canvas #workbench-container .frame-box.collapsed .left-handle::before,#workbench-canvas #workbench-container .frame-box.collapsed .top-handle::before,#workbench-canvas #workbench-container .frame-box.collapsed .top-left-corner-handle::before,#workbench-canvas #workbench-container .frame-box.collapsed .bottom-left-corner-handle::before{cursor:default}#workbench-canvas #workbench-container #workbench-svg-container{grid-row:1;grid-column:1;position:relative;width:100%;height:100%;overflow:visible;pointer-events:none;z-index:2}#workbench-canvas #workbench-container #workbench-svg-container .link{stroke-width:4px}#workbench-canvas #workbench-container #workbench-svg-container .link.selected{stroke:#fff !important;stroke-dasharray:10,2}#workbench-canvas #workbench-container #workbench-svg-container .link.hidden{display:none}#workbench-canvas #workbench-container #workbench-svg-container .selection-link{pointer-events:all;stroke-width:16px;opacity:0;transition:opacity 75ms;stroke:rgba(0,0,0,0);cursor:pointer}#workbench-canvas #workbench-container #workbench-svg-container .selection-link.hidden{display:none}#workbench-canvas #workbench-container #workbench-svg-container .selection-link:hover,#workbench-canvas #workbench-container #workbench-svg-container .selection-link.selected{stroke:#fff !important;opacity:.4}#workbench-canvas #workbench-container #workbench-canvas-container{grid-row:1;grid-column:1;position:relative;width:100%;height:100%}#workbench-canvas #workbench-container #workbench-canvas-container .visual{z-index:4;width:200px;position:absolute;left:0;top:0;background:gray;border:4px solid #000;border-radius:12px;display:grid;grid-template-rows:30px auto;grid-template-columns:100%;color:#fff}#workbench-canvas #workbench-container #workbench-canvas-container .visual.hidden{display:none}#workbench-canvas #workbench-container #workbench-canvas-container .visual .comments{position:absolute;top:-50px;width:200px;height:45px;overflow:hidden;font-style:italic;opacity:.8;display:grid;align-items:flex-end;pointer-events:none}#workbench-canvas #workbench-container #workbench-canvas-container .visual .selection-border{grid-row:1/span 3;grid-column:1;margin:-4px;transition:border-color 100ms;border:4px solid #000;border-radius:12px}#workbench-canvas #workbench-container #workbench-canvas-container .visual.selected .selection-border{border-color:#fff}#workbench-canvas #workbench-container #workbench-canvas-container .visual .header{grid-row:1;grid-column:1;border:4px solid #000;border-top-right-radius:7px;border-top-left-radius:7px;font-size:16px;text-align:center;margin-top:-1px;margin-left:-1px;margin-right:-1px;white-space:nowrap;text-overflow:ellipsis;overflow:hidden;background:#000;color:#fff}#workbench-canvas #workbench-container #workbench-canvas-container .visual .header.constant{border-color:#464348;background:#464348}#workbench-canvas #workbench-container #workbench-canvas-container .visual .header.inspector{border-color:#66491b;background:#66491b}`, \"\",{\"version\":3,\"sources\":[\"webpack://./../../tools/guiEditor/dist/diagram/workbenchCanvas.scss\"],\"names\":[],\"mappings\":\"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\",\"sourcesContent\":[\"#workbench-canvas {\\r\\n    grid-column: 1;\\r\\n    grid-row: 1;\\r\\n    width: 100%;\\r\\n    height: 100%;\\r\\n    margin: 0;\\r\\n    padding: 0;\\r\\n    font: 14px \\\"acumin-pro-condensed\\\";\\r\\n    cursor: default;\\r\\n    user-select: none;\\r\\n    overflow: hidden;\\r\\n\\r\\n    background-image: linear-gradient(to right, #4f4e4f 1px, transparent 1px), linear-gradient(to bottom, #4f4e4f 1px, transparent 1px);\\r\\n\\r\\n    #selection-container {\\r\\n        pointer-events: none;\\r\\n\\r\\n        .selection-box {\\r\\n            z-index: 10;\\r\\n            background: rgba(72, 72, 196, 0.5);\\r\\n            border: blue solid 2px;\\r\\n        }\\r\\n    }\\r\\n\\r\\n    #workbench-container {\\r\\n        width: 100%;\\r\\n        height: 100%;\\r\\n        left: 0;\\r\\n        top: 0;\\r\\n        transform-origin: left top;\\r\\n        display: grid;\\r\\n        grid-template-rows: 100%;\\r\\n        grid-template-columns: 100%;\\r\\n\\r\\n        #frame-container {\\r\\n            overflow: visible;\\r\\n            grid-row: 1;\\r\\n            grid-column: 1;\\r\\n            position: relative;\\r\\n            width: 100%;\\r\\n            height: 100%;\\r\\n        }\\r\\n\\r\\n        .frame-box {\\r\\n            position: absolute;\\r\\n            background: rgba(72, 72, 72, 0.7);\\r\\n            display: grid;\\r\\n            grid-template-rows: 40px calc(100% - 40px);\\r\\n            grid-template-columns: 100%;\\r\\n            box-sizing: border-box;\\r\\n\\r\\n            &.collapsed {\\r\\n                height: auto !important;\\r\\n                width: 200px !important;\\r\\n                z-index: 3;\\r\\n\\r\\n                .frame-box-header {\\r\\n                    font-size: 16px;\\r\\n                    grid-template-columns: calc(100% - 37px) 30px 7px;\\r\\n\\r\\n                    .frame-box-header-collapse {\\r\\n                        margin-top: -2px;\\r\\n                    }\\r\\n\\r\\n                    .frame-box-header-close {\\r\\n                        display: none;\\r\\n                    }\\r\\n                }\\r\\n\\r\\n                .frame-comments.has-comments {\\r\\n                    .frame-comment-span {\\r\\n                        white-space: nowrap;\\r\\n                        text-overflow: ellipsis;\\r\\n                        overflow: hidden;\\r\\n                    }\\r\\n                }\\r\\n            }\\r\\n\\r\\n            .frame-box-border {\\r\\n                grid-row: 1 / span 2;\\r\\n                grid-column: 1;\\r\\n                width: 100%;\\r\\n                height: 100%;\\r\\n                border: transparent solid 4px;\\r\\n                pointer-events: none;\\r\\n                box-sizing: border-box;\\r\\n            }\\r\\n\\r\\n            .frame-box-header {\\r\\n                grid-row: 1;\\r\\n                grid-column: 1;\\r\\n                background: rgba(72, 72, 72, 1);\\r\\n                color: white;\\r\\n                font-size: 24px;\\r\\n                text-align: center;\\r\\n                display: grid;\\r\\n                grid-template-rows: 100%;\\r\\n                grid-template-columns: calc(100% - 74px) 30px 7px 30px 7px;\\r\\n                align-content: center;\\r\\n                overflow: hidden;\\r\\n\\r\\n                .frame-box-header-button {\\r\\n                    cursor: pointer;\\r\\n                    align-self: center;\\r\\n                    transform-origin: 50% 50%;\\r\\n                    transform: scale(1);\\r\\n                    stroke: transparent;\\r\\n                    fill: white;\\r\\n                    display: grid;\\r\\n\\r\\n                    &.down {\\r\\n                        transform: scale(0.9);\\r\\n                    }\\r\\n                }\\r\\n\\r\\n                .frame-box-header-collapse {\\r\\n                    grid-column: 2;\\r\\n                    grid-row: 1;\\r\\n                }\\r\\n\\r\\n                .frame-box-header-close {\\r\\n                    grid-column: 4;\\r\\n                    grid-row: 1;\\r\\n                }\\r\\n\\r\\n                .frame-box-header-title {\\r\\n                    grid-column: 1;\\r\\n                    grid-row: 1;\\r\\n                    display: grid;\\r\\n                    height: 100%;\\r\\n                    width: 100%;\\r\\n                    align-self: stretch;\\r\\n                    align-items: center;\\r\\n                    margin-top: -2px;\\r\\n                }\\r\\n            }\\r\\n\\r\\n            .frame-comments.has-comments {\\r\\n                display: grid;\\r\\n                grid-row: 2;\\r\\n                grid-column: 1;\\r\\n                padding: 0 10px;\\r\\n                font-style: italic;\\r\\n                word-wrap: break-word;\\r\\n            }\\r\\n\\r\\n            &.selected {\\r\\n                .frame-box-border {\\r\\n                    border-color: white;\\r\\n                }\\r\\n            }\\r\\n\\r\\n            .right-handle {\\r\\n                grid-area: 1 / 2 / 3 / 2;\\r\\n                width: 4px;\\r\\n                background-color: transparent;\\r\\n                cursor: ew-resize;\\r\\n\\r\\n                &::after {\\r\\n                    content: \\\"\\\";\\r\\n                    width: 8px;\\r\\n                    position: absolute;\\r\\n                    top: 0;\\r\\n                    bottom: 0;\\r\\n                    margin-left: -4px;\\r\\n                    cursor: ew-resize;\\r\\n                }\\r\\n\\r\\n                &.collapsed {\\r\\n                    cursor: pointer;\\r\\n                }\\r\\n            }\\r\\n\\r\\n            .top-right-corner-handle {\\r\\n                background-color: transparent;\\r\\n                height: 4px;\\r\\n                z-index: 21;\\r\\n                cursor: ne-resize;\\r\\n                width: 4px;\\r\\n                margin-left: -6px;\\r\\n\\r\\n                &::after {\\r\\n                    background-color: transparent;\\r\\n                    cursor: ne-resize;\\r\\n                    margin-left: unset;\\r\\n                    top: -4px;\\r\\n                    height: 10px;\\r\\n                    width: 10px;\\r\\n                }\\r\\n            }\\r\\n\\r\\n            .bottom-right-corner-handle {\\r\\n                background-color: transparent;\\r\\n                height: 0px;\\r\\n                z-index: 21;\\r\\n                cursor: nw-resize;\\r\\n                grid-area: 4 / 2 / 4 / 2;\\r\\n                margin-left: -2px;\\r\\n\\r\\n                &::after {\\r\\n                    background-color: transparent;\\r\\n                    height: 10px;\\r\\n                    cursor: nw-resize;\\r\\n                    top: unset;\\r\\n                    bottom: -4px;\\r\\n                    width: 10px;\\r\\n                }\\r\\n            }\\r\\n\\r\\n            .left-handle {\\r\\n                grid-area: 1 / 1 / 3 / 1;\\r\\n                width: 4px;\\r\\n                background-color: transparent;\\r\\n                cursor: ew-resize;\\r\\n\\r\\n                &::before {\\r\\n                    content: \\\"\\\";\\r\\n                    width: 8px;\\r\\n                    position: absolute;\\r\\n                    top: 0;\\r\\n                    bottom: 0;\\r\\n                    margin-left: -4px;\\r\\n                }\\r\\n            }\\r\\n\\r\\n            .top-left-corner-handle {\\r\\n                background-color: transparent;\\r\\n                height: 4px;\\r\\n                z-index: 21;\\r\\n                cursor: nw-resize;\\r\\n                width: 4px;\\r\\n                margin-left: -4px;\\r\\n\\r\\n                &::before {\\r\\n                    background-color: transparent;\\r\\n                    cursor: nw-resize;\\r\\n                    margin-left: unset;\\r\\n                    top: -4px;\\r\\n                    height: 10px;\\r\\n                    width: 10px;\\r\\n                }\\r\\n            }\\r\\n\\r\\n            .bottom-left-corner-handle {\\r\\n                background-color: transparent;\\r\\n                height: 0px;\\r\\n                z-index: 21;\\r\\n                cursor: sw-resize;\\r\\n                grid-area: 4 / 1 / 4 / 1;\\r\\n\\r\\n                &::before {\\r\\n                    background-color: transparent;\\r\\n                    height: 10px;\\r\\n                    cursor: sw-resize;\\r\\n                    top: unset;\\r\\n                    bottom: -4px;\\r\\n                    width: 10px;\\r\\n                }\\r\\n            }\\r\\n\\r\\n            .top-handle {\\r\\n                grid-area: 1 / 1 / 1 / 1;\\r\\n                background-color: transparent;\\r\\n                height: 4px;\\r\\n                cursor: ns-resize;\\r\\n\\r\\n                &::before {\\r\\n                    content: \\\"\\\";\\r\\n                    width: 100%;\\r\\n                    position: absolute;\\r\\n                    top: -4px;\\r\\n                    bottom: 100%;\\r\\n                    right: 0;\\r\\n                    left: 0;\\r\\n                    margin-bottom: -8px;\\r\\n                    cursor: ns-resize;\\r\\n                    height: 8px;\\r\\n                }\\r\\n            }\\r\\n\\r\\n            .bottom-handle {\\r\\n                grid-area: 3 / 1 / 3 / 1;\\r\\n                background-color: transparent;\\r\\n                height: 4px;\\r\\n                cursor: ns-resize;\\r\\n\\r\\n                &::after {\\r\\n                    content: \\\"\\\";\\r\\n                    width: 100%;\\r\\n                    position: absolute;\\r\\n                    top: 100%;\\r\\n                    bottom: 0;\\r\\n                    right: 0;\\r\\n                    left: 0;\\r\\n                    margin-top: -8px;\\r\\n                    cursor: ns-resize;\\r\\n                    height: 12px;\\r\\n                }\\r\\n            }\\r\\n\\r\\n            &.collapsed {\\r\\n                .top-handle,\\r\\n                .top-right-corner-handle,\\r\\n                .right-handle,\\r\\n                .bottom-right-corner-handle,\\r\\n                .bottom-handle,\\r\\n                .bottom-left-corner-handle,\\r\\n                .left-handle,\\r\\n                .top-left-corner-handle {\\r\\n                    cursor: default;\\r\\n                }\\r\\n\\r\\n                .right-handle,\\r\\n                .bottom-handle,\\r\\n                .top-right-corner-handle,\\r\\n                .bottom-right-corner-handle {\\r\\n                    &::after {\\r\\n                        cursor: default;\\r\\n                    }\\r\\n                }\\r\\n\\r\\n                .left-handle,\\r\\n                .top-handle,\\r\\n                .top-left-corner-handle,\\r\\n                .bottom-left-corner-handle {\\r\\n                    &::before {\\r\\n                        cursor: default;\\r\\n                    }\\r\\n                }\\r\\n            }\\r\\n        }\\r\\n\\r\\n        #workbench-svg-container {\\r\\n            grid-row: 1;\\r\\n            grid-column: 1;\\r\\n            position: relative;\\r\\n            width: 100%;\\r\\n            height: 100%;\\r\\n            overflow: visible;\\r\\n            pointer-events: none;\\r\\n            z-index: 2;\\r\\n\\r\\n            .link {\\r\\n                stroke-width: 4px;\\r\\n                &.selected {\\r\\n                    stroke: white !important;\\r\\n                    stroke-dasharray: 10, 2;\\r\\n                }\\r\\n\\r\\n                &.hidden {\\r\\n                    display: none;\\r\\n                }\\r\\n            }\\r\\n\\r\\n            .selection-link {\\r\\n                pointer-events: all;\\r\\n                stroke-width: 16px;\\r\\n                opacity: 0;\\r\\n                transition: opacity 75ms;\\r\\n                stroke: transparent;\\r\\n                cursor: pointer;\\r\\n\\r\\n                &.hidden {\\r\\n                    display: none;\\r\\n                }\\r\\n\\r\\n                &:hover,\\r\\n                &.selected {\\r\\n                    stroke: white !important;\\r\\n                    opacity: 0.4;\\r\\n                }\\r\\n            }\\r\\n        }\\r\\n\\r\\n        #workbench-canvas-container {\\r\\n            grid-row: 1;\\r\\n            grid-column: 1;\\r\\n            position: relative;\\r\\n            width: 100%;\\r\\n            height: 100%;\\r\\n\\r\\n            .visual {\\r\\n                z-index: 4;\\r\\n                width: 200px;\\r\\n                position: absolute;\\r\\n                left: 0;\\r\\n                top: 0;\\r\\n                background: gray;\\r\\n                border: 4px solid black;\\r\\n                border-radius: 12px;\\r\\n                display: grid;\\r\\n                grid-template-rows: 30px auto;\\r\\n                grid-template-columns: 100%;\\r\\n                color: white;\\r\\n\\r\\n                &.hidden {\\r\\n                    display: none;\\r\\n                }\\r\\n\\r\\n                .comments {\\r\\n                    position: absolute;\\r\\n                    top: -50px;\\r\\n                    width: 200px;\\r\\n                    height: 45px;\\r\\n                    overflow: hidden;\\r\\n                    font-style: italic;\\r\\n                    opacity: 0.8;\\r\\n                    display: grid;\\r\\n                    align-items: flex-end;\\r\\n                    pointer-events: none;\\r\\n                }\\r\\n\\r\\n                .selection-border {\\r\\n                    grid-row: 1 / span 3;\\r\\n                    grid-column: 1;\\r\\n                    margin: -4px;\\r\\n\\r\\n                    transition: border-color 100ms;\\r\\n\\r\\n                    border: 4px solid black;\\r\\n                    border-radius: 12px;\\r\\n                }\\r\\n\\r\\n                &.selected {\\r\\n                    .selection-border {\\r\\n                        border-color: white;\\r\\n                    }\\r\\n                }\\r\\n\\r\\n                .header {\\r\\n                    grid-row: 1;\\r\\n                    grid-column: 1;\\r\\n                    border: 4px solid black;\\r\\n                    border-top-right-radius: 7px;\\r\\n                    border-top-left-radius: 7px;\\r\\n                    font-size: 16px;\\r\\n                    text-align: center;\\r\\n                    margin-top: -1px;\\r\\n                    margin-left: -1px;\\r\\n                    margin-right: -1px;\\r\\n                    white-space: nowrap;\\r\\n                    text-overflow: ellipsis;\\r\\n                    overflow: hidden;\\r\\n                    background: black;\\r\\n                    color: white;\\r\\n\\r\\n                    &.constant {\\r\\n                        border-color: #464348;\\r\\n                        background: #464348;\\r\\n                    }\\r\\n\\r\\n                    &.inspector {\\r\\n                        border-color: #66491b;\\r\\n                        background: #66491b;\\r\\n                    }\\r\\n                }\\r\\n            }\\r\\n        }\\r\\n    }\\r\\n}\\r\\n\"],\"sourceRoot\":\"\"}]);\n// Exports\nexport default ___CSS_LOADER_EXPORT___;\n","// Imports\nimport ___CSS_LOADER_API_SOURCEMAP_IMPORT___ from \"../../../../../../node_modules/css-loader/dist/runtime/sourceMaps.js\";\nimport ___CSS_LOADER_API_IMPORT___ from \"../../../../../../node_modules/css-loader/dist/runtime/api.js\";\nvar ___CSS_LOADER_EXPORT___ = ___CSS_LOADER_API_IMPORT___(___CSS_LOADER_API_SOURCEMAP_IMPORT___);\n// Module\n___CSS_LOADER_EXPORT___.push([module.id, `#ge-scene-explorer-host{position:absolute;left:0px;top:0px;bottom:0px}#ge-scene-explorer-host *{font-family:\"acumin-pro-condensed\"}#ge-scene-explorer-host:focus{outline:none}#ge-__resizable_base__{display:none}.ge-context-menu{background:#e2e2e2}.ge-context-menu .react-contextmenu-item{padding:10px;cursor:pointer}.ge-context-menu .react-contextmenu-item:hover{background:#e2e2e2}.ge-eact-contextmenu.context-menu.react-contextmenu--visible{z-index:99;transform:scale(1)}#ge-sceneExplorer{background:#e2e2e2;height:100%;margin:0;padding:0;display:grid;grid-template-rows:auto 1fr;font:16px \"acumin-pro-condensed\"}#ge-sceneExplorer:focus{outline:none}#ge-sceneExplorer #header{height:30px;font-size:16px;color:#000;background:#e2e2e2;grid-row:1;text-align:center;display:grid;grid-template-columns:30px 1fr 50px;user-select:none}#ge-sceneExplorer #header #logo{position:relative;grid-column:1;width:24px;height:24px;left:0;display:flex;align-self:center;justify-self:center}#ge-sceneExplorer #header #title{grid-column:2;display:grid;align-items:center;text-align:center}#ge-sceneExplorer #header #commands{grid-column:3;display:grid;align-items:center;grid-template-columns:1fr 1fr}#ge-sceneExplorer #header #commands .expand{grid-column:1;display:grid;align-items:center;justify-items:center;cursor:pointer}#ge-sceneExplorer #header #commands .close{grid-column:2;display:grid;align-items:center;justify-items:center;cursor:pointer}#ge-sceneExplorer #tree{grid-row:2;overflow-x:hidden;overflow-y:auto}#ge-sceneExplorer .filter{display:flex;align-items:stretch}#ge-sceneExplorer .filter input{width:100%;margin:10px 40px 5px 40px;display:block;border:none;padding:0;border-bottom:solid 1px #337ab7;background:linear-gradient(to bottom, rgba(255, 255, 255, 0) 96%, rgb(51, 122, 183) 4%);background-position:-1000px 0;background-size:1000px 100%;background-repeat:no-repeat;color:#000}#ge-sceneExplorer .filter input::placeholder{color:#d3d3d3}#ge-sceneExplorer .filter input:focus{box-shadow:none;outline:none;background-position:0 0}#ge-sceneExplorer .groupContainer{margin-left:0px;color:#000;margin-top:0px;margin-bottom:0px;height:24px;user-select:none;align-self:center;display:grid;align-items:center}#ge-sceneExplorer .groupContainer:hover{background:#bbb}#ge-sceneExplorer .groupContainer .expandableHeader{display:grid;grid-template-columns:1fr 20px}#ge-sceneExplorer .groupContainer .expandableHeader .text{grid-column:1;display:grid;grid-template-columns:20px 1fr}#ge-sceneExplorer .groupContainer .expandableHeader .text .arrow{grid-column:1;margin-left:0px;color:#000;cursor:pointer;display:inline-block;margin-right:6px;opacity:.5}#ge-sceneExplorer .groupContainer .expandableHeader .text .text-value{grid-column:2;display:flex;align-items:center}#ge-sceneExplorer .groupContainer .expandableHeader .expandAll{opacity:.5;grid-column:2;margin-right:10px}#ge-sceneExplorer .icon{display:grid;align-items:center;justify-items:center;cursor:pointer}#ge-sceneExplorer .addComponent{display:none}#ge-sceneExplorer .makeChild{grid-column:3}#ge-sceneExplorer .itemContainer{margin-left:0px;color:#000;margin-top:0px;margin-bottom:0px;height:32px;-webkit-user-select:none;user-select:none;display:grid;grid-template-columns:20px 1fr;border:2px solid rgba(0,0,0,0)}#ge-sceneExplorer .itemContainer.hover{border:2px solid #527089;cursor:pointer}#ge-sceneExplorer .itemContainer.seAbove{border-top:2px solid #527089;cursor:pointer}#ge-sceneExplorer .itemContainer.seBelow{border-bottom:2px solid #527089;cursor:pointer}#ge-sceneExplorer .itemContainer.selected{background:#bfbebe;color:#000}#ge-sceneExplorer .itemContainer.dragged{background:rgba(0,0,0,0);color:#000}#ge-sceneExplorer .itemContainer.parent{background:#fff;color:#000}#ge-sceneExplorer .itemContainer .isNotActive{opacity:.3}#ge-sceneExplorer .itemContainer .arrow{grid-column:1;color:#000;opacity:.6}#ge-sceneExplorer .itemContainer .popup{width:200px;visibility:hidden;background-color:#bbb;color:#fff;border:1px solid hsla(0,0%,100%,.5);position:absolute;z-index:1;margin-left:-180px;box-sizing:border-box}#ge-sceneExplorer .itemContainer .popup.show{visibility:visible}#ge-sceneExplorer .itemContainer .popup:focus{outline:none}#ge-sceneExplorer .itemContainer .popup .popupMenu{padding:6px 5px 5px 10px;overflow:hidden;white-space:nowrap;text-overflow:ellipsis;height:18px}#ge-sceneExplorer .itemContainer .popup .popupMenu:hover{background:#fff;color:#333}#ge-sceneExplorer .itemContainer .sceneNode{grid-column:2;margin-left:-10px;display:grid;grid-template-columns:1fr 20px 20px 20px 20px 10px 20px 20px auto 5px;align-items:center;cursor:pointer}#ge-sceneExplorer .itemContainer .sceneNode .sceneTitle{grid-column:1;margin-right:5px;display:flex;align-items:center;height:24px}#ge-sceneExplorer .itemContainer .sceneNode .translation{grid-column:2;opacity:.6}#ge-sceneExplorer .itemContainer .sceneNode .translation.selected{opacity:1}#ge-sceneExplorer .itemContainer .sceneNode .rotation{grid-column:3;opacity:.6}#ge-sceneExplorer .itemContainer .sceneNode .rotation.selected{opacity:1}#ge-sceneExplorer .itemContainer .sceneNode .scaling{grid-column:4;opacity:.6}#ge-sceneExplorer .itemContainer .sceneNode .scaling.selected{opacity:1}#ge-sceneExplorer .itemContainer .sceneNode .bounding{grid-column:5;opacity:.6}#ge-sceneExplorer .itemContainer .sceneNode .bounding.selected{opacity:1}#ge-sceneExplorer .itemContainer .sceneNode .separator{grid-column:6;margin-left:5px;width:5px;display:flex;align-items:center;height:18px;border-left:solid 1px #337ab7}#ge-sceneExplorer .itemContainer .sceneNode .pickingMode{grid-column:7;opacity:.6}#ge-sceneExplorer .itemContainer .sceneNode .pickingMode.selected{opacity:1}#ge-sceneExplorer .itemContainer .sceneNode .refresh{grid-column:8}#ge-sceneExplorer .itemContainer .sceneNode .extensions{width:20px;grid-column:9}#ge-sceneExplorer .itemContainer .adtextureTools{grid-column:2;display:grid;grid-template-columns:1fr 20px auto 5px;align-items:center}#ge-sceneExplorer .itemContainer .adtextureTools .pickingMode{grid-column:2;opacity:.6}#ge-sceneExplorer .itemContainer .adtextureTools .pickingMode.selected{opacity:1}#ge-sceneExplorer .itemContainer .adtextureTools .extensions{width:20px;grid-column:3}#ge-sceneExplorer .itemContainer .controlTools{grid-column:2;display:grid;align-items:center;grid-template-columns:auto 1fr auto auto auto}#ge-sceneExplorer .itemContainer .controlTools .controlType{grid-column:1}#ge-sceneExplorer .itemContainer .controlTools .controlType img{width:32px;height:32px;filter:invert(100%)}#ge-sceneExplorer .itemContainer .controlTools .highlight{grid-column:3}#ge-sceneExplorer .itemContainer .controlTools .visibility{grid-column:4}#ge-sceneExplorer .itemContainer .controlTools .extensions{width:20px;grid-column:5}#ge-sceneExplorer .itemContainer .title{background:rgba(0,0,0,0);white-space:nowrap;overflow:hidden;min-width:0;margin-right:5px;align-items:center;height:24px;cursor:pointer}#ge-sceneExplorer .itemContainer .title .titleText{font-family:\"acumin-pro-condensed\",sans-serif;font-size:16px;border:unset;white-space:nowrap;text-overflow:ellipsis;overflow:hidden;outline:none}`, \"\",{\"version\":3,\"sources\":[\"webpack://./../../tools/guiEditor/dist/components/sceneExplorer/sceneExplorer.scss\"],\"names\":[],\"mappings\":\"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\",\"sourcesContent\":[\"#ge-scene-explorer-host {\\r\\n    position: absolute;\\r\\n    left: 0px;\\r\\n    top: 0px;\\r\\n    bottom: 0px;\\r\\n    * {\\r\\n        font-family: \\\"acumin-pro-condensed\\\";\\r\\n    }\\r\\n    &:focus {\\r\\n        outline: none;\\r\\n    }\\r\\n}\\r\\n\\r\\n#ge-__resizable_base__ {\\r\\n    display: none;\\r\\n}\\r\\n\\r\\n.ge-context-menu {\\r\\n    background: #e2e2e2;\\r\\n\\r\\n    .react-contextmenu-item {\\r\\n        padding: 10px;\\r\\n        cursor: pointer;\\r\\n\\r\\n        &:hover {\\r\\n            background: #e2e2e2;\\r\\n        }\\r\\n    }\\r\\n}\\r\\n\\r\\n.ge-eact-contextmenu.context-menu.react-contextmenu--visible {\\r\\n    z-index: 99;\\r\\n    transform: scale(1);\\r\\n}\\r\\n\\r\\n#ge-sceneExplorer {\\r\\n    background: #e2e2e2;\\r\\n    height: 100%;\\r\\n    margin: 0;\\r\\n    padding: 0;\\r\\n    display: grid;\\r\\n    grid-template-rows: auto 1fr;\\r\\n    font: 16px \\\"acumin-pro-condensed\\\";\\r\\n\\r\\n    &:focus {\\r\\n        outline: none;\\r\\n    }\\r\\n\\r\\n    #header {\\r\\n        height: 30px;\\r\\n        font-size: 16px;\\r\\n        color: black;\\r\\n        background: #e2e2e2;\\r\\n        grid-row: 1;\\r\\n        text-align: center;\\r\\n        display: grid;\\r\\n        grid-template-columns: 30px 1fr 50px;\\r\\n        user-select: none;\\r\\n\\r\\n        #logo {\\r\\n            position: relative;\\r\\n            grid-column: 1;\\r\\n            width: 24px;\\r\\n            height: 24px;\\r\\n            left: 0;\\r\\n            display: flex;\\r\\n            align-self: center;\\r\\n            justify-self: center;\\r\\n        }\\r\\n\\r\\n        #title {\\r\\n            grid-column: 2;\\r\\n            display: grid;\\r\\n            align-items: center;\\r\\n            text-align: center;\\r\\n        }\\r\\n\\r\\n        #commands {\\r\\n            grid-column: 3;\\r\\n            display: grid;\\r\\n            align-items: center;\\r\\n            grid-template-columns: 1fr 1fr;\\r\\n\\r\\n            .expand {\\r\\n                grid-column: 1;\\r\\n                display: grid;\\r\\n                align-items: center;\\r\\n                justify-items: center;\\r\\n                cursor: pointer;\\r\\n            }\\r\\n\\r\\n            .close {\\r\\n                grid-column: 2;\\r\\n                display: grid;\\r\\n                align-items: center;\\r\\n                justify-items: center;\\r\\n                cursor: pointer;\\r\\n            }\\r\\n        }\\r\\n    }\\r\\n\\r\\n    #tree {\\r\\n        grid-row: 2;\\r\\n\\r\\n        overflow-x: hidden;\\r\\n        overflow-y: auto;\\r\\n    }\\r\\n\\r\\n    .filter {\\r\\n        display: flex;\\r\\n        align-items: stretch;\\r\\n\\r\\n        input {\\r\\n            width: 100%;\\r\\n            margin: 10px 40px 5px 40px;\\r\\n            display: block;\\r\\n            border: none;\\r\\n            padding: 0;\\r\\n            border-bottom: solid 1px rgb(51, 122, 183);\\r\\n            background: linear-gradient(to bottom, rgba(255, 255, 255, 0) 96%, rgb(51, 122, 183) 4%);\\r\\n            background-position: -1000px 0;\\r\\n            background-size: 1000px 100%;\\r\\n            background-repeat: no-repeat;\\r\\n            color: black;\\r\\n        }\\r\\n\\r\\n        input::placeholder {\\r\\n            color: lightgray;\\r\\n        }\\r\\n\\r\\n        input:focus {\\r\\n            box-shadow: none;\\r\\n            outline: none;\\r\\n            background-position: 0 0;\\r\\n        }\\r\\n    }\\r\\n\\r\\n    .groupContainer {\\r\\n        margin-left: 0px;\\r\\n        color: black;\\r\\n        margin-top: 0px;\\r\\n        margin-bottom: 0px;\\r\\n        height: 24px;\\r\\n\\r\\n        user-select: none;\\r\\n\\r\\n        align-self: center;\\r\\n        display: grid;\\r\\n        align-items: center;\\r\\n\\r\\n        &:hover {\\r\\n            background: #bbbbbb;\\r\\n        }\\r\\n\\r\\n        .expandableHeader {\\r\\n            display: grid;\\r\\n            grid-template-columns: 1fr 20px;\\r\\n\\r\\n            .text {\\r\\n                grid-column: 1;\\r\\n                display: grid;\\r\\n                grid-template-columns: 20px 1fr;\\r\\n\\r\\n                .arrow {\\r\\n                    grid-column: 1;\\r\\n                    margin-left: 0px;\\r\\n                    color: black;\\r\\n                    cursor: pointer;\\r\\n                    display: inline-block;\\r\\n                    margin-right: 6px;\\r\\n                    opacity: 0.5;\\r\\n                }\\r\\n\\r\\n                .text-value {\\r\\n                    grid-column: 2;\\r\\n                    display: flex;\\r\\n                    align-items: center;\\r\\n                }\\r\\n            }\\r\\n\\r\\n            .expandAll {\\r\\n                opacity: 0.5;\\r\\n                grid-column: 2;\\r\\n                margin-right: 10px;\\r\\n            }\\r\\n        }\\r\\n    }\\r\\n\\r\\n    .icon {\\r\\n        display: grid;\\r\\n        align-items: center;\\r\\n        justify-items: center;\\r\\n        cursor: pointer;\\r\\n    }\\r\\n\\r\\n    .addComponent {\\r\\n        display: none;\\r\\n    }\\r\\n\\r\\n    .makeChild {\\r\\n        grid-column: 3;\\r\\n    }\\r\\n\\r\\n    .itemContainer {\\r\\n        margin-left: 0px;\\r\\n        color: black;\\r\\n        margin-top: 0px;\\r\\n        margin-bottom: 0px;\\r\\n        height: 32px;\\r\\n        -webkit-user-select: none;\\r\\n        user-select: none;\\r\\n        display: grid;\\r\\n        grid-template-columns: 20px 1fr;\\r\\n        border: 2px solid transparent;\\r\\n        &.hover {\\r\\n            border: 2px solid #527089;\\r\\n            cursor: pointer;\\r\\n        }\\r\\n\\r\\n        &.seAbove {\\r\\n            border-top: 2px solid #527089;\\r\\n            cursor: pointer;\\r\\n        }\\r\\n        &.seBelow {\\r\\n            border-bottom: 2px solid #527089;\\r\\n            cursor: pointer;\\r\\n        }\\r\\n\\r\\n        &.selected {\\r\\n            background: #bfbebe;\\r\\n            color: black;\\r\\n        }\\r\\n\\r\\n        &.dragged {\\r\\n            background: transparent;\\r\\n            color: black;\\r\\n        }\\r\\n\\r\\n        &.parent {\\r\\n            background: #ffffff;\\r\\n            color: black;\\r\\n        }\\r\\n\\r\\n        .isNotActive {\\r\\n            opacity: 0.3;\\r\\n        }\\r\\n        .arrow {\\r\\n            grid-column: 1;\\r\\n            color: black;\\r\\n            opacity: 0.6;\\r\\n        }\\r\\n\\r\\n        .popup {\\r\\n            width: 200px;\\r\\n            visibility: hidden;\\r\\n            background-color: #bbbbbb;\\r\\n            color: #fff;\\r\\n            border: 1px solid rgba(255, 255, 255, 0.5);\\r\\n            position: absolute;\\r\\n            z-index: 1;\\r\\n            margin-left: -180px;\\r\\n            box-sizing: border-box;\\r\\n\\r\\n            &.show {\\r\\n                visibility: visible;\\r\\n            }\\r\\n\\r\\n            &:focus {\\r\\n                outline: none;\\r\\n            }\\r\\n\\r\\n            .popupMenu {\\r\\n                padding: 6px 5px 5px 10px;\\r\\n                overflow: hidden;\\r\\n                white-space: nowrap;\\r\\n                text-overflow: ellipsis;\\r\\n                height: 18px;\\r\\n\\r\\n                &:hover {\\r\\n                    background: white;\\r\\n                    color: #333333;\\r\\n                }\\r\\n            }\\r\\n        }\\r\\n\\r\\n        .sceneNode {\\r\\n            grid-column: 2;\\r\\n            margin-left: -10px;\\r\\n            display: grid;\\r\\n            grid-template-columns: 1fr 20px 20px 20px 20px 10px 20px 20px auto 5px;\\r\\n            align-items: center;\\r\\n            cursor: pointer;\\r\\n\\r\\n            .sceneTitle {\\r\\n                grid-column: 1;\\r\\n                margin-right: 5px;\\r\\n                display: flex;\\r\\n                align-items: center;\\r\\n                height: 24px;\\r\\n            }\\r\\n\\r\\n            .translation {\\r\\n                grid-column: 2;\\r\\n                opacity: 0.6;\\r\\n\\r\\n                &.selected {\\r\\n                    opacity: 1;\\r\\n                }\\r\\n            }\\r\\n\\r\\n            .rotation {\\r\\n                grid-column: 3;\\r\\n                opacity: 0.6;\\r\\n\\r\\n                &.selected {\\r\\n                    opacity: 1;\\r\\n                }\\r\\n            }\\r\\n\\r\\n            .scaling {\\r\\n                grid-column: 4;\\r\\n                opacity: 0.6;\\r\\n                &.selected {\\r\\n                    opacity: 1;\\r\\n                }\\r\\n            }\\r\\n\\r\\n            .bounding {\\r\\n                grid-column: 5;\\r\\n                opacity: 0.6;\\r\\n                &.selected {\\r\\n                    opacity: 1;\\r\\n                }\\r\\n            }\\r\\n\\r\\n            .separator {\\r\\n                grid-column: 6;\\r\\n                margin-left: 5px;\\r\\n                width: 5px;\\r\\n                display: flex;\\r\\n                align-items: center;\\r\\n                height: 18px;\\r\\n                border-left: solid 1px rgb(51, 122, 183);\\r\\n            }\\r\\n\\r\\n            .pickingMode {\\r\\n                grid-column: 7;\\r\\n                opacity: 0.6;\\r\\n\\r\\n                &.selected {\\r\\n                    opacity: 1;\\r\\n                }\\r\\n            }\\r\\n\\r\\n            .refresh {\\r\\n                grid-column: 8;\\r\\n            }\\r\\n\\r\\n            .extensions {\\r\\n                width: 20px;\\r\\n                grid-column: 9;\\r\\n            }\\r\\n        }\\r\\n\\r\\n        .adtextureTools {\\r\\n            grid-column: 2;\\r\\n            display: grid;\\r\\n            grid-template-columns: 1fr 20px auto 5px;\\r\\n            align-items: center;\\r\\n\\r\\n            .pickingMode {\\r\\n                grid-column: 2;\\r\\n                opacity: 0.6;\\r\\n\\r\\n                &.selected {\\r\\n                    opacity: 1;\\r\\n                }\\r\\n            }\\r\\n\\r\\n            .extensions {\\r\\n                width: 20px;\\r\\n                grid-column: 3;\\r\\n            }\\r\\n        }\\r\\n\\r\\n        .controlTools {\\r\\n            grid-column: 2;\\r\\n            display: grid;\\r\\n            align-items: center;\\r\\n            grid-template-columns: auto 1fr auto auto auto;\\r\\n\\r\\n            .controlType {\\r\\n                grid-column: 1;\\r\\n                img {\\r\\n                    width: 32px;\\r\\n                    height: 32px;\\r\\n                    filter: invert(100%);\\r\\n                }\\r\\n            }\\r\\n\\r\\n            .highlight {\\r\\n                grid-column: 3;\\r\\n            }\\r\\n\\r\\n            .visibility {\\r\\n                grid-column: 4;\\r\\n            }\\r\\n\\r\\n            .extensions {\\r\\n                width: 20px;\\r\\n                grid-column: 5;\\r\\n            }\\r\\n        }\\r\\n\\r\\n        .title {\\r\\n            background: transparent;\\r\\n            white-space: nowrap;\\r\\n            overflow: hidden;\\r\\n            min-width: 0;\\r\\n            margin-right: 5px;\\r\\n            align-items: center;\\r\\n            height: 24px;\\r\\n            cursor: pointer;\\r\\n\\r\\n            .titleText {\\r\\n                font-family: \\\"acumin-pro-condensed\\\", sans-serif;\\r\\n                font-size: 16px;\\r\\n                border: unset;\\r\\n                white-space: nowrap;\\r\\n                text-overflow: ellipsis;\\r\\n                overflow: hidden;\\r\\n                outline: none;\\r\\n            }\\r\\n        }\\r\\n    }\\r\\n}\\r\\n\"],\"sourceRoot\":\"\"}]);\n// Exports\nexport default ___CSS_LOADER_EXPORT___;\n","// Imports\nimport ___CSS_LOADER_API_SOURCEMAP_IMPORT___ from \"../../../../../../node_modules/css-loader/dist/runtime/sourceMaps.js\";\nimport ___CSS_LOADER_API_IMPORT___ from \"../../../../../../node_modules/css-loader/dist/runtime/api.js\";\nvar ___CSS_LOADER_EXPORT___ = ___CSS_LOADER_API_IMPORT___(___CSS_LOADER_API_SOURCEMAP_IMPORT___);\n// Module\n___CSS_LOADER_EXPORT___.push([module.id, `#log-console{background:#333;height:120px;box-sizing:border-box;margin:0;padding:10px;width:100%;overflow:hidden;overflow-y:auto}#log-console .log{color:#fff;font-size:14px;font-family:\"Courier New\",Courier,monospace}#log-console .log.error{color:red}`, \"\",{\"version\":3,\"sources\":[\"webpack://./../../tools/guiEditor/dist/components/log/log.scss\"],\"names\":[],\"mappings\":\"AAAA,aACI,eAAA,CACA,YAAA,CACA,qBAAA,CACA,QAAA,CACA,YAAA,CACA,UAAA,CACA,eAAA,CACA,eAAA,CAEA,kBACI,UAAA,CACA,cAAA,CACA,2CAAA,CAEA,wBACI,SAAA\",\"sourcesContent\":[\"#log-console {\\r\\n    background: #333333;\\r\\n    height: 120px;\\r\\n    box-sizing: border-box;\\r\\n    margin: 0;\\r\\n    padding: 10px;\\r\\n    width: 100%;\\r\\n    overflow: hidden;\\r\\n    overflow-y: auto;\\r\\n\\r\\n    .log {\\r\\n        color: white;\\r\\n        font-size: 14px;\\r\\n        font-family: \\\"Courier New\\\", Courier, monospace;\\r\\n\\r\\n        &.error {\\r\\n            color: red;\\r\\n        }\\r\\n    }\\r\\n}\\r\\n\"],\"sourceRoot\":\"\"}]);\n// Exports\nexport default ___CSS_LOADER_EXPORT___;\n","// Imports\nimport ___CSS_LOADER_API_SOURCEMAP_IMPORT___ from \"../../../../../node_modules/css-loader/dist/runtime/sourceMaps.js\";\nimport ___CSS_LOADER_API_IMPORT___ from \"../../../../../node_modules/css-loader/dist/runtime/api.js\";\nvar ___CSS_LOADER_EXPORT___ = ___CSS_LOADER_API_IMPORT___(___CSS_LOADER_API_SOURCEMAP_IMPORT___);\n// Module\n___CSS_LOADER_EXPORT___.push([module.id, `#ge-header{width:100%;grid-column:2/4;grid-row:1;padding:0;margin:0;display:grid;grid-template-columns:auto 1fr;grid-template-rows:100%;background:#333}#ge-header .command-bar{padding-left:15px;grid-row:1;grid-column:2;width:100%}#ge-header .command-bar .language-button{grid-row:1;grid-column:2;color:#fff;width:144px;font-size:18px;text-align:center;display:grid;align-content:center;border-top-left-radius:14px;transform:scale(1);user-select:none}#ge-header .command-bar .language-button.active{width:74px;cursor:pointer;grid-column:1;margin-right:-5px;transform:translateX(10px)}`, \"\",{\"version\":3,\"sources\":[\"webpack://./../../tools/guiEditor/dist/scss/header.scss\"],\"names\":[],\"mappings\":\"AAAA,WACI,UAAA,CACA,eAAA,CACA,UAAA,CACA,SAAA,CACA,QAAA,CACA,YAAA,CACA,8BAAA,CACA,uBAAA,CACA,eAAA,CAEA,wBACI,iBAAA,CACA,UAAA,CACA,aAAA,CACA,UAAA,CAEA,yCACI,UAAA,CACA,aAAA,CACA,UAAA,CACA,WAAA,CACA,cAAA,CACA,iBAAA,CACA,YAAA,CACA,oBAAA,CACA,2BAAA,CACA,kBAAA,CACA,gBAAA,CAEA,gDACI,UAAA,CACA,cAAA,CACA,aAAA,CACA,iBAAA,CACA,0BAAA\",\"sourcesContent\":[\"#ge-header {\\r\\n    width: 100%;\\r\\n    grid-column: 2 / 4;\\r\\n    grid-row: 1;\\r\\n    padding: 0;\\r\\n    margin: 0;\\r\\n    display: grid;\\r\\n    grid-template-columns: auto 1fr;\\r\\n    grid-template-rows: 100%;\\r\\n    background: #333333;\\r\\n\\r\\n    .command-bar {\\r\\n        padding-left: 15px;\\r\\n        grid-row: 1;\\r\\n        grid-column: 2;\\r\\n        width: 100%;\\r\\n\\r\\n        .language-button {\\r\\n            grid-row: 1;\\r\\n            grid-column: 2;\\r\\n            color: white;\\r\\n            width: 144px;\\r\\n            font-size: 18px;\\r\\n            text-align: center;\\r\\n            display: grid;\\r\\n            align-content: center;\\r\\n            border-top-left-radius: 14px;\\r\\n            transform: scale(1);\\r\\n            user-select: none;\\r\\n\\r\\n            &.active {\\r\\n                width: 74px;\\r\\n                cursor: pointer;\\r\\n                grid-column: 1;\\r\\n                margin-right: -5px;\\r\\n                transform: translateX(10px);\\r\\n            }\\r\\n        }\\r\\n    }\\r\\n}\\r\\n\"],\"sourceRoot\":\"\"}]);\n// Exports\nexport default ___CSS_LOADER_EXPORT___;\n","// Imports\nimport ___CSS_LOADER_API_SOURCEMAP_IMPORT___ from \"../../../../../node_modules/css-loader/dist/runtime/sourceMaps.js\";\nimport ___CSS_LOADER_API_IMPORT___ from \"../../../../../node_modules/css-loader/dist/runtime/api.js\";\nvar ___CSS_LOADER_EXPORT___ = ___CSS_LOADER_API_IMPORT___(___CSS_LOADER_API_SOURCEMAP_IMPORT___);\n// Module\n___CSS_LOADER_EXPORT___.push([module.id, `.\\\\---sharedUiComponents-src-components-Icon-module__light{filter:brightness(10)}`, \"\",{\"version\":3,\"sources\":[\"webpack://./../sharedUiComponents/src/components/Icon.module.scss\"],\"names\":[],\"mappings\":\"AAAA,0DACI,qBAAA\",\"sourcesContent\":[\":local .light {\\r\\n    filter: brightness(10);\\r\\n}\\r\\n\"],\"sourceRoot\":\"\"}]);\n// Exports\nexport var light = `---sharedUiComponents-src-components-Icon-module__light`;\nexport default ___CSS_LOADER_EXPORT___;\n","import { ValueAndUnit } from \"gui/2D/valueAndUnit\";\r\nimport { Control } from \"gui/2D/controls/control\";\r\nimport type { Grid } from \"gui/2D/controls/grid\";\r\nimport type { Rectangle } from \"gui/2D/controls/rectangle\";\r\nimport { Matrix2D } from \"gui/2D/math2D\";\r\nimport { Vector2 } from \"core/Maths/math.vector\";\r\nimport type { Observable } from \"core/Misc/observable\";\r\nimport type { GlobalState } from \"../globalState\";\r\nimport type { PropertyChangedEvent } from \"shared-ui-components/propertyChangedEvent\";\r\nimport { Measure } from \"gui/2D/measure\";\r\n\r\nexport type DimensionProperties =\r\n    | \"width\"\r\n    | \"left\"\r\n    | \"height\"\r\n    | \"top\"\r\n    | \"paddingLeft\"\r\n    | \"paddingRight\"\r\n    | \"paddingTop\"\r\n    | \"paddingBottom\"\r\n    | \"fontSize\"\r\n    | \"linkOffsetX\"\r\n    | \"linkOffsetY\";\r\n\r\nexport class Rect {\r\n    public top: number;\r\n    public left: number;\r\n    public right: number;\r\n    public bottom: number;\r\n    constructor(left: number, top: number, right: number, bottom: number) {\r\n        this.left = left;\r\n        this.top = top;\r\n        this.right = right;\r\n        this.bottom = bottom;\r\n    }\r\n\r\n    public clone() {\r\n        return new Rect(this.left, this.top, this.right, this.bottom);\r\n    }\r\n\r\n    public get center() {\r\n        const topLeft = new Vector2(this.left, this.top);\r\n        return topLeft.addInPlace(new Vector2(this.right, this.bottom).subtractInPlace(topLeft).multiplyByFloats(0.5, 0.5));\r\n    }\r\n\r\n    public get width() {\r\n        return this.right - this.left;\r\n    }\r\n\r\n    public get height() {\r\n        return this.bottom - this.top;\r\n    }\r\n}\r\n\r\nconst RoundFactor = 100;\r\nconst Round = (value: number) => Math.round(value * RoundFactor) / RoundFactor;\r\n\r\nexport class CoordinateHelper {\r\n    private static _MatrixCache: Matrix2D[] = [Matrix2D.Identity(), Matrix2D.Identity(), Matrix2D.Identity(), Matrix2D.Identity()];\r\n    public static GlobalState: GlobalState;\r\n\r\n    /**\r\n     * Get the scaling of a specific GUI control\r\n     * @param node the node for which we are getting the scaling\r\n     * @param relative should we return only the relative scaling (relative to the parent)\r\n     * @returns an X,Y vector of the scaling\r\n     */\r\n    public static GetScale(node: Control, relative?: boolean): Vector2 {\r\n        let x = node.scaleX;\r\n        let y = node.scaleY;\r\n        if (relative) {\r\n            return new Vector2(x, y);\r\n        }\r\n        let parent = node.parent;\r\n        while (parent) {\r\n            x *= parent.scaleX;\r\n            y *= parent.scaleY;\r\n            parent = parent.parent;\r\n        }\r\n        return new Vector2(x, y);\r\n    }\r\n\r\n    public static GetRotation(node: Control, relative?: boolean): number {\r\n        // Gets rotate of a control account for all of it's parents rotations\r\n        let rotation = node.rotation;\r\n        if (relative) {\r\n            return rotation;\r\n        }\r\n        let parent = node.parent;\r\n        while (parent) {\r\n            rotation += parent.rotation;\r\n            parent = parent.parent;\r\n        }\r\n        return rotation;\r\n    }\r\n\r\n    public static GetParentSizes(guiControl: Control): Measure {\r\n        const parentMeasure = new Measure(0, 0, 0, 0);\r\n        if (guiControl.parent) {\r\n            parentMeasure.copyFrom(guiControl.parent._currentMeasure);\r\n            if (guiControl.parent.typeName === \"Grid\") {\r\n                const cellInfo = (guiControl.parent as Grid).getChildCellInfo(guiControl);\r\n                const cell = (guiControl.parent as Grid).cells[cellInfo];\r\n                if (cell) {\r\n                    parentMeasure.width = cell.widthInPixels;\r\n                    parentMeasure.height = cell.heightInPixels;\r\n                }\r\n            }\r\n        }\r\n        return parentMeasure;\r\n    }\r\n\r\n    /**\r\n     * This function calculates a local matrix for a node, including it's full transformation and pivot point\r\n     *\r\n     * @param node the node to calculate the matrix for\r\n     * @param storedValues should the stored (cached) values be used to calculate the matrix\r\n     * @returns a new matrix for the control\r\n     */\r\n    public static GetNodeMatrix(node: Control, storedValues?: Rect): Matrix2D {\r\n        const size = this.GlobalState.guiTexture.getSize();\r\n        // parent should always be defined, but stay safe\r\n        let parentWidth, parentHeight;\r\n        if (node.parent) {\r\n            const parentSizes = CoordinateHelper.GetParentSizes(node);\r\n            parentWidth = parentSizes.width;\r\n            parentHeight = parentSizes.height;\r\n        } else {\r\n            parentWidth = size.width;\r\n            parentHeight = size.height;\r\n        }\r\n        let x = 0;\r\n        let y = 0;\r\n\r\n        const width = storedValues ? storedValues.width : node.widthInPixels;\r\n        const height = storedValues ? storedValues.height : node.heightInPixels;\r\n        const left = storedValues ? storedValues.left : node.leftInPixels;\r\n        const top = storedValues ? storedValues.top : node.topInPixels;\r\n\r\n        switch (node.horizontalAlignment) {\r\n            case Control.HORIZONTAL_ALIGNMENT_LEFT:\r\n                x = -(parentWidth - width) / 2;\r\n                break;\r\n            case Control.HORIZONTAL_ALIGNMENT_RIGHT:\r\n                x = (parentWidth - width) / 2;\r\n                break;\r\n            case Control.HORIZONTAL_ALIGNMENT_CENTER:\r\n                x = 0;\r\n                break;\r\n        }\r\n\r\n        switch (node.verticalAlignment) {\r\n            case Control.VERTICAL_ALIGNMENT_TOP:\r\n                y = -(parentHeight - height) / 2;\r\n                break;\r\n            case Control.VERTICAL_ALIGNMENT_BOTTOM:\r\n                y = (parentHeight - height) / 2;\r\n                break;\r\n            case Control.VERTICAL_ALIGNMENT_CENTER:\r\n                y = 0;\r\n                break;\r\n        }\r\n        this._ResetMatrixArray();\r\n\r\n        const m2d = this._MatrixCache[0];\r\n        const translateTo = this._MatrixCache[1];\r\n        // as this is used later it needs to persist\r\n        const resultMatrix = Matrix2D.Identity();\r\n\r\n        // the pivot point around which the object transforms\r\n        let offsetX = width * node.transformCenterX - width / 2;\r\n        let offsetY = height * node.transformCenterY - height / 2;\r\n        // pivot changes this point's position! but only in legacy pivot mode\r\n        if (!(node as any).descendantsOnlyPadding) {\r\n            // TODO - padding needs to also take scaling into account?\r\n            offsetX -= ((node.paddingRightInPixels - node.paddingLeftInPixels) * 1) / 2;\r\n            offsetY -= ((node.paddingBottomInPixels - node.paddingTopInPixels) * 1) / 2;\r\n        }\r\n\r\n        // Set the translation\r\n        Matrix2D.TranslationToRef(x + left, y + top, translateTo);\r\n        // without parents scaling and rotation, calculate world matrix for each\r\n        const rotation = this.GetRotation(node, true);\r\n        const scaling = this.GetScale(node, true);\r\n        // COmpose doesn't actually translate, but creates a form of pivot in a specific position\r\n        Matrix2D.ComposeToRef(-offsetX, -offsetY, rotation, scaling.x, scaling.y, null, m2d);\r\n        // actually compose the matrix\r\n        resultMatrix.multiplyToRef(m2d, resultMatrix);\r\n        resultMatrix.multiplyToRef(translateTo, resultMatrix);\r\n        return resultMatrix;\r\n    }\r\n\r\n    /**\r\n     * Using the node's tree, calculate its world matrix and return it\r\n     * @param node the node to calculate the matrix for\r\n     * @param storedValues used stored valued (cached when pointer down is clicked)\r\n     * @param stopAt stop looking when this node is found\r\n     * @returns the world matrix for this node\r\n     */\r\n    public static NodeToRTTWorldMatrix(node: Control, storedValues?: Rect, stopAt?: Control): Matrix2D {\r\n        const listOfNodes = [node];\r\n        let parent = node.parent;\r\n        let child = node;\r\n        while (parent && child !== stopAt) {\r\n            if (parent.typeName === \"Grid\") {\r\n                const cellInfo = (parent as Grid).getChildCellInfo(child);\r\n                const cell = (parent as Grid).cells[cellInfo];\r\n                listOfNodes.push(cell);\r\n            }\r\n            listOfNodes.push(parent);\r\n            child = parent;\r\n            parent = parent.parent;\r\n        }\r\n        this._ResetMatrixArray();\r\n        const matrices = listOfNodes.map((node, index) => this.GetNodeMatrix(node, index === 0 ? storedValues : undefined));\r\n        return matrices.reduce((acc, cur) => {\r\n            acc.multiplyToRef(cur, acc);\r\n            return acc;\r\n        }, this._MatrixCache[2]);\r\n    }\r\n\r\n    public static NodeToRTTSpace(node: Control, x: number, y: number, reference: Vector2 = new Vector2(), storedValues?: Rect, stopAt?: Control) {\r\n        const worldMatrix = this.NodeToRTTWorldMatrix(node, storedValues, stopAt);\r\n        worldMatrix.transformCoordinates(x, y, reference);\r\n        // round\r\n        reference.x = Round(reference.x);\r\n        reference.y = Round(reference.y);\r\n        return reference;\r\n    }\r\n\r\n    public static RttToLocalNodeSpace(node: Control, x: number, y: number, reference: Vector2 = new Vector2(), storedValues?: Rect) {\r\n        const worldMatrix = this.NodeToRTTWorldMatrix(node, storedValues);\r\n        const inv = this._MatrixCache[3];\r\n        worldMatrix.invertToRef(inv);\r\n        inv.transformCoordinates(x, y, reference);\r\n        // round\r\n        reference.x = Round(reference.x);\r\n        reference.y = Round(reference.y);\r\n        return reference;\r\n    }\r\n\r\n    public static RttToCanvasSpace(x: number, y: number) {\r\n        const engine = this.GlobalState.workbench._scene.getEngine();\r\n        return new Vector2(x + engine.getRenderWidth() / 2, y + engine.getRenderHeight() / 2);\r\n    }\r\n\r\n    public static MousePointerToRTTSpace(_node?: Control, x?: number, y?: number) {\r\n        const scene = this.GlobalState.workbench._scene;\r\n        const engine = scene.getEngine();\r\n        return new Vector2((x || scene.pointerX) - engine.getRenderWidth() / 2, (y || scene.pointerY) - engine.getRenderHeight() / 2);\r\n    }\r\n\r\n    private static _ResetMatrixArray() {\r\n        for (const matrix of this._MatrixCache) {\r\n            Matrix2D.IdentityToRef(matrix);\r\n        }\r\n    }\r\n\r\n    public static ComputeLocalBounds(node: Control) {\r\n        return new Rect(-node.widthInPixels * 0.5, -node.heightInPixels * 0.5, node.widthInPixels * 0.5, node.heightInPixels * 0.5);\r\n    }\r\n\r\n    /**\r\n     * converts a node's dimensions to percentage, properties can be specified as a list, or can convert all\r\n     * @param guiControl\r\n     * @param properties\r\n     * @param onPropertyChangedObservable\r\n     */\r\n    public static ConvertToPercentage(\r\n        guiControl: Control,\r\n        properties: DimensionProperties[] = [\"left\", \"top\", \"width\", \"height\"],\r\n        onPropertyChangedObservable?: Observable<PropertyChangedEvent>\r\n    ) {\r\n        let ratioX = 1;\r\n        let ratioY = 1;\r\n        if (guiControl.parent) {\r\n            if (guiControl.parent.typeName === \"Grid\") {\r\n                const cellInfo = (guiControl.parent as Grid).getChildCellInfo(guiControl);\r\n                const cell = (guiControl.parent as Grid).cells[cellInfo];\r\n                ratioX = cell.widthInPixels;\r\n                ratioY = cell.heightInPixels;\r\n            } else if (guiControl.parent.typeName === \"Rectangle\" || guiControl.parent.typeName === \"Button\") {\r\n                const thickness = (guiControl.parent as Rectangle).thickness * 2;\r\n                ratioX = guiControl.parent._currentMeasure.width - thickness;\r\n                ratioY = guiControl.parent._currentMeasure.height - thickness;\r\n            } else {\r\n                ratioX = guiControl.parent._currentMeasure.width;\r\n                ratioY = guiControl.parent._currentMeasure.height;\r\n            }\r\n        }\r\n        for (const property of properties) {\r\n            const initialValue = guiControl[property];\r\n            const ratio = property === \"left\" || property === \"width\" || property === \"paddingLeft\" || property === \"paddingRight\" ? ratioX : ratioY;\r\n            const newValue = (guiControl[`${property}InPixels`] * 100) / ratio;\r\n            guiControl[property] = `${newValue.toFixed(2)}%`;\r\n            onPropertyChangedObservable?.notifyObservers({\r\n                object: guiControl,\r\n                initialValue,\r\n                value: guiControl[property],\r\n                property,\r\n            });\r\n        }\r\n    }\r\n\r\n    public static Round(value: number) {\r\n        return Math.floor(value * 100) / 100;\r\n    }\r\n\r\n    public static ConvertToPixels(\r\n        guiControl: Control,\r\n        properties: DimensionProperties[] = [\"left\", \"top\", \"width\", \"height\"],\r\n        onPropertyChangedObservable?: Observable<PropertyChangedEvent>\r\n    ) {\r\n        // make sure we are using the latest measures for the control\r\n        const parentMeasure = CoordinateHelper.GetParentSizes(guiControl);\r\n        (guiControl as any)._processMeasures(parentMeasure, guiControl.host.getContext());\r\n        for (const property of properties) {\r\n            const initialValue = guiControl[property];\r\n            guiControl[`_${property}`] = new ValueAndUnit(this.Round(guiControl[`${property}InPixels`]), ValueAndUnit.UNITMODE_PIXEL);\r\n            onPropertyChangedObservable?.notifyObservers({\r\n                object: guiControl,\r\n                initialValue,\r\n                value: guiControl[property],\r\n                property,\r\n            });\r\n        }\r\n    }\r\n}\r\n","import type { Nullable } from \"core/types\";\r\nimport { Observable } from \"core/Misc/observable\";\r\nimport type { LogEntry } from \"./components/log/logComponent\";\r\nimport { DataStorage } from \"core/Misc/dataStorage\";\r\nimport { Color3 } from \"core/Maths/math.color\";\r\nimport type { WorkbenchComponent } from \"./diagram/workbench\";\r\nimport type { AdvancedDynamicTexture } from \"gui/2D/advancedDynamicTexture\";\r\nimport type { PropertyChangedEvent } from \"shared-ui-components/propertyChangedEvent\";\r\nimport type { Scene } from \"core/scene\";\r\nimport type { Control } from \"gui/2D/controls/control\";\r\nimport { LockObject } from \"shared-ui-components/tabs/propertyGrids/lockObject\";\r\nimport type { ISize } from \"core/Maths/math\";\r\nimport { CoordinateHelper } from \"./diagram/coordinateHelper\";\r\nimport { Container } from \"gui/2D/controls/container\";\r\nimport { KeyboardManager } from \"./keyboardManager\";\r\n\r\nexport enum DragOverLocation {\r\n    ABOVE = 0,\r\n    BELOW = 1,\r\n    CENTER = 2,\r\n    NONE = 3,\r\n}\r\n\r\nexport enum GUIEditorTool {\r\n    SELECT = 0,\r\n    PAN = 1,\r\n    ZOOM = 2,\r\n}\r\n\r\nexport class GlobalState {\r\n    liveGuiTexture: Nullable<AdvancedDynamicTexture>;\r\n    guiTexture: AdvancedDynamicTexture;\r\n    hostElement: HTMLElement;\r\n    hostDocument: HTMLDocument;\r\n    hostWindow: Window;\r\n    selectedControls: Control[] = [];\r\n    onSelectionChangedObservable = new Observable<void>();\r\n    onResizeObservable = new Observable<ISize>();\r\n    onBuiltObservable = new Observable<void>();\r\n    onResetRequiredObservable = new Observable<void>();\r\n    onUpdateRequiredObservable = new Observable<void>();\r\n    onLogRequiredObservable = new Observable<LogEntry>();\r\n    onErrorMessageDialogRequiredObservable = new Observable<string>();\r\n    onIsLoadingChanged = new Observable<boolean>();\r\n    onSelectionBoxMoved = new Observable<ClientRect | DOMRect>();\r\n    onNewSceneObservable = new Observable<Nullable<Scene>>();\r\n    onGuiNodeRemovalObservable = new Observable<Control>();\r\n    onPopupClosedObservable = new Observable<void>();\r\n    private _backgroundColor: Color3;\r\n    private _outlines: boolean = false;\r\n    public keys: KeyboardManager;\r\n    private _fromPg: boolean;\r\n    /** DO NOT USE: in the process of removing */\r\n    public blockKeyboardEvents = false;\r\n    onOutlineChangedObservable = new Observable<void>();\r\n    controlCamera: boolean;\r\n    selectionLock: boolean;\r\n    workbench: WorkbenchComponent;\r\n    onPropertyChangedObservable = new Observable<PropertyChangedEvent>();\r\n\r\n    private _tool: GUIEditorTool = GUIEditorTool.SELECT;\r\n    private _usePrevSelected: boolean;\r\n\r\n    private _prevTool: GUIEditorTool = this._tool;\r\n    onToolChangeObservable = new Observable<void>();\r\n    public get tool(): GUIEditorTool {\r\n        if (this._tool === GUIEditorTool.ZOOM) {\r\n            return GUIEditorTool.ZOOM;\r\n        } else if (this._tool === GUIEditorTool.PAN) {\r\n            return GUIEditorTool.PAN;\r\n        } else {\r\n            return GUIEditorTool.SELECT;\r\n        }\r\n    }\r\n    public set tool(newTool: GUIEditorTool) {\r\n        if (this._tool === newTool) {\r\n            return;\r\n        }\r\n        this._prevTool = this._tool;\r\n        this._tool = newTool;\r\n        this.onToolChangeObservable.notifyObservers();\r\n    }\r\n    public get usePrevSelected() {\r\n        return this._usePrevSelected;\r\n    }\r\n    public set usePrevSelected(val: boolean) {\r\n        this._usePrevSelected = val;\r\n    }\r\n\r\n    public restorePreviousTool() {\r\n        if (this._tool !== this._prevTool) {\r\n            this._tool = this._prevTool;\r\n            this.onToolChangeObservable.notifyObservers();\r\n        }\r\n    }\r\n    onFitControlsToWindowObservable = new Observable<void>();\r\n    onReframeWindowObservable = new Observable<void>();\r\n    onLoadObservable = new Observable<File>();\r\n    onSaveObservable = new Observable<void>();\r\n    onSaveSelectedControl = new Observable<void>();\r\n    onSnippetLoadObservable = new Observable<void>();\r\n    onSnippetSaveObservable = new Observable<void>();\r\n    onControlLoadObservable = new Observable<File>();\r\n    onResponsiveChangeObservable = new Observable<boolean>();\r\n    onParentingChangeObservable = new Observable<Nullable<Control>>();\r\n    onDropObservable = new Observable<void>();\r\n    onPropertyGridUpdateRequiredObservable = new Observable<void>();\r\n    onDraggingEndObservable = new Observable<void>();\r\n    onDraggingStartObservable = new Observable<void>();\r\n    onWindowResizeObservable = new Observable<void>();\r\n    onGizmoUpdateRequireObservable = new Observable<void>();\r\n    onArtBoardUpdateRequiredObservable = new Observable<void>();\r\n    onBackgroundColorChangeObservable = new Observable<void>();\r\n    onFontsParsedObservable = new Observable<void>();\r\n    onPointerMoveObservable = new Observable<React.PointerEvent<HTMLCanvasElement>>();\r\n\r\n    onPointerUpObservable = new Observable<Nullable<React.PointerEvent<HTMLCanvasElement> | PointerEvent>>();\r\n    draggedControl: Nullable<Control> = null;\r\n    draggedControlDirection: DragOverLocation;\r\n    onCopyObservable = new Observable<(content: string) => void>();\r\n    onCutObservable = new Observable<(content: string) => void>();\r\n    onPasteObservable = new Observable<string>();\r\n    isSaving = false;\r\n    public lockObject = new LockObject();\r\n    storeEditorData: (serializationObject: any) => void;\r\n    shiftKeyPressed: boolean = false;\r\n\r\n    customSave?: { label: string; action: (data: string) => Promise<string> };\r\n    customLoad?: { label: string; action: (data: string) => Promise<string> };\r\n    public constructor() {\r\n        this.controlCamera = DataStorage.ReadBoolean(\"ControlCamera\", true);\r\n\r\n        const defaultBrightness = 204 / 255.0;\r\n        const r = DataStorage.ReadNumber(\"BackgroundColorR\", defaultBrightness);\r\n        const g = DataStorage.ReadNumber(\"BackgroundColorG\", defaultBrightness);\r\n        const b = DataStorage.ReadNumber(\"BackgroundColorB\", defaultBrightness);\r\n        this.backgroundColor = new Color3(r, g, b);\r\n        this.onBackgroundColorChangeObservable.notifyObservers();\r\n\r\n        CoordinateHelper.GlobalState = this;\r\n    }\r\n\r\n    /** adds copy, cut and paste listeners to the host window */\r\n    public registerEventListeners() {\r\n        const isElementEditable = (element: HTMLElement) => {\r\n            return element.isContentEditable || element.tagName === \"INPUT\" || element.tagName === \"TEXTAREA\";\r\n        };\r\n        this.hostDocument.addEventListener(\"copy\", (event) => {\r\n            if (!isElementEditable(event.target as HTMLElement)) {\r\n                this.onCopyObservable.notifyObservers((content) => event.clipboardData?.setData(\"text/plain\", content));\r\n                event.preventDefault();\r\n            }\r\n        });\r\n        this.hostDocument.addEventListener(\"cut\", (event) => {\r\n            if (!isElementEditable(event.target as HTMLElement)) {\r\n                this.onCutObservable.notifyObservers((content) => event.clipboardData?.setData(\"text/plain\", content));\r\n                event.preventDefault();\r\n            }\r\n        });\r\n        this.hostDocument.addEventListener(\"paste\", (event) => {\r\n            if (!isElementEditable(event.target as HTMLElement)) {\r\n                this.onPasteObservable.notifyObservers(event.clipboardData?.getData(\"text\") || \"\");\r\n                event.preventDefault();\r\n            }\r\n        });\r\n        this.keys = new KeyboardManager(this.hostDocument);\r\n        this.keys.onKeyPressedObservable.add(() => {\r\n            // trigger a tool update (in case space is now pressed)\r\n            // we should really have a state management system to handle this for us\r\n            this.onToolChangeObservable.notifyObservers();\r\n        });\r\n    }\r\n\r\n    public get backgroundColor() {\r\n        return this._backgroundColor;\r\n    }\r\n    // eslint-disable-next-line @typescript-eslint/naming-convention\r\n    public get fromPG() {\r\n        return this._fromPg;\r\n    }\r\n    // eslint-disable-next-line @typescript-eslint/naming-convention\r\n    public set fromPG(value: boolean) {\r\n        this._fromPg = value;\r\n    }\r\n\r\n    public set backgroundColor(value: Color3) {\r\n        this._backgroundColor = value;\r\n        this.onBackgroundColorChangeObservable.notifyObservers();\r\n        DataStorage.WriteNumber(\"BackgroundColorR\", value.r);\r\n        DataStorage.WriteNumber(\"BackgroundColorG\", value.g);\r\n        DataStorage.WriteNumber(\"BackgroundColorB\", value.b);\r\n    }\r\n\r\n    public get outlines() {\r\n        return this._outlines;\r\n    }\r\n\r\n    public set outlines(value: boolean) {\r\n        this._outlines = value;\r\n        this.onOutlineChangedObservable.notifyObservers();\r\n    }\r\n\r\n    public select(control: Control) {\r\n        if (this.keys.isKeyDown(\"control\") && this.isMultiSelectable(control)) {\r\n            const index = this.selectedControls.indexOf(control);\r\n            if (index === -1) {\r\n                this.setSelection([...this.selectedControls, control]);\r\n            } else {\r\n                this.setSelection(this.selectedControls.filter((node) => node !== control));\r\n            }\r\n        } else {\r\n            this.setSelection([control]);\r\n        }\r\n    }\r\n\r\n    public setSelection(controls: Control[]) {\r\n        this.selectedControls = [...controls];\r\n\r\n        this.onSelectionChangedObservable.notifyObservers();\r\n    }\r\n\r\n    private _findParentControlInTexture(texture: AdvancedDynamicTexture, searchedControl: Control) {\r\n        const searchList = [texture.rootContainer];\r\n        while (searchList.length > 0) {\r\n            const current = searchList.splice(0, 1)[0];\r\n            const children = current.children;\r\n            if (children.indexOf(searchedControl) !== -1) {\r\n                return current;\r\n            }\r\n            for (const child of children) {\r\n                if (child instanceof Container) {\r\n                    searchList.push(child);\r\n                }\r\n            }\r\n        }\r\n        return null;\r\n    }\r\n\r\n    public deleteSelectedNodes() {\r\n        for (const control of this.selectedControls) {\r\n            const guiTextureParent = this._findParentControlInTexture(this.guiTexture, control);\r\n            guiTextureParent?.removeControl(control);\r\n            if (this.liveGuiTexture) {\r\n                const allDescendants = control.getDescendants();\r\n                for (const descendant of allDescendants) {\r\n                    const liveGuiTextureDescendantParent = this._findParentControlInTexture(this.liveGuiTexture, descendant);\r\n                    liveGuiTextureDescendantParent?.removeControl(descendant);\r\n                    descendant.dispose();\r\n                }\r\n                const liveGuiTextureParent = this._findParentControlInTexture(this.liveGuiTexture, control);\r\n                liveGuiTextureParent?.removeControl(control);\r\n            }\r\n            control.dispose();\r\n        }\r\n        this.setSelection([]);\r\n    }\r\n\r\n    public isMultiSelectable(control: Control): boolean {\r\n        if (this.selectedControls.length === 0) {\r\n            return true;\r\n        }\r\n        if (this.selectedControls[0].parent === control.parent) {\r\n            return true;\r\n        }\r\n        return false;\r\n    }\r\n\r\n    public dispose() {\r\n        this.keys.dispose();\r\n    }\r\n}\r\n","import { Observable } from \"core/Misc/observable\";\r\n\r\ntype Key = \"control\" | \"shift\" | \"alt\" | \"space\" | \"meta\";\r\n\r\nexport class KeyboardManager {\r\n    private _hostElement: HTMLElement | HTMLDocument;\r\n    private _kdListener = (evt: Event) => this._keyEvent(evt as KeyboardEvent, true);\r\n    private _kuListener = (evt: Event) => this._keyEvent(evt as KeyboardEvent, false);\r\n    private _moveListener = (evt: Event) => this._updateModifierKeys(evt as MouseEvent);\r\n    private _focusOutListener = () => this._clearKeys();\r\n    private _keys = new Set<Key>();\r\n    public onKeyPressedObservable: Observable<Key>;\r\n    constructor(hostElement: HTMLElement | HTMLDocument) {\r\n        this._hostElement = hostElement;\r\n        hostElement.addEventListener(\"keydown\", this._kdListener);\r\n        hostElement.addEventListener(\"keypress\", this._kdListener);\r\n        hostElement.addEventListener(\"keyup\", this._kuListener);\r\n        hostElement.addEventListener(\"mousemove\", this._moveListener);\r\n        hostElement.addEventListener(\"focusout\", this._focusOutListener);\r\n        this.onKeyPressedObservable = new Observable<Key>();\r\n    }\r\n\r\n    private _keyEvent(event: KeyboardEvent, isDown: boolean) {\r\n        this._updateModifierKeys(event);\r\n        switch (event.key) {\r\n            case \" \":\r\n                this._setKeyDown(\"space\", isDown);\r\n                break;\r\n        }\r\n    }\r\n\r\n    private _updateModifierKeys(event: KeyboardEvent | MouseEvent) {\r\n        this._setKeyDown(\"control\", event.ctrlKey);\r\n        this._setKeyDown(\"alt\", event.altKey);\r\n        this._setKeyDown(\"shift\", event.shiftKey);\r\n        this._setKeyDown(\"meta\", event.metaKey);\r\n    }\r\n\r\n    private _setKeyDown(key: Key, down: boolean) {\r\n        const isDown = this._keys.has(key);\r\n        if (isDown !== down) {\r\n            if (!down) {\r\n                this._keys.delete(key);\r\n            } else {\r\n                this._keys.add(key);\r\n            }\r\n            this.onKeyPressedObservable.notifyObservers(key);\r\n        }\r\n    }\r\n\r\n    private _clearKeys() {\r\n        for (const key of this._keys) {\r\n            this._keys.delete(key);\r\n            this.onKeyPressedObservable.notifyObservers(key);\r\n        }\r\n    }\r\n\r\n    public isKeyDown(key: Key) {\r\n        return this._keys.has(key);\r\n    }\r\n\r\n    public dispose() {\r\n        this._hostElement.removeEventListener(\"keydown\", this._kdListener);\r\n        this._hostElement.removeEventListener(\"keypress\", this._kdListener);\r\n        this._hostElement.removeEventListener(\"keyup\", this._kuListener);\r\n        this._hostElement.removeEventListener(\"mousemove\", this._moveListener);\r\n        this._hostElement.removeEventListener(\"focusout\", this._focusOutListener);\r\n    }\r\n}\r\n","import * as React from \"react\";\r\n\r\ninterface ICommandButtonComponentProps {\r\n    tooltip: string;\r\n    shortcut?: string;\r\n    icon: string;\r\n    iconLabel?: string;\r\n    isActive: boolean;\r\n    copyDeleteDisabled?: boolean;\r\n    pasteDisabled?: boolean;\r\n    onClick: () => void;\r\n    altStyle?: boolean;\r\n    disabled?: boolean;\r\n}\r\n\r\nexport class CommandButtonComponent extends React.Component<ICommandButtonComponentProps> {\r\n    public constructor(props: ICommandButtonComponentProps) {\r\n        super(props);\r\n    }\r\n\r\n    public override render() {\r\n        let divClassName = this.props.altStyle ? `command-button-alt${this.props.disabled ? \"-disabled\" : \"\"}${this.props.isActive ? \"-\" : \"\"}` : `command-button`;\r\n\r\n        let iconClassName = `command-button-icon `;\r\n\r\n        if (this.props.isActive) {\r\n            divClassName += \" active\";\r\n            iconClassName += \" active\";\r\n        }\r\n        if (this.props.disabled) {\r\n            divClassName += \" disabled\";\r\n        } else if (this.props.copyDeleteDisabled) {\r\n            divClassName += \" copyAndDeleteDisabled\";\r\n        } else if (this.props.pasteDisabled) {\r\n            divClassName += \" pasteDisabled\";\r\n        }\r\n        return (\r\n            <div className={divClassName} onClick={this.props.onClick} title={`${this.props.tooltip} ${this.props.shortcut ? \" (\" + this.props.shortcut + \")\" : \"\"}`}>\r\n                <div className={iconClassName}>\r\n                    <img src={this.props.icon} title={this.props.iconLabel} alt={this.props.iconLabel} className={this.props.isActive ? \"active\" : \"\"} draggable={false} />\r\n                </div>\r\n                <div className=\"command-label\">{this.props.tooltip}</div>\r\n            </div>\r\n        );\r\n    }\r\n}\r\n","import * as React from \"react\";\r\nimport type { Observable } from \"core/Misc/observable\";\r\nimport type { PropertyChangedEvent } from \"./../propertyChangedEvent\";\r\nimport { copyCommandToClipboard, getClassNameWithNamespace } from \"../copyCommandToClipboard\";\r\nimport type { IconDefinition } from \"@fortawesome/fontawesome-common-types\";\r\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\r\nimport { conflictingValuesPlaceholder } from \"./targetsProxy\";\r\nimport copyIcon from \"../imgs/copy.svg\";\r\nimport { ToolContext } from \"../fluent/hoc/fluentToolWrapper\";\r\nimport { SwitchPropertyLine } from \"../fluent/hoc/propertyLines/switchPropertyLine\";\r\nimport { Checkbox } from \"../fluent/primitives/checkbox\";\r\n\r\nexport interface ICheckBoxLineComponentProps {\r\n    label?: string;\r\n    target?: any;\r\n    propertyName?: string;\r\n    isSelected?: boolean | (() => boolean);\r\n    onSelect?: (value: boolean) => void;\r\n    onValueChanged?: () => void;\r\n    onPropertyChangedObservable?: Observable<PropertyChangedEvent>;\r\n    disabled?: boolean;\r\n    icon?: string;\r\n    iconLabel?: string;\r\n    faIcons?: { enabled: IconDefinition; disabled: IconDefinition };\r\n    large?: boolean;\r\n}\r\n\r\nimport toggleOnIcon40px from \"../imgs/toggleOnIcon_40px.svg\";\r\nimport toggleOffIcon40px from \"../imgs/toggleOffIcon_40px.svg\";\r\nimport toggleOnIcon30px from \"../imgs/toggleOnIcon_30px.svg\";\r\nimport toggleMixedIcon30px from \"../imgs/toggleMixedIcon_30px.svg\";\r\nimport toggleOffIcon30px from \"../imgs/toggleOffIcon_30px.svg\";\r\n\r\nconst Icons = {\r\n    size30: {\r\n        on: toggleOnIcon30px,\r\n        mixed: toggleMixedIcon30px,\r\n        off: toggleOffIcon30px,\r\n    },\r\n    size40: {\r\n        on: toggleOnIcon40px,\r\n        mixed: \"\", // unneeded\r\n        off: toggleOffIcon40px,\r\n    },\r\n};\r\n\r\nexport class CheckBoxLineComponent extends React.Component<ICheckBoxLineComponentProps, { isSelected: boolean; isDisabled?: boolean; isConflict: boolean }> {\r\n    private _localChange = false;\r\n    constructor(props: ICheckBoxLineComponentProps) {\r\n        super(props);\r\n\r\n        if (this.props.isSelected !== undefined) {\r\n            this.state = {\r\n                isSelected: typeof this.props.isSelected === \"boolean\" ? this.props.isSelected : this.props.isSelected(),\r\n                isConflict: false,\r\n            };\r\n        } else {\r\n            this.state = {\r\n                isSelected: this.props.target[this.props.propertyName!] === true,\r\n                isConflict: this.props.target[this.props.propertyName!] === conflictingValuesPlaceholder,\r\n            };\r\n        }\r\n\r\n        if (this.props.disabled) {\r\n            this.state = { ...this.state, isDisabled: this.props.disabled };\r\n        }\r\n    }\r\n\r\n    override shouldComponentUpdate(nextProps: ICheckBoxLineComponentProps, nextState: { isSelected: boolean; isDisabled: boolean; isConflict: boolean }) {\r\n        let selected: boolean;\r\n\r\n        if (nextProps.isSelected !== undefined) {\r\n            selected = typeof nextProps.isSelected === \"boolean\" ? nextProps.isSelected : nextProps.isSelected();\r\n        } else {\r\n            selected = nextProps.target[nextProps.propertyName!] === true;\r\n            if (nextProps.target[nextProps.propertyName!] === conflictingValuesPlaceholder) {\r\n                nextState.isConflict = true;\r\n            }\r\n        }\r\n\r\n        if (selected !== nextState.isSelected || this._localChange) {\r\n            nextState.isSelected = selected;\r\n            this._localChange = false;\r\n            return true;\r\n        }\r\n\r\n        if (nextProps.disabled !== nextState.isDisabled) {\r\n            return true;\r\n        }\r\n\r\n        return nextProps.label !== this.props.label || nextProps.target !== this.props.target || nextState.isConflict !== this.state.isConflict;\r\n    }\r\n\r\n    onChange() {\r\n        this._localChange = true;\r\n        if (this.props.onSelect) {\r\n            this.props.onSelect(!this.state.isSelected);\r\n        } else {\r\n            if (this.props.onPropertyChangedObservable) {\r\n                this.props.onPropertyChangedObservable.notifyObservers({\r\n                    object: this.props.target,\r\n                    property: this.props.propertyName!,\r\n                    value: !this.state.isSelected,\r\n                    initialValue: this.state.isSelected,\r\n                });\r\n            }\r\n\r\n            if (this.props.target && this.props.propertyName) {\r\n                this.props.target[this.props.propertyName] = !this.state.isSelected;\r\n            }\r\n        }\r\n\r\n        if (this.props.onValueChanged) {\r\n            this.props.onValueChanged();\r\n        }\r\n\r\n        this.setState({ isSelected: !this.state.isSelected, isConflict: false });\r\n    }\r\n\r\n    // Copy to clipboard the code this checkbox actually does\r\n    // Example : mesh.checkCollisions = true;\r\n    onCopyClick() {\r\n        if (this.props && this.props.target) {\r\n            const { className, babylonNamespace } = getClassNameWithNamespace(this.props.target);\r\n            const targetName = \"globalThis.debugNode\";\r\n            const targetProperty = this.props.propertyName;\r\n            const value = this.props.target[this.props.propertyName!];\r\n            const strCommand = targetName + \".\" + targetProperty + \" = \" + value + \";// (debugNode as \" + babylonNamespace + className + \")\";\r\n            copyCommandToClipboard(strCommand);\r\n        } else {\r\n            copyCommandToClipboard(\"undefined\");\r\n        }\r\n    }\r\n\r\n    renderOriginal() {\r\n        const icons = this.props.large ? Icons.size40 : Icons.size30;\r\n        const icon = this.state.isConflict ? icons.mixed : this.state.isSelected ? icons.on : icons.off;\r\n        return (\r\n            <div className=\"checkBoxLine\">\r\n                {this.props.icon && <img src={this.props.icon} title={this.props.iconLabel} alt={this.props.iconLabel} className=\"icon\" />}\r\n                {this.props.label && (\r\n                    <div className=\"label\" title={this.props.iconLabel}>\r\n                        {this.props.label}\r\n                    </div>\r\n                )}\r\n                {this.props.faIcons && (\r\n                    <FontAwesomeIcon\r\n                        className={`cbx ${this.props.disabled ? \"disabled\" : \"\"}`}\r\n                        icon={this.state.isSelected ? this.props.faIcons.enabled : this.props.faIcons.disabled}\r\n                        onClick={() => !this.props.disabled && this.onChange()}\r\n                    />\r\n                )}\r\n                {!this.props.faIcons && (\r\n                    <div className=\"checkBox\">\r\n                        <label className={`container lbl${this.props.disabled ? \" disabled\" : \"\"} ${this.state.isSelected ? \"checked\" : \"\"}`}>\r\n                            <input\r\n                                type=\"checkbox\"\r\n                                className={`cbx hidden ${this.state.isConflict ? \"conflict\" : \"\"}`}\r\n                                checked={this.state.isSelected}\r\n                                onChange={() => this.onChange()}\r\n                                disabled={!!this.props.disabled}\r\n                            />\r\n                            <img className=\"icon\" src={icon} alt={this.props.label} />\r\n                        </label>\r\n                    </div>\r\n                )}\r\n                <div className=\"copy hoverIcon\" onClick={() => this.onCopyClick()} title=\"Copy to clipboard\">\r\n                    <img src={copyIcon} alt=\"Copy\" />\r\n                </div>\r\n            </div>\r\n        );\r\n    }\r\n\r\n    renderFluent() {\r\n        // if faIcons are sent (to mimic a checkbox) use fluent checkbox\r\n        if (this.props.faIcons) {\r\n            return <Checkbox disabled={this.props.disabled} value={this.state.isSelected} onChange={() => !this.props.disabled && this.onChange()} />;\r\n        }\r\n        return <SwitchPropertyLine label={this.props.label || \"\"} value={this.state.isSelected} onChange={() => this.onChange()} disabled={!!this.props.disabled} />;\r\n    }\r\n\r\n    override render() {\r\n        return <ToolContext.Consumer>{({ useFluent }) => (useFluent ? this.renderFluent() : this.renderOriginal())}</ToolContext.Consumer>;\r\n    }\r\n}\r\n","import * as React from \"react\";\r\n\r\ninterface IIconComponentProps {\r\n    icon: string;\r\n    label?: string;\r\n}\r\n\r\nexport class IconComponent extends React.Component<IIconComponentProps> {\r\n    override render() {\r\n        return <img src={this.props.icon} title={this.props.label} alt={this.props.label} color=\"black\" className=\"icon\" onDragStart={(evt) => evt.preventDefault()} />;\r\n    }\r\n}\r\n","\n      import API from \"!../../../../../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js\";\n      import domAPI from \"!../../../../../node_modules/style-loader/dist/runtime/styleDomAPI.js\";\n      import insertFn from \"!../../../../../node_modules/style-loader/dist/runtime/insertBySelector.js\";\n      import setAttributes from \"!../../../../../node_modules/style-loader/dist/runtime/setAttributesWithoutAttributes.js\";\n      import insertStyleElement from \"!../../../../../node_modules/style-loader/dist/runtime/insertStyleElement.js\";\n      import styleTagTransformFn from \"!../../../../../node_modules/style-loader/dist/runtime/styleTagTransform.js\";\n      import content, * as namedExport from \"!!../../../../../node_modules/css-loader/dist/cjs.js??ruleSet[1].rules[3].use[1]!../../../../../node_modules/sass-loader/dist/cjs.js??ruleSet[1].rules[3].use[2]!./Button.module.scss\";\n      \n      \n\nvar options = {};\n\noptions.styleTagTransform = styleTagTransformFn;\noptions.setAttributes = setAttributes;\n\n      options.insert = insertFn.bind(null, \"head\");\n    \noptions.domAPI = domAPI;\noptions.insertStyleElement = insertStyleElement;\n\nvar update = API(content, options);\n\n\n\nexport * from \"!!../../../../../node_modules/css-loader/dist/cjs.js??ruleSet[1].rules[3].use[1]!../../../../../node_modules/sass-loader/dist/cjs.js??ruleSet[1].rules[3].use[2]!./Button.module.scss\";\n       export default content && content.locals ? content.locals : undefined;\n","import type { PropsWithChildren } from \"react\";\r\nimport * as styles from \"./Button.module.scss\";\r\nimport { ClassNames } from \"./classNames\";\r\n\r\n// Will be deleted after fluent work complete\r\nexport type ButtonComponentProps = {\r\n    disabled?: boolean;\r\n    active?: boolean;\r\n    onClick?: () => void;\r\n    color: \"light\" | \"dark\";\r\n    size: \"default\" | \"small\" | \"wide\" | \"smaller\";\r\n    title?: string;\r\n    backgroundColor?: string;\r\n};\r\n\r\nexport const ButtonComponent: React.FC<PropsWithChildren<ButtonComponentProps>> = ({ disabled, active, onClick, children, color, size, title, backgroundColor }) => {\r\n    return (\r\n        <button\r\n            className={ClassNames(\r\n                { button: true, active, wide: size === \"wide\", small: size === \"small\", smaller: size === \"smaller\", light: color === \"light\", dark: color === \"dark\" },\r\n                styles\r\n            )}\r\n            disabled={disabled}\r\n            onClick={onClick}\r\n            title={title}\r\n            style={{ backgroundColor }}\r\n        >\r\n            {children}\r\n        </button>\r\n    );\r\n};\r\n","\n      import API from \"!../../../../../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js\";\n      import domAPI from \"!../../../../../node_modules/style-loader/dist/runtime/styleDomAPI.js\";\n      import insertFn from \"!../../../../../node_modules/style-loader/dist/runtime/insertBySelector.js\";\n      import setAttributes from \"!../../../../../node_modules/style-loader/dist/runtime/setAttributesWithoutAttributes.js\";\n      import insertStyleElement from \"!../../../../../node_modules/style-loader/dist/runtime/insertStyleElement.js\";\n      import styleTagTransformFn from \"!../../../../../node_modules/style-loader/dist/runtime/styleTagTransform.js\";\n      import content, * as namedExport from \"!!../../../../../node_modules/css-loader/dist/cjs.js??ruleSet[1].rules[3].use[1]!../../../../../node_modules/sass-loader/dist/cjs.js??ruleSet[1].rules[3].use[2]!./Icon.module.scss\";\n      \n      \n\nvar options = {};\n\noptions.styleTagTransform = styleTagTransformFn;\noptions.setAttributes = setAttributes;\n\n      options.insert = insertFn.bind(null, \"head\");\n    \noptions.domAPI = domAPI;\noptions.insertStyleElement = insertStyleElement;\n\nvar update = API(content, options);\n\n\n\nexport * from \"!!../../../../../node_modules/css-loader/dist/cjs.js??ruleSet[1].rules[3].use[1]!../../../../../node_modules/sass-loader/dist/cjs.js??ruleSet[1].rules[3].use[2]!./Icon.module.scss\";\n       export default content && content.locals ? content.locals : undefined;\n","import { ClassNames } from \"./classNames\";\r\nimport * as styles from \"./Icon.module.scss\";\r\n\r\nexport type IconProps = {\r\n    color?: \"dark\" | \"light\";\r\n    icon: string;\r\n};\r\n\r\nexport const Icon: React.FC<IconProps> = ({ color = \"dark\", icon }) => {\r\n    return <img src={icon} style={{ width: \"100%\", height: \"100%\" }} className={ClassNames({ light: color === \"light\" }, styles)} />;\r\n};\r\n","\n      import API from \"!../../../../../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js\";\n      import domAPI from \"!../../../../../node_modules/style-loader/dist/runtime/styleDomAPI.js\";\n      import insertFn from \"!../../../../../node_modules/style-loader/dist/runtime/insertBySelector.js\";\n      import setAttributes from \"!../../../../../node_modules/style-loader/dist/runtime/setAttributesWithoutAttributes.js\";\n      import insertStyleElement from \"!../../../../../node_modules/style-loader/dist/runtime/insertStyleElement.js\";\n      import styleTagTransformFn from \"!../../../../../node_modules/style-loader/dist/runtime/styleTagTransform.js\";\n      import content, * as namedExport from \"!!../../../../../node_modules/css-loader/dist/cjs.js??ruleSet[1].rules[3].use[1]!../../../../../node_modules/sass-loader/dist/cjs.js??ruleSet[1].rules[3].use[2]!./TextInputWithSubmit.module.scss\";\n      \n      \n\nvar options = {};\n\noptions.styleTagTransform = styleTagTransformFn;\noptions.setAttributes = setAttributes;\n\n      options.insert = insertFn.bind(null, \"head\");\n    \noptions.domAPI = domAPI;\noptions.insertStyleElement = insertStyleElement;\n\nvar update = API(content, options);\n\n\n\nexport * from \"!!../../../../../node_modules/css-loader/dist/cjs.js??ruleSet[1].rules[3].use[1]!../../../../../node_modules/sass-loader/dist/cjs.js??ruleSet[1].rules[3].use[2]!./TextInputWithSubmit.module.scss\";\n       export default content && content.locals ? content.locals : undefined;\n","import { useEffect, useState } from \"react\";\r\nimport { ButtonComponent } from \"./Button\";\r\nimport { Icon } from \"./Icon\";\r\nimport * as style from \"./TextInputWithSubmit.module.scss\";\r\n\r\nimport submitIcon from \"../imgs/confirmGridElementDark.svg\";\r\nimport cancelIcon from \"../imgs/deleteGridElementDark.svg\";\r\nimport { ClassNames } from \"./classNames\";\r\n\r\nexport interface ITextInputProps {\r\n    label?: string;\r\n    placeholder?: string;\r\n    submitValue: (newValue: string) => void; // Function to call when the value is updated\r\n    validateValue?: (value: string) => boolean; // Function to call to validate the value\r\n    cancelSubmit?: () => void; // Function to call when the user cancels the submit\r\n}\r\n\r\n/**\r\n * This component represents a text input that can be submitted or cancelled on buttons\r\n * @param props properties\r\n * @returns TextInputWithSubmit element\r\n */\r\nexport const TextInputWithSubmit = (props: ITextInputProps) => {\r\n    const [value, setValue] = useState(\"\");\r\n    const [valid, setValid] = useState(props.validateValue ? props.validateValue(value) : true);\r\n\r\n    useEffect(() => {\r\n        setValid(props.validateValue ? props.validateValue(value) : true);\r\n    }, [value]);\r\n\r\n    const onChange = (event: React.ChangeEvent<HTMLInputElement>) => {\r\n        setValue(event.target.value);\r\n    };\r\n\r\n    const onClickSubmit = () => {\r\n        props.submitValue(value);\r\n    };\r\n\r\n    const onClickCancel = () => {\r\n        props.cancelSubmit?.();\r\n        setValue(\"\");\r\n    };\r\n\r\n    return (\r\n        <div className={ClassNames({ line: true, valid, invalid: !valid }, style)}>\r\n            {props.label && <label>{props.label}</label>}\r\n            <input className={style.input} type=\"text\" placeholder={props.placeholder} value={value} onChange={onChange} />\r\n            <div>\r\n                <ButtonComponent color=\"light\" size=\"smaller\" backgroundColor=\"inherit\" onClick={onClickSubmit} disabled={!valid}>\r\n                    <Icon icon={submitIcon} color=\"dark\"></Icon>\r\n                </ButtonComponent>\r\n                <ButtonComponent color=\"light\" size=\"smaller\" backgroundColor=\"inherit\" onClick={onClickCancel}>\r\n                    <Icon icon={cancelIcon} color=\"dark\"></Icon>\r\n                </ButtonComponent>\r\n            </div>\r\n        </div>\r\n    );\r\n};\r\n","import type { ChangeEvent } from \"react\";\r\nimport { useState } from \"react\";\r\nimport { TextInputWithSubmit } from \"../TextInputWithSubmit\";\r\nimport * as style from \"./OptionsLineComponent.module.scss\";\r\n\r\n/**\r\n * This components represents an options menu with optional\r\n * customizable properties. Option IDs should be unique.\r\n */\r\nexport interface IOption {\r\n    label: string;\r\n    value: string;\r\n    id: string;\r\n}\r\n\r\nexport interface IOptionsLineComponentProps {\r\n    options: IOption[];\r\n    addOptionPlaceholder?: string; // Placeholder text to display when adding a new option\r\n    onOptionAdded?: (newOption: IOption) => void; // Optional function that can be used to add a new option to the menu\r\n    onOptionSelected: (selectedOptionValue: string) => void;\r\n    selectedOptionValue: string; // The value of the currently selected option\r\n    validateNewOptionValue?: (newOptionValue: string) => boolean; // Optional function that can be used to validate the value of a new option\r\n    addOptionText?: string; // Optional text to display on the add option button\r\n}\r\n\r\n/**\r\n * We have two possible states. The user starts in the Default option, and can choose to\r\n * add a new option.\r\n */\r\nenum OptionStates {\r\n    Default = 0, // Default state,\r\n    Adding = 1, // State when the user is adding a new option to the menu\r\n}\r\n\r\nconst OptionAddKey = \"addCustomOption\";\r\n\r\nexport const OptionsLineComponent = (props: IOptionsLineComponentProps) => {\r\n    const [optionState, setOptionState] = useState(OptionStates.Default); // State of the component\r\n\r\n    const onOptionChange = (evt: ChangeEvent<HTMLSelectElement>) => {\r\n        if (evt.target.value === OptionAddKey) {\r\n            setOptionState(OptionStates.Adding);\r\n        } else {\r\n            props.onOptionSelected(evt.target.value);\r\n        }\r\n    };\r\n\r\n    const onOptionAdd = (value: string) => {\r\n        const newOptionText = value;\r\n        const newOption = { label: newOptionText, value: newOptionText, id: Date.now().toString() };\r\n        props.onOptionAdded?.(newOption);\r\n        props.onOptionSelected(newOption.value);\r\n        setOptionState(OptionStates.Default);\r\n    };\r\n\r\n    const onCancelOptionAdd = () => {\r\n        setOptionState(OptionStates.Default);\r\n    };\r\n\r\n    return (\r\n        <div className={style.optionsLine}>\r\n            {optionState === OptionStates.Adding && (\r\n                <TextInputWithSubmit\r\n                    submitValue={onOptionAdd}\r\n                    placeholder={props.addOptionPlaceholder}\r\n                    validateValue={props.validateNewOptionValue}\r\n                    cancelSubmit={onCancelOptionAdd}\r\n                />\r\n            )}\r\n            {optionState === OptionStates.Default && (\r\n                <select className={style.optionsSelect} onChange={onOptionChange} value={props.selectedOptionValue}>\r\n                    {props.onOptionAdded && (\r\n                        <option key={OptionAddKey} value={OptionAddKey}>\r\n                            {props.addOptionText ?? \"Custom\"}\r\n                        </option>\r\n                    )}\r\n                    {props.options.map((option) => (\r\n                        <option key={option.id} value={option.value}>\r\n                            {option.label}\r\n                        </option>\r\n                    ))}\r\n                </select>\r\n            )}\r\n        </div>\r\n    );\r\n};\r\n","\n      import API from \"!../../../../../../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js\";\n      import domAPI from \"!../../../../../../node_modules/style-loader/dist/runtime/styleDomAPI.js\";\n      import insertFn from \"!../../../../../../node_modules/style-loader/dist/runtime/insertBySelector.js\";\n      import setAttributes from \"!../../../../../../node_modules/style-loader/dist/runtime/setAttributesWithoutAttributes.js\";\n      import insertStyleElement from \"!../../../../../../node_modules/style-loader/dist/runtime/insertStyleElement.js\";\n      import styleTagTransformFn from \"!../../../../../../node_modules/style-loader/dist/runtime/styleTagTransform.js\";\n      import content, * as namedExport from \"!!../../../../../../node_modules/css-loader/dist/cjs.js??ruleSet[1].rules[3].use[1]!../../../../../../node_modules/sass-loader/dist/cjs.js??ruleSet[1].rules[3].use[2]!./OptionsLineComponent.module.scss\";\n      \n      \n\nvar options = {};\n\noptions.styleTagTransform = styleTagTransformFn;\noptions.setAttributes = setAttributes;\n\n      options.insert = insertFn.bind(null, \"head\");\n    \noptions.domAPI = domAPI;\noptions.insertStyleElement = insertStyleElement;\n\nvar update = API(content, options);\n\n\n\nexport * from \"!!../../../../../../node_modules/css-loader/dist/cjs.js??ruleSet[1].rules[3].use[1]!../../../../../../node_modules/sass-loader/dist/cjs.js??ruleSet[1].rules[3].use[2]!./OptionsLineComponent.module.scss\";\n       export default content && content.locals ? content.locals : undefined;\n","interface IUnitButtonProps {\r\n    unit: string;\r\n    locked?: boolean;\r\n    onClick?: (unit: string) => void;\r\n}\r\n\r\nexport function UnitButton(props: IUnitButtonProps) {\r\n    return (\r\n        <button\r\n            className={\"unit\"}\r\n            onClick={() => {\r\n                if (props.onClick && !props.locked) {\r\n                    props.onClick(props.unit || \"\");\r\n                }\r\n            }}\r\n            disabled={props.locked}\r\n        >\r\n            {props.unit}\r\n        </button>\r\n    );\r\n}\r\n","import type { Control } from \"gui/2D/controls/control\";\r\nimport type { Grid } from \"gui/2D/controls/grid\";\r\nimport { Vector2 } from \"core/Maths/math\";\r\n\r\nexport class Tools {\r\n    public static LookForItems(item: any, selectedEntities: any[], firstIteration: boolean = true): boolean {\r\n        if (selectedEntities.length == 0) {\r\n            return false;\r\n        }\r\n\r\n        if (!firstIteration && selectedEntities.includes(item)) {\r\n            return true;\r\n        }\r\n\r\n        const children = item.getChildren ? item.getChildren() : item.children;\r\n        if (children) {\r\n            for (const child of children) {\r\n                if (Tools.LookForItems(child, selectedEntities, false)) {\r\n                    return true;\r\n                }\r\n            }\r\n        }\r\n\r\n        return false;\r\n    }\r\n\r\n    private static _RecursiveRemoveHiddenMeshesAndHoistChildren(items: Array<any>) {\r\n        const result: Array<any> = [];\r\n        for (const i of items) {\r\n            // If the mesh is hidden, add it's children that are not hidden, this will handle the case of bounding box parenting for bounding box gizmo\r\n            if (i.reservedDataStore && i.reservedDataStore.hidden && i.getChildMeshes) {\r\n                const meshes = Tools._RecursiveRemoveHiddenMeshesAndHoistChildren(i.getChildMeshes());\r\n                for (const m of meshes) {\r\n                    result.push(m);\r\n                }\r\n            } else if (!i.reservedDataStore || !i.reservedDataStore.hidden) {\r\n                result.push(i);\r\n            }\r\n        }\r\n        return result;\r\n    }\r\n\r\n    public static SortAndFilter(parent: any, items: any[]): any[] {\r\n        if (!items) {\r\n            return [];\r\n        }\r\n\r\n        const finalArray = Tools._RecursiveRemoveHiddenMeshesAndHoistChildren(items);\r\n\r\n        if (parent && parent.reservedDataStore && parent.reservedDataStore.detachedChildren) {\r\n            finalArray.push(...parent.reservedDataStore.detachedChildren);\r\n        }\r\n        return finalArray.reverse();\r\n    }\r\n\r\n    public static GetCellInfo(grid: Grid, control: Control) {\r\n        const cellInfo = grid.getChildCellInfo(control);\r\n        let rowNumber = parseInt(cellInfo.substring(0, cellInfo.search(\":\")));\r\n        if (isNaN(rowNumber)) {\r\n            rowNumber = 0;\r\n        }\r\n        let columnNumber = parseInt(cellInfo.substring(cellInfo.search(\":\") + 1));\r\n        if (isNaN(columnNumber)) {\r\n            columnNumber = 0;\r\n        }\r\n        return new Vector2(rowNumber, columnNumber);\r\n    }\r\n\r\n    public static ReorderGrid(grid: Grid, index: number, control: Control, cell: Vector2) {\r\n        const tags: Vector2[] = [];\r\n        const controls: Control[] = [];\r\n        const length = grid.children.length;\r\n        for (let i = index; i < length; ++i) {\r\n            const control = grid.children[index];\r\n            controls.push(control);\r\n            tags.push(Tools.GetCellInfo(grid, control));\r\n            grid.removeControl(control);\r\n        }\r\n        grid.addControl(control, cell.x, cell.y);\r\n        for (let i = 0; i < controls.length; ++i) {\r\n            grid.addControl(controls[i], tags[i].x, tags[i].y);\r\n        }\r\n    }\r\n}\r\n","\n      import API from \"!../../../../../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js\";\n      import domAPI from \"!../../../../../node_modules/style-loader/dist/runtime/styleDomAPI.js\";\n      import insertFn from \"!../../../../../node_modules/style-loader/dist/runtime/insertBySelector.js\";\n      import setAttributes from \"!../../../../../node_modules/style-loader/dist/runtime/setAttributesWithoutAttributes.js\";\n      import insertStyleElement from \"!../../../../../node_modules/style-loader/dist/runtime/insertStyleElement.js\";\n      import styleTagTransformFn from \"!../../../../../node_modules/style-loader/dist/runtime/styleTagTransform.js\";\n      import content, * as namedExport from \"!!../../../../../node_modules/css-loader/dist/cjs.js??ruleSet[1].rules[2].use[1]!../../../../../node_modules/sass-loader/dist/cjs.js??ruleSet[1].rules[2].use[2]!./workbenchCanvas.scss\";\n      \n      \n\nvar options = {};\n\noptions.styleTagTransform = styleTagTransformFn;\noptions.setAttributes = setAttributes;\n\n      options.insert = insertFn.bind(null, \"head\");\n    \noptions.domAPI = domAPI;\noptions.insertStyleElement = insertStyleElement;\n\nvar update = API(content, options);\n\n\n\nexport * from \"!!../../../../../node_modules/css-loader/dist/cjs.js??ruleSet[1].rules[2].use[1]!../../../../../node_modules/sass-loader/dist/cjs.js??ruleSet[1].rules[2].use[2]!./workbenchCanvas.scss\";\n       export default content && content.locals ? content.locals : undefined;\n","/* eslint-disable @typescript-eslint/naming-convention */\r\nimport * as React from \"react\";\r\nimport type { GlobalState } from \"../globalState\";\r\nimport { DragOverLocation, GUIEditorTool } from \"../globalState\";\r\nimport type { Nullable } from \"core/types\";\r\nimport { Control } from \"gui/2D/controls/control\";\r\nimport { AdvancedDynamicTexture } from \"gui/2D/advancedDynamicTexture\";\r\nimport { Vector2, Vector3 } from \"core/Maths/math.vector\";\r\nimport { Engine } from \"core/Engines/engine\";\r\nimport { Scene } from \"core/scene\";\r\nimport { Color4 } from \"core/Maths/math.color\";\r\nimport { ArcRotateCamera } from \"core/Cameras/arcRotateCamera\";\r\nimport { HemisphericLight } from \"core/Lights/hemisphericLight\";\r\nimport { Axis } from \"core/Maths/math.axis\";\r\nimport { Epsilon } from \"core/Maths/math.constants\";\r\nimport { Container } from \"gui/2D/controls/container\";\r\nimport type { KeyboardInfo } from \"core/Events/keyboardEvents\";\r\nimport { KeyboardEventTypes } from \"core/Events/keyboardEvents\";\r\nimport type { Line } from \"gui/2D/controls/line\";\r\nimport type { Grid } from \"gui/2D/controls/grid\";\r\nimport { Tools } from \"../tools\";\r\nimport type { Observable, Observer } from \"core/Misc/observable\";\r\nimport type { ISize } from \"core/Maths/math\";\r\nimport { Texture } from \"core/Materials/Textures/texture\";\r\nimport type { DimensionProperties } from \"./coordinateHelper\";\r\nimport { CoordinateHelper } from \"./coordinateHelper\";\r\nimport { Logger } from \"core/Misc/logger\";\r\nimport \"./workbenchCanvas.scss\";\r\nimport { ValueAndUnit } from \"gui/2D/valueAndUnit\";\r\nimport type { StackPanel } from \"gui/2D/controls/stackPanel\";\r\nimport type { TransformNode } from \"core/Meshes/transformNode\";\r\nimport { RandomGUID } from \"core/Misc/guid\";\r\nimport { DataStorage } from \"core/Misc/dataStorage\";\r\nimport type { Vector2WithInfo } from \"gui/2D/math2D\";\r\n\r\nexport interface IWorkbenchComponentProps {\r\n    globalState: GlobalState;\r\n}\r\n\r\nexport enum ConstraintDirection {\r\n    NONE = 0,\r\n    X = 2, // Horizontal constraint\r\n    Y = 3, // Vertical constraint\r\n}\r\n\r\n/**\r\n * This function will throttle calls to functions.\r\n *\r\n * @param callback callback to call.\r\n * @param time time to wait between calls in ms.\r\n * @returns callback function.\r\n */\r\nfunction throttle(callback: (...args: any[]) => void, time: number) {\r\n    let lastCalledTime: number = 0;\r\n    return function (...args: any[]) {\r\n        const now = Date.now();\r\n        if (now - lastCalledTime < time) {\r\n            return;\r\n        }\r\n        lastCalledTime = now;\r\n        callback(...args);\r\n    };\r\n}\r\n\r\nconst ARROW_KEY_MOVEMENT_SMALL = 1; // px\r\nconst ARROW_KEY_MOVEMENT_LARGE = 5; // px\r\n\r\nconst MAX_POINTER_TRAVEL_DISTANCE = 5; //px^2. determines how far the pointer can move to be treated as a drag vs. a click\r\nconst CONTROL_OFFSET = 10; //offset in pixels for when a control is added to editor\r\n\r\nexport class WorkbenchComponent extends React.Component<IWorkbenchComponentProps> {\r\n    private _mouseDown: boolean;\r\n    private _rootContainer: React.RefObject<HTMLCanvasElement>;\r\n    private _setConstraintDirection: boolean = false;\r\n    private _mouseStartPoint: Nullable<Vector2> = null;\r\n    public _scene: Scene;\r\n    private _constraintDirection = ConstraintDirection.NONE;\r\n    private _panning: boolean;\r\n    private _isOverGUINode: Control[] = [];\r\n    private _engine: Engine;\r\n    private _guiRenderObserver: Nullable<Observer<AdvancedDynamicTexture>>;\r\n    private _doubleClick: Nullable<Control> = null;\r\n    private _currLeft: number = 0;\r\n    private _currTop: number = 0;\r\n    private _controlsHit: Control[] = [];\r\n    private _pointerTravelDistance = 0;\r\n    private _processSelectionOnUp = false;\r\n    private _visibleRegionContainer: Container;\r\n    private _centerZoomMousePosition: Vector2 = new Vector2(0, 0);\r\n    private _hasPerformedDragZoom: boolean = false;\r\n\r\n    private static _addedFonts: string[] = [];\r\n    public static get addedFonts() {\r\n        return this._addedFonts;\r\n    }\r\n\r\n    public get visibleRegionContainer() {\r\n        return this._visibleRegionContainer;\r\n    }\r\n\r\n    private _panAndZoomContainer: Container;\r\n    public get panAndZoomContainer() {\r\n        return this._panAndZoomContainer;\r\n    }\r\n    private _trueRootContainer: Container;\r\n    public set trueRootContainer(value: Container) {\r\n        if (value === this._trueRootContainer) {\r\n            return;\r\n        }\r\n        this._visibleRegionContainer.children.forEach((child) => this._visibleRegionContainer.removeControl(child));\r\n        this._visibleRegionContainer.addControl(value);\r\n        this._trueRootContainer = value;\r\n        value._host = this.props.globalState.guiTexture;\r\n    }\r\n    public get trueRootContainer() {\r\n        return this._trueRootContainer;\r\n    }\r\n\r\n    private _defaultGUISize: ISize = { width: 1024, height: 1024 };\r\n    private _initialPanningOffset: Vector2 = new Vector2(0, 0);\r\n    private _panningOffset = new Vector2(0, 0);\r\n    private _zoomFactor = 1;\r\n    private _zoomModeIncrement = 0.2;\r\n    private _guiSize = this._defaultGUISize;\r\n    private _pasteDisabled = true;\r\n\r\n    public get guiSize() {\r\n        return this._guiSize;\r\n    }\r\n    public get pasteDisabled(): boolean {\r\n        return this._pasteDisabled;\r\n    }\r\n    // sets the size of the GUI and makes all necessary adjustments\r\n    public set guiSize(value: ISize) {\r\n        this._guiSize = { ...value };\r\n        this._visibleRegionContainer.widthInPixels = this._guiSize.width;\r\n        this._visibleRegionContainer.heightInPixels = this._guiSize.height;\r\n        this.props.globalState.onResizeObservable.notifyObservers(this._guiSize);\r\n        this.props.globalState.onReframeWindowObservable.notifyObservers();\r\n        this.props.globalState.onWindowResizeObservable.notifyObservers();\r\n    }\r\n\r\n    public applyEditorTransformation() {\r\n        const adt = this.props.globalState.guiTexture;\r\n        if (adt._rootContainer != this._panAndZoomContainer) {\r\n            adt._rootContainer = this._panAndZoomContainer;\r\n            this._visibleRegionContainer.addControl(this._trueRootContainer);\r\n            this.props.globalState.guiTexture.markAsDirty();\r\n        }\r\n        if (adt.getSize().width !== this._engine.getRenderWidth() || adt.getSize().height !== this._engine.getRenderHeight()) {\r\n            adt.scaleTo(this._engine.getRenderWidth(), this._engine.getRenderHeight());\r\n        }\r\n        if (adt.getSize().width !== this._engine.getRenderWidth() || adt.getSize().height !== this._engine.getRenderHeight()) {\r\n            adt.scaleTo(this._engine.getRenderWidth(), this._engine.getRenderHeight());\r\n        }\r\n        this._trueRootContainer.clipContent = false;\r\n        this._trueRootContainer.clipChildren = false;\r\n    }\r\n\r\n    public removeEditorTransformation() {\r\n        const adt = this.props.globalState.guiTexture;\r\n        if (adt._rootContainer != this._trueRootContainer) {\r\n            this._visibleRegionContainer.removeControl(this._trueRootContainer);\r\n            adt._rootContainer = this._trueRootContainer;\r\n        }\r\n        this._trueRootContainer.clipContent = true;\r\n        this._trueRootContainer.clipChildren = true;\r\n    }\r\n\r\n    private _reframeWindow() {\r\n        this._panningOffset = new Vector2(0, 0);\r\n        const xFactor = this._engine.getRenderWidth() / this.guiSize.width;\r\n        const yFactor = this._engine.getRenderHeight() / this.guiSize.height;\r\n        this._zoomFactor = Math.min(xFactor, yFactor) * 0.9;\r\n    }\r\n\r\n    constructor(props: IWorkbenchComponentProps) {\r\n        super(props);\r\n        const { globalState } = props;\r\n        this._rootContainer = React.createRef();\r\n\r\n        globalState.onSelectionChangedObservable.add(() => this.updateNodeOutlines());\r\n\r\n        globalState.onToolChangeObservable.add(() => {\r\n            this.forceUpdate();\r\n        });\r\n        // Get the canvas element from the DOM.\r\n\r\n        globalState.onFitControlsToWindowObservable.add(() => {\r\n            if (globalState.selectedControls.length) {\r\n                let minX = Number.MAX_SAFE_INTEGER;\r\n                let minY = Number.MAX_SAFE_INTEGER;\r\n\r\n                let maxX = -Number.MAX_SAFE_INTEGER;\r\n                let maxY = -Number.MAX_SAFE_INTEGER;\r\n\r\n                // Find bounding box of selected controls\r\n                for (const selectedControl of globalState.selectedControls) {\r\n                    const left = -selectedControl.widthInPixels / 2;\r\n                    const top = -selectedControl.heightInPixels / 2;\r\n\r\n                    const right = left + selectedControl.widthInPixels;\r\n                    const bottom = top + selectedControl.heightInPixels;\r\n\r\n                    // Compute all four corners of the control in root space\r\n                    const leftTopRS = CoordinateHelper.NodeToRTTSpace(selectedControl, left, top, new Vector2(), undefined, this.trueRootContainer);\r\n                    const rightBottomRS = CoordinateHelper.NodeToRTTSpace(selectedControl, right, bottom, new Vector2(), undefined, this.trueRootContainer);\r\n                    const leftBottomRS = CoordinateHelper.NodeToRTTSpace(selectedControl, left, bottom, new Vector2(), undefined, this.trueRootContainer);\r\n                    const rightTopRS = CoordinateHelper.NodeToRTTSpace(selectedControl, right, top, new Vector2(), undefined, this.trueRootContainer);\r\n\r\n                    minX = Math.min(minX, leftTopRS.x, rightBottomRS.x, leftBottomRS.x, rightTopRS.x);\r\n                    minY = Math.min(minY, leftTopRS.y, rightBottomRS.y, leftBottomRS.y, rightTopRS.y);\r\n\r\n                    maxX = Math.max(maxX, leftTopRS.x, rightBottomRS.x, leftBottomRS.x, rightTopRS.x);\r\n                    maxY = Math.max(maxY, leftTopRS.y, rightBottomRS.y, leftBottomRS.y, rightTopRS.y);\r\n                }\r\n\r\n                // Find width and height of bounding box\r\n                const width = maxX - minX;\r\n                const height = maxY - minY;\r\n\r\n                // Calculate the offset on the center of the bounding box\r\n                const centerX = (minX + maxX) / 2;\r\n                const centerY = (minY + maxY) / 2;\r\n\r\n                this._panningOffset = new Vector2(-centerX, centerY);\r\n\r\n                // Calculate the zoom factors based on width and height\r\n                const xFactor = this._engine.getRenderWidth() / width;\r\n                const yFactor = this._engine.getRenderHeight() / height;\r\n                this._zoomFactor = Math.min(xFactor, yFactor) * 0.9;\r\n            } else {\r\n                this._reframeWindow();\r\n            }\r\n        });\r\n\r\n        globalState.onReframeWindowObservable.add(() => {\r\n            this._reframeWindow();\r\n        });\r\n\r\n        globalState.onOutlineChangedObservable.add(() => {\r\n            this.updateNodeOutlines();\r\n        });\r\n\r\n        globalState.onSelectionChangedObservable.add(() => {\r\n            this.updateNodeOutlines();\r\n        });\r\n\r\n        globalState.onParentingChangeObservable.add((control) => {\r\n            this.parent(control);\r\n        });\r\n\r\n        globalState.hostDocument.addEventListener(\"keyup\", this.keyEvent, false);\r\n\r\n        // Hotkey shortcuts\r\n        globalState.hostDocument.addEventListener(\"keydown\", this.keyEvent, false);\r\n        globalState.hostDocument.defaultView!.addEventListener(\"blur\", this.blurEvent, false);\r\n        let framesToUpdate = 1;\r\n        globalState.onWindowResizeObservable.add(() => {\r\n            // update the size for the next 5 frames\r\n            framesToUpdate += 5;\r\n        });\r\n        globalState.onNewSceneObservable.add((scene) => {\r\n            scene &&\r\n                scene.onBeforeRenderObservable.add(() => {\r\n                    if (framesToUpdate > 0) {\r\n                        framesToUpdate--;\r\n                        globalState.onGizmoUpdateRequireObservable.notifyObservers();\r\n                        this._engine.resize();\r\n                        globalState.onArtBoardUpdateRequiredObservable.notifyObservers();\r\n                    }\r\n                });\r\n        });\r\n\r\n        globalState.onCopyObservable.add((copyFn) => this.copyToClipboard(copyFn));\r\n        globalState.onCutObservable.add((copyFn) => this.cutToClipboard(copyFn));\r\n        globalState.onPasteObservable.add((content) => this.pasteFromClipboard(content));\r\n\r\n        globalState.workbench = this;\r\n        globalState.onResizeObservable.notifyObservers(this._guiSize);\r\n\r\n        globalState.onPopupClosedObservable.add(() => {\r\n            this.dispose();\r\n        });\r\n    }\r\n\r\n    keyEvent = (evt: KeyboardEvent) => {\r\n        if ((evt.target as HTMLElement).nodeName === \"INPUT\") {\r\n            return;\r\n        }\r\n        if (evt.shiftKey) {\r\n            this._setConstraintDirection = this._constraintDirection === ConstraintDirection.NONE;\r\n        } else {\r\n            this._setConstraintDirection = false;\r\n            this._constraintDirection = ConstraintDirection.NONE;\r\n        }\r\n        this.props.globalState.shiftKeyPressed = evt.shiftKey && evt.type === \"keydown\";\r\n\r\n        if (evt.key === \"Delete\" || evt.key === \"Backspace\") {\r\n            if (!this.props.globalState.lockObject.lock) {\r\n                this.props.globalState.deleteSelectedNodes();\r\n            }\r\n        }\r\n\r\n        if (this.props.globalState.keys.isKeyDown(\"control\") && !this.props.globalState.lockObject.lock) {\r\n            if (evt.key === \"a\") {\r\n                evt.preventDefault();\r\n                this.props.globalState.setSelection(this.trueRootContainer.children);\r\n            }\r\n        }\r\n    };\r\n\r\n    public copyToClipboard(copyFn: (content: string) => void) {\r\n        this._pasteDisabled = false;\r\n        const controlList: any[] = [];\r\n        for (const control of this.props.globalState.selectedControls) {\r\n            // For grid controls, have to save current position in it\r\n            if (control.parent?.getClassName() === \"Grid\") {\r\n                const cellInfo = (control.parent as Grid).getChildCellInfo(control);\r\n                const [row, column] = cellInfo.split(\":\");\r\n                control.metadata = { ...control.metadata, _cellInfo: { row, column } };\r\n            }\r\n            const obj = {};\r\n            control.serialize(obj);\r\n\r\n            controlList.push(obj);\r\n            this._currLeft = control.leftInPixels;\r\n            this._currTop = control.topInPixels;\r\n        }\r\n\r\n        copyFn(\r\n            JSON.stringify({\r\n                GUIClipboard: true,\r\n                controls: controlList,\r\n            })\r\n        );\r\n    }\r\n\r\n    public cutToClipboard(copyFn: (content: string) => void) {\r\n        this.copyToClipboard(copyFn);\r\n        this.props.globalState.deleteSelectedNodes();\r\n    }\r\n\r\n    public pasteFromClipboard(clipboardContents: string) {\r\n        try {\r\n            const parsed = JSON.parse(clipboardContents);\r\n            if (parsed.GUIClipboard) {\r\n                const newSelection = [];\r\n                for (const control of parsed.controls) {\r\n                    newSelection.push(Control.Parse(control, this.props.globalState.guiTexture));\r\n                }\r\n\r\n                if (newSelection[0].parent?.typeName != \"StackPanel\") {\r\n                    this._currLeft += CONTROL_OFFSET;\r\n                    this._currTop += CONTROL_OFFSET;\r\n                }\r\n\r\n                newSelection[0].leftInPixels = this._currLeft;\r\n                newSelection[0].topInPixels = this._currTop;\r\n\r\n                const newGuiNode = this.props.globalState.workbench.appendBlock(newSelection[0]);\r\n                if (newGuiNode.parent?.typeName === \"Grid\" && newGuiNode.metadata?._cellInfo) {\r\n                    const { row, column } = newGuiNode.metadata._cellInfo;\r\n                    const gridParent = newGuiNode.parent as Grid;\r\n                    gridParent.removeControl(newGuiNode);\r\n                    gridParent.addControl(newGuiNode, parseInt(row), parseInt(column));\r\n                }\r\n                this.props.globalState.setSelection([newGuiNode]);\r\n\r\n                return true;\r\n            }\r\n        } catch {\r\n            // don't need an error message\r\n        }\r\n        Logger.Warn(\"Paste attempted, but clipboard content was invalid.\");\r\n        return false;\r\n    }\r\n\r\n    public CopyGUIControl(original: Control) {\r\n        const serializationObject = {};\r\n        original.serialize(serializationObject);\r\n        const newControl = Control.Parse(serializationObject, this.props.globalState.guiTexture);\r\n\r\n        if (newControl) {\r\n            //insert the new control into the adt or parent container\r\n            this.props.globalState.workbench.appendBlock(newControl);\r\n            this.props.globalState.guiTexture.removeControl(newControl);\r\n            if (original.parent?.typeName === \"Grid\") {\r\n                const cell = Tools.GetCellInfo(original.parent as Grid, original);\r\n                (original.parent as Grid).addControl(newControl, cell.x, cell.y);\r\n            } else {\r\n                original.parent?.addControl(newControl);\r\n            }\r\n            let index = 1;\r\n            while (\r\n                this.props.globalState.guiTexture.getDescendants(false).filter(\r\n                    //search if there are any copies\r\n                    (control) => control.name === `${newControl.name} Copy ${index}`\r\n                ).length\r\n            ) {\r\n                index++;\r\n            }\r\n            newControl.name = `${newControl.name} Copy ${index}`;\r\n            this.props.globalState.select(newControl);\r\n        }\r\n    }\r\n\r\n    blurEvent = () => {\r\n        this._constraintDirection = ConstraintDirection.NONE;\r\n        this.props.globalState.onPointerUpObservable.notifyObservers(null);\r\n    };\r\n\r\n    /**\r\n     * Adds editor observers to control and stores old data in metadata\r\n     * @param guiControl\r\n     */\r\n    addEditorBehavior(guiControl: Control) {\r\n        guiControl.onPointerUpObservable.add(() => {\r\n            this.clicked = false;\r\n        });\r\n\r\n        guiControl.onPointerDownObservable.add((evt) => {\r\n            if (evt.buttonIndex > 0 || this.props.globalState.tool !== GUIEditorTool.SELECT) {\r\n                return;\r\n            }\r\n            this._controlsHit.push(guiControl);\r\n        });\r\n\r\n        guiControl.onPointerEnterObservable.add(() => {\r\n            if (this._isOverGUINode.indexOf(guiControl) === -1) {\r\n                this._isOverGUINode.push(guiControl);\r\n            }\r\n        });\r\n\r\n        guiControl.onPointerOutObservable.add(() => {\r\n            const index = this._isOverGUINode.indexOf(guiControl);\r\n            if (index !== -1) {\r\n                this._isOverGUINode.splice(index, 1);\r\n            }\r\n        });\r\n\r\n        guiControl.onDisposeObservable.add(() => {\r\n            const index = this._isOverGUINode.indexOf(guiControl);\r\n            if (index !== -1) {\r\n                this._isOverGUINode.splice(index, 1);\r\n            }\r\n        });\r\n\r\n        guiControl.metadata = {\r\n            ...guiControl.metadata,\r\n            guiEditor: true,\r\n        };\r\n    }\r\n\r\n    /**\r\n     * Removes editor behavior (observables, metadata) from control\r\n     * @param control\r\n     */\r\n    removeEditorBehavior(control: Control) {\r\n        if (!control.metadata || !control.metadata.guiEditor) {\r\n            return;\r\n        }\r\n        delete control.metadata.guiEditor;\r\n        delete control.metadata.editorUniqueId;\r\n    }\r\n\r\n    dispose() {\r\n        this.props.globalState.hostDocument.removeEventListener(\"keyup\", this.keyEvent);\r\n        this.props.globalState.hostDocument.removeEventListener(\"keydown\", this.keyEvent);\r\n        this.props.globalState.hostDocument.defaultView!.removeEventListener(\"blur\", this.blurEvent);\r\n        if (this._guiRenderObserver) {\r\n            this.props.globalState.guiTexture.onEndRenderObservable.remove(this._guiRenderObserver);\r\n        }\r\n        this._engine.dispose();\r\n    }\r\n\r\n    loadFromJson(serializationObject: any) {\r\n        this.removeEditorTransformation();\r\n        this.props.globalState.setSelection([]);\r\n        if (this.props.globalState.liveGuiTexture) {\r\n            this.props.globalState.liveGuiTexture?.parseContent(serializationObject, true);\r\n            this.synchronizeLiveGUI();\r\n        } else {\r\n            this.props.globalState.guiTexture.parseContent(serializationObject, true);\r\n        }\r\n        this.trueRootContainer = this.props.globalState.guiTexture._rootContainer;\r\n        this.guiSize = this.props.globalState.guiTexture.getSize();\r\n        this.loadToEditor();\r\n    }\r\n\r\n    /**\r\n     * Load Control from Json then select loaded Control\r\n     * @param serializationObject\r\n     */\r\n    loadControlFromJson(serializationObject: any) {\r\n        const newControls = [];\r\n        for (const control of serializationObject.controls) {\r\n            const newControl = Control.Parse(control, this.props.globalState.guiTexture);\r\n            newControls.push(newControl);\r\n            const newGuiNode = this.props.globalState.workbench.appendBlock(newControl);\r\n            if (newGuiNode.parent?.typeName === \"Grid\" && newGuiNode.metadata?._cellInfo) {\r\n                const { row, column } = newGuiNode.metadata._cellInfo;\r\n                const gridParent = newGuiNode.parent as Grid;\r\n                gridParent.removeControl(newGuiNode);\r\n                gridParent.addControl(newGuiNode, parseInt(row), parseInt(column));\r\n            }\r\n        }\r\n        this.props.globalState.setSelection(newControls);\r\n    }\r\n\r\n    async loadFromSnippet(snippetId: string) {\r\n        this.removeEditorTransformation();\r\n        this.props.globalState.setSelection([]);\r\n        if (this.props.globalState.liveGuiTexture) {\r\n            await this.props.globalState.liveGuiTexture?.parseFromSnippetAsync(snippetId, true);\r\n            this.synchronizeLiveGUI();\r\n        } else {\r\n            await this.props.globalState.guiTexture.parseFromSnippetAsync(snippetId, true);\r\n        }\r\n        this.trueRootContainer = this.props.globalState.guiTexture._rootContainer;\r\n        this.guiSize = this.props.globalState.guiTexture.getSize();\r\n        this.loadToEditor();\r\n        if (this.props.globalState.customLoad) {\r\n            // eslint-disable-next-line github/no-then\r\n            this.props.globalState.customLoad.action(snippetId).catch(() => {\r\n                alert(\"Unable to load your GUI\");\r\n            });\r\n        }\r\n    }\r\n\r\n    loadToEditor() {\r\n        this.props.globalState.guiTexture.rootContainer.getDescendants().forEach((guiElement) => {\r\n            const fontName = guiElement.fontFamily.trim().toLowerCase();\r\n            if (WorkbenchComponent._addedFonts.indexOf(fontName) === -1) {\r\n                WorkbenchComponent._addedFonts.push(guiElement.fontFamily);\r\n            }\r\n            this.addEditorBehavior(guiElement);\r\n        });\r\n\r\n        this._isOverGUINode = [];\r\n        this.props.globalState.setSelection([]);\r\n        this.props.globalState.onFitControlsToWindowObservable.notifyObservers();\r\n        this.props.globalState.onFontsParsedObservable.notifyObservers();\r\n    }\r\n\r\n    public updateNodeOutlines() {\r\n        for (const guiControl of this._trueRootContainer.getDescendants()) {\r\n            guiControl.isHighlighted = guiControl.getClassName() === \"Grid\" && (this.props.globalState.outlines || this.props.globalState.selectedControls.includes(guiControl));\r\n            guiControl.highlightLineWidth = 5;\r\n        }\r\n    }\r\n\r\n    appendBlock(guiElement: Control) {\r\n        this.addEditorBehavior(guiElement);\r\n        guiElement.getDescendants(true).forEach((desc) => this.addEditorBehavior(desc));\r\n        if (this.props.globalState.selectedControls.length != 0) {\r\n            this.props.globalState.selectedControls[0].parent?.addControl(guiElement);\r\n        } else {\r\n            this.trueRootContainer.addControl(guiElement);\r\n        }\r\n        return guiElement;\r\n    }\r\n    private parent(dropLocationControl: Nullable<Control>) {\r\n        const draggedControl = this.props.globalState.draggedControl;\r\n        const draggedControlParent = draggedControl?.parent;\r\n        if (draggedControlParent && draggedControl) {\r\n            if (this._isNotChildInsert(dropLocationControl, draggedControl)) {\r\n                //checking to make sure the element is not being inserted into a child\r\n\r\n                if (dropLocationControl != null) {\r\n                    //the control you are dragging onto top\r\n                    if (\r\n                        dropLocationControl instanceof Container && //dropping inside a container control\r\n                        this.props.globalState.draggedControlDirection === DragOverLocation.CENTER\r\n                    ) {\r\n                        draggedControlParent.removeControl(draggedControl);\r\n                        dropLocationControl.addControl(draggedControl);\r\n                    } else if (dropLocationControl.parent) {\r\n                        //dropping inside the controls parent container\r\n                        if (dropLocationControl.parent.typeName !== \"Grid\") {\r\n                            draggedControlParent.removeControl(draggedControl);\r\n                            let index = dropLocationControl.parent.children.indexOf(dropLocationControl);\r\n                            const reverse = dropLocationControl.parent.typeName === \"StackPanel\" || dropLocationControl.parent.typeName === \"VirtualKeyboard\";\r\n\r\n                            index = this._adjustParentingIndex(index, reverse); //adjusting index to be before or after based on where the control is over\r\n\r\n                            dropLocationControl.parent.children.splice(index, 0, draggedControl);\r\n                            draggedControl.parent = dropLocationControl.parent;\r\n                        } else if (dropLocationControl.parent === draggedControlParent) {\r\n                            //special case for grid\r\n                            this._reorderGrid(dropLocationControl.parent as Grid, draggedControl, dropLocationControl);\r\n                        } else {\r\n                            draggedControlParent.removeControl(draggedControl);\r\n                            dropLocationControl.parent.addControl(draggedControl);\r\n                            this._reorderGrid(dropLocationControl.parent as Grid, draggedControl, dropLocationControl);\r\n                        }\r\n                    } else {\r\n                        draggedControlParent.removeControl(draggedControl);\r\n                        this.trueRootContainer.addControl(draggedControl);\r\n                    }\r\n                } else {\r\n                    draggedControlParent.removeControl(draggedControl);\r\n                    this.trueRootContainer.addControl(draggedControl);\r\n                    this.trueRootContainer.children.pop();\r\n                    this.trueRootContainer.children.splice(0, 0, draggedControl);\r\n                }\r\n            }\r\n        }\r\n\r\n        if (draggedControl) {\r\n            const newParent = draggedControl.parent;\r\n            if (newParent) {\r\n                if (newParent.typeName === \"StackPanel\" || newParent.typeName === \"VirtualKeyboard\") {\r\n                    const isVertical = (newParent as StackPanel).isVertical;\r\n                    if (draggedControl._width.unit === ValueAndUnit.UNITMODE_PERCENTAGE && !isVertical) {\r\n                        CoordinateHelper.ConvertToPixels(draggedControl, [\"width\"]);\r\n                        this.props.globalState.hostWindow.alert(\"Warning: Parenting to horizontal stack panel converts width to pixel values\");\r\n                    }\r\n                    if (draggedControl._height.unit === ValueAndUnit.UNITMODE_PERCENTAGE && isVertical) {\r\n                        CoordinateHelper.ConvertToPixels(draggedControl, [\"height\"]);\r\n                        this.props.globalState.hostWindow.alert(\"Warning: Parenting to vertical stack panel converts height to pixel values\");\r\n                    }\r\n                }\r\n                // Force containers to re-render if we added a new child\r\n                newParent.markAsDirty();\r\n            }\r\n        }\r\n        this.props.globalState.draggedControl = null;\r\n    }\r\n\r\n    private _canClone() {\r\n        return this.props.globalState.liveGuiTexture && this.props.globalState.guiTexture && this.trueRootContainer;\r\n    }\r\n\r\n    private _controlToLinkedMeshMap = new Map<Control, TransformNode>();\r\n    private _observersMap = {\r\n        onPointerDownObservable: new Map<string, Observable<Vector2WithInfo>>(),\r\n        onPointerUpObservable: new Map<string, Observable<Vector2WithInfo>>(),\r\n        onPointerMoveObservable: new Map<string, Observable<Vector2WithInfo>>(),\r\n        onPointerEnterObservable: new Map<string, Observable<Vector2WithInfo>>(),\r\n        onPointerOutObservable: new Map<string, Observable<Vector2WithInfo>>(),\r\n        onPointerClickObservable: new Map<string, Observable<Vector2WithInfo>>(),\r\n        onDisposeObservable: new Map<string, Observable<Control>>(),\r\n        onIsVisibleChangedObservable: new Map<string, Observable<boolean>>(),\r\n        onBeforeDrawObservable: new Map<string, Observable<Control>>(),\r\n        onAfterDrawObservable: new Map<string, Observable<Control>>(),\r\n        onWheelObservable: new Map<string, Observable<WheelEvent>>(),\r\n    };\r\n\r\n    private _saveObservables(root: Container) {\r\n        root.getDescendants().forEach((control) => {\r\n            if (control.linkedMesh) {\r\n                this._controlToLinkedMeshMap.set(control.metadata.editorUniqueId, control.linkedMesh);\r\n            }\r\n\r\n            Object.keys(this._observersMap).forEach((key) => {\r\n                const observable = (control as any)[key];\r\n                if (observable.hasObservers()) {\r\n                    (this._observersMap as any)[key].set(control.metadata.editorUniqueId, observable);\r\n                }\r\n            });\r\n        });\r\n    }\r\n\r\n    private _restoreObservables(root: Container) {\r\n        root.getDescendants().forEach((control) => {\r\n            if (this._controlToLinkedMeshMap.has(control.metadata?.editorUniqueId)) {\r\n                const linkedMesh = this._controlToLinkedMeshMap.get(control.metadata.editorUniqueId);\r\n                if (linkedMesh) {\r\n                    control.linkWithMesh(linkedMesh);\r\n                }\r\n            }\r\n\r\n            Object.keys(this._observersMap).forEach((key) => {\r\n                const savedObservable = (this._observersMap as any)[key].get(control.metadata?.editorUniqueId);\r\n                if (savedObservable) {\r\n                    (control as any)[key] = savedObservable;\r\n                }\r\n            });\r\n        });\r\n\r\n        this._controlToLinkedMeshMap.clear();\r\n        Object.keys(this._observersMap).forEach((key) => {\r\n            (this._observersMap as any)[key].clear();\r\n        });\r\n    }\r\n\r\n    private _copyEditorGUIToLiveGUI() {\r\n        if (this._canClone()) {\r\n            // Before cloning, save all of the live GUI controls that have a linked mesh\r\n            const liveRoot = this.props.globalState.liveGuiTexture!.rootContainer;\r\n            this._saveObservables(liveRoot);\r\n            liveRoot.clearControls();\r\n\r\n            const originalToCloneMap = new Map<Control, Control>();\r\n            const updatedRootChildren = this.trueRootContainer.children.slice(0);\r\n            for (const child of updatedRootChildren) {\r\n                const clone = child.clone(this.props.globalState.liveGuiTexture!);\r\n                originalToCloneMap.set(child, clone);\r\n                liveRoot.addControl(clone);\r\n            }\r\n\r\n            // Relink all meshes\r\n            this._restoreObservables(liveRoot);\r\n            this._syncConnectedLines(updatedRootChildren, originalToCloneMap);\r\n        }\r\n    }\r\n\r\n    private _reorderGrid(grid: Grid, draggedControl: Control, dropLocationControl: Control) {\r\n        const cellInfo = Tools.GetCellInfo(grid, draggedControl);\r\n        grid.removeControl(draggedControl);\r\n\r\n        let index = grid.children.indexOf(dropLocationControl);\r\n        index = this._adjustParentingIndex(index);\r\n\r\n        Tools.ReorderGrid(grid, index, draggedControl, cellInfo);\r\n    }\r\n\r\n    private _isNotChildInsert(control: Nullable<Control>, draggedControl: Nullable<Control>) {\r\n        while (control?.parent) {\r\n            if (control.parent == draggedControl) {\r\n                return false;\r\n            }\r\n            control = control.parent;\r\n        }\r\n        return true;\r\n    }\r\n\r\n    private _adjustParentingIndex(index: number, reversed: boolean = false) {\r\n        switch (this.props.globalState.draggedControlDirection) {\r\n            case DragOverLocation.ABOVE:\r\n                return reversed ? index : index + 1;\r\n            case DragOverLocation.BELOW:\r\n            case DragOverLocation.CENTER:\r\n                return reversed ? index + 1 : index;\r\n        }\r\n        return index;\r\n    }\r\n\r\n    public isSelected(value: boolean, guiNode: Control) {\r\n        this.props.globalState.select(guiNode);\r\n    }\r\n\r\n    public clicked: boolean;\r\n\r\n    public _onMove(guiControl: Control, evt: Vector2, startPos: Vector2) {\r\n        const toConvert: DimensionProperties[] = [];\r\n        if (guiControl._top.unit === ValueAndUnit.UNITMODE_PERCENTAGE) {\r\n            toConvert.push(\"top\");\r\n        }\r\n        if (guiControl._left.unit === ValueAndUnit.UNITMODE_PERCENTAGE) {\r\n            toConvert.push(\"left\");\r\n        }\r\n        let newX = evt.x - startPos.x;\r\n        let newY = evt.y - startPos.y;\r\n\r\n        if (this._setConstraintDirection) {\r\n            this._setConstraintDirection = false;\r\n            this._constraintDirection = Math.abs(newX) >= Math.abs(newY) ? ConstraintDirection.X : ConstraintDirection.Y;\r\n        }\r\n\r\n        if (this._constraintDirection === ConstraintDirection.X) {\r\n            newY = 0;\r\n        } else if (this._constraintDirection === ConstraintDirection.Y) {\r\n            newX = 0;\r\n        }\r\n        const referenceAxis = new Vector2(newX, newY);\r\n\r\n        if (guiControl.typeName === \"Line\") {\r\n            const line = guiControl as Line;\r\n            const x1 = (line.x1 as string).substring(0, (line.x1 as string).length - 2); //removing the 'px'\r\n            const x2 = (line.x2 as string).substring(0, (line.x2 as string).length - 2);\r\n            const y1 = (line.y1 as string).substring(0, (line.y1 as string).length - 2);\r\n            const y2 = (line.y2 as string).substring(0, (line.y2 as string).length - 2);\r\n            line.x1 = (Number(x1) + newX).toFixed(2);\r\n            line.x2 = (Number(x2) + newX).toFixed(2);\r\n            line.y1 = (Number(y1) + newY).toFixed(2);\r\n            line.y2 = (Number(y2) + newY).toFixed(2);\r\n            this.props.globalState.onPropertyGridUpdateRequiredObservable.notifyObservers();\r\n            return;\r\n        }\r\n\r\n        let totalRotation = 0;\r\n        let currentControl: Nullable<Control> = guiControl.parent;\r\n        while (currentControl) {\r\n            totalRotation += currentControl.rotation;\r\n\r\n            currentControl = currentControl.parent;\r\n        }\r\n        const rotatedReferenceAxis = new Vector2(0, 0);\r\n\r\n        // Rotate the reference axis by the total rotation of the control\r\n        const sinR = Math.sin(-totalRotation);\r\n        const cosR = Math.cos(-totalRotation);\r\n        rotatedReferenceAxis.x = cosR * referenceAxis.x - sinR * referenceAxis.y;\r\n        rotatedReferenceAxis.y = sinR * referenceAxis.x + cosR * referenceAxis.y;\r\n\r\n        // Apply the amount of change\r\n        guiControl.leftInPixels += rotatedReferenceAxis.x;\r\n        guiControl.topInPixels += rotatedReferenceAxis.y;\r\n\r\n        CoordinateHelper.ConvertToPercentage(guiControl, toConvert);\r\n        this.props.globalState.onPropertyGridUpdateRequiredObservable.notifyObservers();\r\n    }\r\n\r\n    onMove(evt: React.PointerEvent) {\r\n        const pos = this.getScaledPointerPosition();\r\n        // Move or guiNodes\r\n        if (this._mouseStartPoint != null && !this._panning) {\r\n            this.props.globalState.selectedControls.forEach((element) => {\r\n                if (pos) {\r\n                    this._onMove(element, pos, this._mouseStartPoint!);\r\n                }\r\n            });\r\n\r\n            this._mouseStartPoint = pos ? pos : this._mouseStartPoint;\r\n        }\r\n        this._pointerTravelDistance += evt.movementX * evt.movementX + evt.movementY * evt.movementY;\r\n        if (this._panning) {\r\n            this.panning();\r\n        }\r\n    }\r\n\r\n    private _screenToTexturePosition(screenPos: Vector2) {\r\n        const zoomVector = new Vector2(this._zoomFactor, this._zoomFactor);\r\n        return screenPos.divideInPlace(zoomVector).add(this._panningOffset);\r\n    }\r\n\r\n    private getScaledPointerPosition() {\r\n        return this._screenToTexturePosition(new Vector2(this._scene.pointerX, this._scene.pointerY));\r\n    }\r\n\r\n    startPanning() {\r\n        this._panning = true;\r\n        this._initialPanningOffset = this.getScaledPointerPosition();\r\n    }\r\n\r\n    endPanning() {\r\n        this._panning = false;\r\n    }\r\n\r\n    processSelection() {\r\n        // if hit nothing, deselect all\r\n        if (this.props.globalState.usePrevSelected) {\r\n            this.props.globalState.usePrevSelected = false;\r\n            return;\r\n        }\r\n        if (this._controlsHit.length === 0) {\r\n            this.props.globalState.setSelection([]);\r\n            return;\r\n        }\r\n\r\n        // if child of selected control -> select on double click\r\n        for (const control of this._controlsHit) {\r\n            if (this.props.globalState.selectedControls.includes(control.parent!)) {\r\n                if (this._doubleClick === control) {\r\n                    this.props.globalState.select(control);\r\n                    return;\r\n                } else {\r\n                    this._doubleClick = control;\r\n                    window.setTimeout(() => {\r\n                        this._doubleClick = null;\r\n                    }, 300);\r\n                }\r\n            }\r\n        }\r\n\r\n        // if control or sibling of control already selected -> select\r\n        for (const control of this._controlsHit) {\r\n            for (const selected of this.props.globalState.selectedControls) {\r\n                if (selected.parent === control.parent) {\r\n                    this.props.globalState.select(control);\r\n                    return;\r\n                }\r\n                break; // we don't need to check any more since it's guaranteed that all selected controls have same parent\r\n            }\r\n        }\r\n        // if control is child of root -> select\r\n        for (const control of this._controlsHit) {\r\n            if (control.parent === this._trueRootContainer) {\r\n                this.props.globalState.select(control);\r\n            }\r\n        }\r\n    }\r\n\r\n    onDown(evt: React.PointerEvent<HTMLElement>) {\r\n        this._pointerTravelDistance = 0;\r\n        this._rootContainer.current?.setPointerCapture(evt.pointerId);\r\n\r\n        if (this.props.globalState.tool === GUIEditorTool.SELECT) {\r\n            this._mouseStartPoint = this.getScaledPointerPosition();\r\n        }\r\n        if (this.props.globalState.tool === GUIEditorTool.ZOOM) {\r\n            this._centerZoomMousePosition.set(this._scene.pointerX, this._scene.pointerY);\r\n        }\r\n        if (evt.buttons & 4 || this.props.globalState.tool === GUIEditorTool.PAN) {\r\n            this.startPanning();\r\n        } else {\r\n            this.endPanning();\r\n            // process selection\r\n            if (this.props.globalState.selectedControls.length !== 0) {\r\n                this._processSelectionOnUp = true;\r\n            }\r\n            this._scene.onAfterRenderObservable.addOnce(() => {\r\n                // if we didn't hit any selected controls, immediately process new selection\r\n                if (!this._processSelectionOnUp || this._controlsHit.filter((control) => this.props.globalState.selectedControls.includes(control)).length === 0) {\r\n                    this.processSelection();\r\n                    this._controlsHit = [];\r\n                    this._processSelectionOnUp = false;\r\n                }\r\n            });\r\n        }\r\n    }\r\n\r\n    onUp(evt: React.PointerEvent) {\r\n        if (this.props.globalState.tool === GUIEditorTool.ZOOM && !this._hasPerformedDragZoom) {\r\n            this._panZoomToCenter(1000 * this._zoomModeIncrement, new Vector2(this._scene.pointerX, this._scene.pointerY));\r\n            this.zooming(1.0 + (this.props.globalState.keys.isKeyDown(\"alt\") ? -this._zoomModeIncrement : this._zoomModeIncrement));\r\n        }\r\n        this._hasPerformedDragZoom = false;\r\n        this._mouseStartPoint = null;\r\n        this._centerZoomMousePosition.set(0, 0);\r\n        this._constraintDirection = ConstraintDirection.NONE;\r\n        this._rootContainer.current?.releasePointerCapture(evt.pointerId);\r\n        this._panning = false;\r\n        if (this._processSelectionOnUp) {\r\n            if (Math.sqrt(this._pointerTravelDistance) <= MAX_POINTER_TRAVEL_DISTANCE) {\r\n                this.processSelection();\r\n            }\r\n            this._controlsHit = [];\r\n            this._processSelectionOnUp = false;\r\n        }\r\n    }\r\n\r\n    private _syncConnectedLines(controlList: Control[], originalToCloneMap: Map<Control, Control>) {\r\n        for (const control of controlList) {\r\n            if (control.getClassName() === \"Line\") {\r\n                const lineControl = control as Line;\r\n                if (lineControl.connectedControl) {\r\n                    const connectedControl = lineControl.connectedControl;\r\n                    const clonedLine = originalToCloneMap.get(lineControl) as Line;\r\n                    const clonedConnectedControl = originalToCloneMap.get(connectedControl);\r\n                    if (clonedLine && clonedConnectedControl) {\r\n                        clonedLine.connectedControl = clonedConnectedControl;\r\n                    }\r\n                }\r\n            }\r\n        }\r\n    }\r\n\r\n    private _copyLiveGUIToEditorGUI() {\r\n        if (this.props.globalState.liveGuiTexture && this.trueRootContainer) {\r\n            // Create special IDs that will allow us to know which cloned control corresponds to its original\r\n            this.props.globalState.liveGuiTexture.rootContainer.getDescendants().forEach((control) => {\r\n                control.metadata = { ...(control.metadata ?? {}), editorUniqueId: RandomGUID() };\r\n            });\r\n            this.trueRootContainer.clearControls();\r\n            const originalToCloneMap = new Map<Control, Control>();\r\n            for (const control of this.props.globalState.liveGuiTexture.rootContainer.children) {\r\n                const cloned = control.clone(this.props.globalState.guiTexture);\r\n                originalToCloneMap.set(control, cloned);\r\n                this.appendBlock(cloned);\r\n            }\r\n            // Synchronize existing connectedControls\r\n            this._syncConnectedLines(this.props.globalState.liveGuiTexture.rootContainer.children, originalToCloneMap);\r\n        }\r\n    }\r\n\r\n    public createGUICanvas(embed?: boolean) {\r\n        // Get the canvas element from the DOM.\r\n\r\n        const canvas = this._rootContainer.current as HTMLCanvasElement;\r\n        // Associate a Babylon Engine to it.\r\n        this._engine = new Engine(canvas);\r\n\r\n        // Create our first scene.\r\n        this._scene = new Scene(this._engine);\r\n\r\n        this._scene.clearColor = new Color4(0, 0, 0, 0);\r\n        const light = new HemisphericLight(\"light1\", Axis.Y, this._scene);\r\n        light.intensity = 0.9;\r\n\r\n        if (this.props.globalState.liveGuiTexture) {\r\n            this._guiSize.width = this.props.globalState.liveGuiTexture.getSize().width;\r\n            this._guiSize.height = this.props.globalState.liveGuiTexture.getSize().height;\r\n\r\n            canvas.width = this._guiSize.width;\r\n            canvas.height = this._guiSize.height;\r\n        } else {\r\n            this._guiSize.width = DataStorage.ReadNumber(\"GUIEditorWidth\", 1024);\r\n            this._guiSize.height = DataStorage.ReadNumber(\"GUIEditorHeight\", 1024);\r\n        }\r\n\r\n        this._panAndZoomContainer = new Container(\"panAndZoom\");\r\n        this._panAndZoomContainer.clipContent = false;\r\n        this._panAndZoomContainer.clipChildren = false;\r\n\r\n        this._visibleRegionContainer = new Container(\"visibleRegion\");\r\n        this._visibleRegionContainer.clipChildren = false;\r\n        this._visibleRegionContainer.clipContent = false;\r\n        this._visibleRegionContainer.widthInPixels = this.guiSize.width;\r\n        this._visibleRegionContainer.heightInPixels = this.guiSize.height;\r\n        this._panAndZoomContainer.addControl(this._visibleRegionContainer);\r\n\r\n        const adt =\r\n            (this.props.globalState.guiTexture =\r\n            this._visibleRegionContainer._host =\r\n            this._panAndZoomContainer._host =\r\n                AdvancedDynamicTexture.CreateFullscreenUI(\"guiTexture\", true, this._scene, Texture.NEAREST_NEAREST_MIPNEAREST, false));\r\n\r\n        adt.useInvalidateRectOptimization = false;\r\n        this.trueRootContainer = adt.rootContainer;\r\n        adt.onEndRenderObservable.add(() => this.props.globalState.onGizmoUpdateRequireObservable.notifyObservers());\r\n\r\n        this._copyLiveGUIToEditorGUI();\r\n\r\n        new ArcRotateCamera(\"Camera\", 0, 0, 0, Vector3.Zero(), this._scene);\r\n\r\n        // This attaches the mouse controls\r\n        this.addControls(this._scene);\r\n\r\n        this._scene.getEngine().onCanvasPointerOutObservable.clear();\r\n        this._scene.doNotHandleCursors = true;\r\n\r\n        // Watch for browser/canvas resize events\r\n        this.props.globalState.hostWindow.addEventListener(\"resize\", () => {\r\n            this.props.globalState.onWindowResizeObservable.notifyObservers();\r\n            this._scene.onBeforeRenderObservable.addOnce(() => {\r\n                this.props.globalState.onWindowResizeObservable.notifyObservers();\r\n            });\r\n        });\r\n        this.props.globalState.onWindowResizeObservable.notifyObservers();\r\n\r\n        this.props.globalState.guiTexture.onBeginRenderObservable.add(() => {\r\n            this.applyEditorTransformation();\r\n        });\r\n\r\n        this.props.globalState.onPropertyChangedObservable.add((ev) => {\r\n            (ev.object as Control).markAsDirty(false);\r\n            this.props.globalState.onWindowResizeObservable.notifyObservers();\r\n        });\r\n\r\n        const throttledSynchronization = throttle(() => {\r\n            this._copyEditorGUIToLiveGUI();\r\n        }, 33);\r\n\r\n        if (this.props.globalState.liveGuiTexture) {\r\n            this._guiRenderObserver = this.props.globalState.guiTexture.onEndRenderObservable.add(throttledSynchronization);\r\n        }\r\n\r\n        this._engine.runRenderLoop(() => {\r\n            this._scene.render();\r\n        });\r\n        this.props.globalState.onNewSceneObservable.notifyObservers(this.props.globalState.guiTexture.getScene());\r\n        this.props.globalState.onPropertyGridUpdateRequiredObservable.notifyObservers();\r\n        this.props.globalState.onFitControlsToWindowObservable.notifyObservers();\r\n    }\r\n\r\n    // removes all controls from both GUIs, and re-adds the controls from the original to the GUI editor\r\n    synchronizeLiveGUI() {\r\n        if (this.props.globalState.liveGuiTexture) {\r\n            this._trueRootContainer.getDescendants().forEach((desc) => desc.dispose());\r\n            this.props.globalState.liveGuiTexture.rootContainer.getDescendants(true).forEach((desc) => {\r\n                this.props.globalState.liveGuiTexture?.removeControl(desc);\r\n                this.appendBlock(desc);\r\n            });\r\n            this.props.globalState.guiTexture.snippetId = this.props.globalState.liveGuiTexture.snippetId;\r\n        }\r\n    }\r\n\r\n    //Add zoom and pan controls\r\n    addControls(scene: Scene) {\r\n        scene.onKeyboardObservable.add((k: KeyboardInfo) => {\r\n            switch (k.event.key) {\r\n                case \"ArrowUp\": // move up\r\n                    this.moveControls(false, k.event.shiftKey ? -ARROW_KEY_MOVEMENT_LARGE : -ARROW_KEY_MOVEMENT_SMALL);\r\n                    break;\r\n                case \"ArrowDown\": // move down\r\n                    this.moveControls(false, k.event.shiftKey ? ARROW_KEY_MOVEMENT_LARGE : ARROW_KEY_MOVEMENT_SMALL);\r\n                    break;\r\n                case \"ArrowLeft\": // move left\r\n                    this.moveControls(true, k.event.shiftKey ? -ARROW_KEY_MOVEMENT_LARGE : -ARROW_KEY_MOVEMENT_SMALL);\r\n                    break;\r\n                case \"ArrowRight\": // move right\r\n                    this.moveControls(true, k.event.shiftKey ? ARROW_KEY_MOVEMENT_LARGE : ARROW_KEY_MOVEMENT_SMALL);\r\n                    break;\r\n            }\r\n        }, KeyboardEventTypes.KEYDOWN);\r\n\r\n        scene.onBeforeRenderObservable.add(() => {\r\n            if (this._panAndZoomContainer.scaleX !== this._zoomFactor) {\r\n                this._panAndZoomContainer.scaleX = this._zoomFactor;\r\n                this._panAndZoomContainer.scaleY = this._zoomFactor;\r\n                this.props.globalState.onArtBoardUpdateRequiredObservable.notifyObservers();\r\n                this.props.globalState.onGizmoUpdateRequireObservable.notifyObservers();\r\n            }\r\n            const left = this._zoomFactor * this._panningOffset.x;\r\n            const top = this._zoomFactor * -this._panningOffset.y;\r\n            if (this._panAndZoomContainer.leftInPixels !== left || this._panAndZoomContainer.topInPixels !== top) {\r\n                this._panAndZoomContainer.leftInPixels = left;\r\n                this._panAndZoomContainer.topInPixels = top;\r\n                this.props.globalState.onArtBoardUpdateRequiredObservable.notifyObservers();\r\n                this.props.globalState.onGizmoUpdateRequireObservable.notifyObservers();\r\n            }\r\n        });\r\n    }\r\n\r\n    //Return offsets for inertial panning given initial and current pointer positions\r\n    panning() {\r\n        const panningDelta = this.getScaledPointerPosition().subtract(this._initialPanningOffset).multiplyByFloats(1, -1);\r\n        this._panningOffset = this._panningOffset.add(panningDelta);\r\n        this._initialPanningOffset = this.getScaledPointerPosition();\r\n        this.props.globalState.onWindowResizeObservable.notifyObservers();\r\n    }\r\n\r\n    // Move the selected controls. Can be either on horizontal (leftInPixels) or\r\n    // vertical (topInPixels) direction\r\n    moveControls(moveHorizontal: boolean, amount: number) {\r\n        for (const selectedControl of this.props.globalState.selectedControls) {\r\n            if (moveHorizontal) {\r\n                // move horizontal\r\n                const prevValue = selectedControl.leftInPixels;\r\n                selectedControl.leftInPixels += amount;\r\n                this.props.globalState.onPropertyChangedObservable.notifyObservers({\r\n                    object: selectedControl,\r\n                    property: \"leftInPixels\",\r\n                    value: selectedControl.leftInPixels,\r\n                    initialValue: prevValue,\r\n                });\r\n                this.props.globalState.onPropertyGridUpdateRequiredObservable.notifyObservers();\r\n            } else {\r\n                // move vertical\r\n                const prevValue = selectedControl.topInPixels;\r\n                selectedControl.topInPixels += amount;\r\n                this.props.globalState.onPropertyChangedObservable.notifyObservers({\r\n                    object: selectedControl,\r\n                    property: \"topInPixels\",\r\n                    value: selectedControl.topInPixels,\r\n                    initialValue: prevValue,\r\n                });\r\n                this.props.globalState.onPropertyGridUpdateRequiredObservable.notifyObservers();\r\n            }\r\n        }\r\n    }\r\n\r\n    //Get the wheel delta\r\n    zoomWheel(event: React.WheelEvent) {\r\n        let delta = 0;\r\n        if (event.deltaY) {\r\n            delta = -event.deltaY;\r\n        } else if (event.detail) {\r\n            delta = -event.detail;\r\n        }\r\n        const mouseCenter = new Vector2(this._scene.pointerX, this._scene.pointerY);\r\n        this._panZoomToCenter(delta, mouseCenter);\r\n        this.zooming(1 + delta / 1000);\r\n    }\r\n\r\n    private _panZoomToCenter(delta: number, mouseCenter: Vector2) {\r\n        const mouseToRtt = CoordinateHelper.MousePointerToRTTSpace(this.trueRootContainer, mouseCenter.x, mouseCenter.y);\r\n        const rttToLocal = CoordinateHelper.RttToLocalNodeSpace(this.trueRootContainer, mouseToRtt.x, mouseToRtt.y);\r\n\r\n        const centerToRtt = CoordinateHelper.MousePointerToRTTSpace(this.trueRootContainer, this._engine.getRenderWidth() / 2, this._engine.getRenderHeight() / 2);\r\n        const centerToLocal = CoordinateHelper.RttToLocalNodeSpace(this.trueRootContainer, centerToRtt.x, centerToRtt.y);\r\n        const panScale = -delta / 1000;\r\n\r\n        const deltaCenter = rttToLocal.subtract(centerToLocal).scale(panScale).multiplyByFloats(1, -1);\r\n\r\n        this._panningOffset.addInPlace(deltaCenter);\r\n    }\r\n\r\n    zoomDrag(event: React.MouseEvent) {\r\n        let delta = 0;\r\n        if (event.movementY !== 0) {\r\n            delta = -event.movementY;\r\n        }\r\n        this._hasPerformedDragZoom = true;\r\n        this._panZoomToCenter(delta, this._centerZoomMousePosition);\r\n        this.zooming(1 + delta / 1000);\r\n    }\r\n\r\n    //Zoom to pointer position. Zoom amount determined by delta\r\n    zooming(delta: number) {\r\n        this._zoomFactor *= delta;\r\n    }\r\n\r\n    //Sets x y or z of passed in vector to zero if less than Epsilon\r\n    zeroIfClose(vec: Vector3) {\r\n        if (Math.abs(vec.x) < Epsilon) {\r\n            vec.x = 0;\r\n        }\r\n        if (Math.abs(vec.y) < Epsilon) {\r\n            vec.y = 0;\r\n        }\r\n        if (Math.abs(vec.z) < Epsilon) {\r\n            vec.z = 0;\r\n        }\r\n    }\r\n\r\n    override render() {\r\n        let cursor = \"default\";\r\n        if (this.props.globalState.tool === GUIEditorTool.PAN) {\r\n            cursor = \"grab\";\r\n        } else if (this.props.globalState.tool === GUIEditorTool.ZOOM) {\r\n            cursor = this.props.globalState.keys.isKeyDown(\"alt\") ? \"zoom-out\" : \"zoom-in\";\r\n        }\r\n        return (\r\n            <canvas\r\n                id=\"workbench-canvas\"\r\n                onPointerMove={(evt) => {\r\n                    if (this._mouseDown && this.props.globalState.tool === GUIEditorTool.ZOOM) {\r\n                        this.zoomDrag(evt);\r\n                    }\r\n\r\n                    if (this.props.globalState.guiTexture) {\r\n                        this.onMove(evt);\r\n                    }\r\n\r\n                    this.props.globalState.onPointerMoveObservable.notifyObservers(evt);\r\n                }}\r\n                onPointerDown={(evt) => {\r\n                    this.onDown(evt);\r\n                    if (this._controlsHit.length === 0) {\r\n                        this._mouseDown = true;\r\n                    } else {\r\n                        this._mouseDown = false;\r\n                    }\r\n                }}\r\n                onPointerUp={(evt) => {\r\n                    this.onUp(evt);\r\n                    this.props.globalState.onPointerUpObservable.notifyObservers(evt);\r\n                    this._mouseDown = false;\r\n                }}\r\n                onWheel={(evt) => this.zoomWheel(evt)}\r\n                onContextMenu={(evt) => evt.preventDefault()}\r\n                ref={this._rootContainer}\r\n                style={{ cursor }}\r\n            ></canvas>\r\n        );\r\n    }\r\n}\r\n","import * as React from \"react\";\r\nimport type { Observable, Observer } from \"core/Misc/observable\";\r\nimport type { PropertyChangedEvent } from \"shared-ui-components/propertyChangedEvent\";\r\nimport { TextLineComponent } from \"shared-ui-components/lines/textLineComponent\";\r\nimport { Control } from \"gui/2D/controls/control\";\r\nimport { SliderLineComponent } from \"shared-ui-components/lines/sliderLineComponent\";\r\nimport { TextInputLineComponent } from \"shared-ui-components/lines/textInputLineComponent\";\r\nimport type { LockObject } from \"shared-ui-components/tabs/propertyGrids/lockObject\";\r\nimport { CommandButtonComponent } from \"../../../commandButtonComponent\";\r\nimport type { Image } from \"gui/2D/controls/image\";\r\nimport type { TextBlock } from \"gui/2D/controls/textBlock\";\r\nimport { Container } from \"gui/2D/controls/container\";\r\nimport { CheckBoxLineComponent } from \"shared-ui-components/lines/checkBoxLineComponent\";\r\nimport { ValueAndUnit } from \"gui/2D/valueAndUnit\";\r\nimport { ColorLine } from \"shared-ui-components/lines/colorLineComponent\";\r\nimport { makeTargetsProxy, conflictingValuesPlaceholder } from \"shared-ui-components/lines/targetsProxy\";\r\nimport type { DimensionProperties } from \"../../../../diagram/coordinateHelper\";\r\nimport { CoordinateHelper } from \"../../../../diagram/coordinateHelper\";\r\nimport { Vector2 } from \"core/Maths/math\";\r\n\r\nimport type { Nullable } from \"core/types\";\r\nimport { IconComponent } from \"shared-ui-components/lines/iconComponent\";\r\nimport { OptionsLineComponent } from \"shared-ui-components/components/lines/OptionsLineComponent\";\r\n\r\nimport sizeIcon from \"shared-ui-components/imgs/sizeIcon.svg\";\r\nimport verticalMarginIcon from \"shared-ui-components/imgs/verticalMarginIcon.svg\";\r\nimport positionIcon from \"shared-ui-components/imgs/positionIcon.svg\";\r\nimport fontFamilyIcon from \"shared-ui-components/imgs/fontFamilyIcon.svg\";\r\nimport alphaIcon from \"shared-ui-components/imgs/alphaIcon.svg\";\r\nimport fontSizeIcon from \"shared-ui-components/imgs/fontSizeIcon.svg\";\r\nimport fontStyleIcon from \"shared-ui-components/imgs/fontStyleIcon.svg\";\r\nimport fontWeightIcon from \"shared-ui-components/imgs/fontWeightIcon.svg\";\r\nimport rotationIcon from \"shared-ui-components/imgs/rotationIcon.svg\";\r\nimport pivotIcon from \"shared-ui-components/imgs/pivotIcon.svg\";\r\nimport scaleIcon from \"shared-ui-components/imgs/scaleIcon.svg\";\r\nimport shadowBlurIcon from \"shared-ui-components/imgs/shadowBlurIcon.svg\";\r\nimport horizontalMarginIcon from \"shared-ui-components/imgs/horizontalMarginIcon.svg\";\r\nimport shadowColorIcon from \"shared-ui-components/imgs/shadowColorIcon.svg\";\r\nimport shadowOffsetXIcon from \"shared-ui-components/imgs/shadowOffsetXIcon.svg\";\r\nimport colorIcon from \"shared-ui-components/imgs/colorIcon.svg\";\r\nimport fillColorIcon from \"shared-ui-components/imgs/fillColorIcon.svg\";\r\nimport linkedMeshOffsetIcon from \"shared-ui-components/imgs/linkedMeshOffsetIcon.svg\";\r\nimport visibleIcon from \"../../../../imgs/visibilityActiveIcon.svg\";\r\nimport addIcon from \"shared-ui-components/imgs/addGridElementDark.svg\";\r\nimport removeIcon from \"shared-ui-components/imgs/deleteGridElementDark.svg\";\r\nimport adtIcon from \"../../../../imgs/adtIcon.svg\";\r\n\r\nimport hAlignCenterIcon from \"shared-ui-components/imgs/hAlignCenterIcon.svg\";\r\nimport hAlignLeftIcon from \"shared-ui-components/imgs/hAlignLeftIcon.svg\";\r\nimport hAlignRightIcon from \"shared-ui-components/imgs/hAlignRightIcon.svg\";\r\nimport vAlignCenterIcon from \"shared-ui-components/imgs/vAlignCenterIcon.svg\";\r\nimport vAlignTopIcon from \"shared-ui-components/imgs/vAlignTopIcon.svg\";\r\nimport vAlignBottomIcon from \"shared-ui-components/imgs/vAlignBottomIcon.svg\";\r\nimport descendantsOnlyPaddingIcon from \"shared-ui-components/imgs/descendantsOnlyPaddingIcon.svg\";\r\nimport type { StackPanel } from \"gui/2D/controls/stackPanel\";\r\nimport { FloatLineComponent } from \"shared-ui-components/lines/floatLineComponent\";\r\nimport { UnitButton } from \"shared-ui-components/lines/unitButton\";\r\nimport type { IInspectableOptions } from \"core/Misc/iInspectable\";\r\n\r\nimport { WorkbenchComponent } from \"../../../../diagram/workbench\";\r\nimport type { GlobalState } from \"../../../../globalState\";\r\nimport { GUIEditor } from \"../../../../guiEditor\";\r\n\r\ninterface ICommonControlPropertyGridComponentProps {\r\n    controls: Control[];\r\n    lockObject: LockObject;\r\n    onPropertyChangedObservable?: Observable<PropertyChangedEvent>;\r\n    hideDimensions?: boolean;\r\n    onFontsParsedObservable?: Observable<void>;\r\n    globalState?: GlobalState;\r\n}\r\ninterface ICommonControlPropertyGridComponentState {\r\n    fontFamilyOptions: IInspectableOptions[];\r\n}\r\n\r\ntype ControlProperty = keyof Control | \"_paddingLeft\" | \"_paddingRight\" | \"_paddingTop\" | \"_paddingBottom\" | \"_fontSize\" | \"_linkOffsetX\" | \"_linkOffsetY\";\r\n\r\nexport class CommonControlPropertyGridComponent extends React.Component<ICommonControlPropertyGridComponentProps, ICommonControlPropertyGridComponentState> {\r\n    private _onPropertyChangedObserver: Nullable<Observer<PropertyChangedEvent>> | undefined;\r\n    private _onFontsParsedObserver: Nullable<Observer<void>> | undefined;\r\n    private _onControlVisibilityChangedObservers: Array<Nullable<Observer<boolean>>> = [];\r\n\r\n    constructor(props: ICommonControlPropertyGridComponentProps) {\r\n        super(props);\r\n        this.state = {\r\n            fontFamilyOptions: JSON.parse(String(window.sessionStorage.getItem(\"fonts\"))) ?? [\r\n                { label: \"Arial\", value: 1 },\r\n                { label: \"Verdana\", value: 2 },\r\n                { label: \"Helvetica\", value: 3 },\r\n                { label: \"Trebuchet MS\", value: 4 },\r\n                { label: \"Times New Roman\", value: 5 },\r\n                { label: \"Georgia\", value: 6 },\r\n                { label: \"Garamond\", value: 7 },\r\n                { label: \"Courier New\", value: 8 },\r\n                { label: \"Brush Script MT\", value: 9 },\r\n            ],\r\n        };\r\n\r\n        const controls = this.props.controls;\r\n        for (const control of controls) {\r\n            const transformed = this._getTransformedReferenceCoordinate(control);\r\n            if (!control.metadata) {\r\n                control.metadata = {};\r\n            }\r\n            control.metadata._previousCenter = transformed;\r\n            const visibilityObserver = control.onIsVisibleChangedObservable.add(() => {\r\n                this.forceUpdate();\r\n            });\r\n            this._onControlVisibilityChangedObservers.push(visibilityObserver);\r\n        }\r\n        this._onFontsParsedObserver = this.props.onFontsParsedObservable?.add(() => {\r\n            this._checkFontsInLayout();\r\n        });\r\n        this._onPropertyChangedObserver = this.props.onPropertyChangedObservable?.add((event) => {\r\n            const isTransformEvent = event.property === \"transformCenterX\" || event.property === \"transformCenterY\";\r\n            for (const control of controls) {\r\n                let transformed = this._getTransformedReferenceCoordinate(control);\r\n                if (isTransformEvent && control.metadata._previousCenter) {\r\n                    // Calculate the difference between current center and previous center\r\n                    const diff = transformed.subtract(control.metadata._previousCenter);\r\n                    control.leftInPixels -= diff.x;\r\n                    control.topInPixels -= diff.y;\r\n\r\n                    // Update center in reference to left and top positions\r\n                    transformed = this._getTransformedReferenceCoordinate(control);\r\n                }\r\n\r\n                control.metadata._previousCenter = transformed;\r\n\r\n                if (control.getClassName() === \"TextBlock\" && (event.property === \"width\" || event.property === \"height\")) {\r\n                    (control as TextBlock).resizeToFit = false;\r\n                }\r\n            }\r\n        });\r\n    }\r\n\r\n    override componentDidMount() {\r\n        this._checkFontsInLayout();\r\n    }\r\n\r\n    private _checkFontsInLayout() {\r\n        const correctFonts: IInspectableOptions[] = [];\r\n        for (const font of this.state.fontFamilyOptions.values()) {\r\n            if (document.fonts.check(`12px \"${font.label}\"`) && font.label != \"Custom Font\") {\r\n                correctFonts.push(font);\r\n            }\r\n        }\r\n\r\n        const moreFonts = WorkbenchComponent.addedFonts;\r\n        for (let i = 0; i < moreFonts.length; i++) {\r\n            const fontName = moreFonts[i].trim();\r\n            correctFonts.push({ label: fontName, value: fontName });\r\n        }\r\n        this.setState({\r\n            fontFamilyOptions: correctFonts,\r\n        });\r\n        window.sessionStorage.setItem(\"fonts\", JSON.stringify(correctFonts));\r\n    }\r\n\r\n    private _addFont(fontValue: string) {\r\n        const fontName = fontValue.trim();\r\n        if (fontName.length > 0) {\r\n            if (!this.state.fontFamilyOptions.find(({ value }) => value === fontValue)) {\r\n                this.setState((state) => {\r\n                    state.fontFamilyOptions.push({ label: fontName, value: fontName });\r\n                    return state;\r\n                }, this._checkFontsInLayout);\r\n            }\r\n        }\r\n    }\r\n\r\n    private _getTransformedReferenceCoordinate(control: Control) {\r\n        const nodeMatrix = CoordinateHelper.GetNodeMatrix(control);\r\n        const transformed = new Vector2(1, 1);\r\n        nodeMatrix.transformCoordinates(1, 1, transformed);\r\n        return transformed;\r\n    }\r\n\r\n    private _updateAlignment(alignment: string, value: number) {\r\n        for (const control of this.props.controls) {\r\n            if (control.typeName === \"TextBlock\" && (control as TextBlock).resizeToFit === false) {\r\n                (control as any)[\"text\" + alignment.charAt(0).toUpperCase() + alignment.slice(1)] = value;\r\n            } else {\r\n                (control as any)[alignment] = value;\r\n            }\r\n        }\r\n        this.forceUpdate();\r\n    }\r\n\r\n    private _checkAndUpdateValues(propertyName: string, value: string) {\r\n        for (const control of this.props.controls) {\r\n            // checking the previous value unit to see what it was.\r\n            const vau = (control as any)[\"_\" + propertyName];\r\n            let percentage = (vau as ValueAndUnit).isPercentage;\r\n\r\n            // now checking if the new string contains either a px or a % sign in case we need to change the unit.\r\n            const negative = value.charAt(0) === \"-\";\r\n            if (value.charAt(value.length - 1) === \"%\") {\r\n                percentage = true;\r\n            } else if (value.charAt(value.length - 1) === \"x\" && value.charAt(value.length - 2) === \"p\") {\r\n                percentage = false;\r\n            }\r\n\r\n            if (control.parent?.typeName === \"StackPanel\") {\r\n                percentage = false;\r\n            }\r\n\r\n            let newValue = value.match(/([\\d.,]+)/g)?.[0];\r\n            if (!newValue) {\r\n                newValue = \"0\";\r\n            }\r\n            newValue = (negative ? \"-\" : \"\") + newValue;\r\n            newValue += percentage ? \"%\" : \"px\";\r\n\r\n            const initialValue = (control as any)[propertyName];\r\n            (control as any)[propertyName] = newValue;\r\n            this.props.onPropertyChangedObservable?.notifyObservers({\r\n                object: control,\r\n                property: propertyName,\r\n                initialValue: initialValue,\r\n                value: (control as any)[propertyName],\r\n            });\r\n        }\r\n    }\r\n\r\n    private _addOrUpdateMetadata(options: { [key: string]: any }) {\r\n        for (const control of this.props.controls) {\r\n            const initialValue = control.metadata;\r\n            // Convert strings to their proper types\r\n            for (const key in options) {\r\n                const v = options[key];\r\n                if (!isNaN(v) && !isNaN(parseFloat(v))) {\r\n                    options[key] = parseFloat(v);\r\n                } else if (v.trim() === \"true\") {\r\n                    options[key] = true;\r\n                } else if (v.trim() === \"false\") {\r\n                    options[key] = false;\r\n                }\r\n            }\r\n            const newValue = Object.assign({}, control.metadata, options);\r\n            control.metadata = newValue;\r\n            this.props.onPropertyChangedObservable?.notifyObservers({\r\n                object: control,\r\n                property: \"metadata\",\r\n                initialValue: initialValue,\r\n                value: newValue,\r\n            });\r\n        }\r\n    }\r\n\r\n    private _removeFromMetadata(key: string) {\r\n        for (const control of this.props.controls) {\r\n            const initialValue = Object.assign({}, control.metadata);\r\n            delete control.metadata[key];\r\n            this.props.onPropertyChangedObservable?.notifyObservers({\r\n                object: control,\r\n                property: \"metadata\",\r\n                initialValue: initialValue,\r\n                value: control.metadata,\r\n            });\r\n        }\r\n    }\r\n\r\n    private _getCommonPropertyKeys(objects: {}[]) {\r\n        objects = objects.filter((x) => !!x);\r\n        if (objects.length === 0) {\r\n            return [];\r\n        }\r\n        if (objects.length === 1) {\r\n            return Object.keys(objects[0]);\r\n        }\r\n        const [firstObject, ...restObjects] = objects;\r\n        return Object.keys(firstObject).filter((property) => {\r\n            return restObjects.every((obj) => property in obj);\r\n        });\r\n    }\r\n\r\n    private _markChildrenAsDirty() {\r\n        for (const control of this.props.controls) {\r\n            if (control instanceof Container) {\r\n                for (const child of (control as Container)._children) {\r\n                    child._markAsDirty();\r\n                }\r\n            }\r\n        }\r\n    }\r\n\r\n    override componentWillUnmount() {\r\n        if (this._onPropertyChangedObserver) {\r\n            this.props.onPropertyChangedObservable?.remove(this._onPropertyChangedObserver);\r\n        }\r\n        if (this._onFontsParsedObserver) {\r\n            this.props.onFontsParsedObservable?.remove(this._onFontsParsedObserver);\r\n        }\r\n        for (let i = 0; i < this._onControlVisibilityChangedObservers.length; i++) {\r\n            this.props.controls[i].onIsVisibleChangedObservable.remove(this._onControlVisibilityChangedObservers[i]);\r\n        }\r\n    }\r\n\r\n    _filterFontDuplicates(array: { label: string; value: string; id: string }[]) {\r\n        const seen = new Set();\r\n        return array.filter((item) => {\r\n            const val = item.value;\r\n            const duplicate = seen.has(val);\r\n            seen.add(val);\r\n            return !duplicate;\r\n        });\r\n    }\r\n\r\n    override render() {\r\n        const controls = this.props.controls;\r\n        const firstControl = controls[0];\r\n        let horizontalAlignment = firstControl.horizontalAlignment;\r\n        let verticalAlignment = firstControl.verticalAlignment;\r\n        for (const control of controls) {\r\n            if (control.horizontalAlignment !== horizontalAlignment) {\r\n                horizontalAlignment = Control.HORIZONTAL_ALIGNMENT_CENTER;\r\n            }\r\n            if (control.verticalAlignment !== verticalAlignment) {\r\n                verticalAlignment = Control.VERTICAL_ALIGNMENT_CENTER;\r\n            }\r\n        }\r\n        if (controls.every((control) => control.typeName === \"TextBlock\" && (control as TextBlock).resizeToFit === false)) {\r\n            horizontalAlignment = (firstControl as TextBlock).textHorizontalAlignment;\r\n            verticalAlignment = (firstControl as TextBlock).textVerticalAlignment;\r\n        }\r\n\r\n        const showTextProperties =\r\n            firstControl instanceof Container || firstControl.typeName === \"TextBlock\" || firstControl.typeName === \"InputText\" || firstControl.typeName === \"InputPassword\";\r\n\r\n        const proxy = makeTargetsProxy(controls, this.props.onPropertyChangedObservable);\r\n        const getValue = (propertyName: ControlProperty) => {\r\n            const values = controls.map((control) => control[propertyName]._value);\r\n            const firstValue = values[0];\r\n            if (values.every((value: any) => value === firstValue)) {\r\n                const units = getUnitString(propertyName);\r\n                if (units === \"%\") {\r\n                    return (firstValue * 100).toFixed(2);\r\n                } else if (units === \"PX\") {\r\n                    return firstValue.toFixed(2);\r\n                } else {\r\n                    return conflictingValuesPlaceholder;\r\n                }\r\n            } else {\r\n                return conflictingValuesPlaceholder;\r\n            }\r\n        };\r\n        const getUnitString = (propertyName: ControlProperty) => {\r\n            const units = controls.map((control) => control[propertyName]._unit);\r\n            const firstUnit = units[0];\r\n            if (units.every((unit: any) => unit === firstUnit)) {\r\n                if (firstUnit === ValueAndUnit.UNITMODE_PIXEL) {\r\n                    return \"PX\";\r\n                } else {\r\n                    return \"%\";\r\n                }\r\n            } else {\r\n                return conflictingValuesPlaceholder;\r\n            }\r\n        };\r\n        const increment = (propertyName: DimensionProperties, amount: number, minimum?: number, maximum?: number) => {\r\n            for (const control of controls) {\r\n                const initialValue = control[propertyName];\r\n                const initialUnit = (control as any)[\"_\" + propertyName]._unit;\r\n                let newValue: number = (control as any)[`${propertyName}InPixels`] + amount;\r\n                if (minimum !== undefined && newValue < minimum) {\r\n                    newValue = minimum;\r\n                }\r\n                if (maximum !== undefined && newValue > maximum) {\r\n                    newValue = maximum;\r\n                }\r\n                (control as any)[`${propertyName}InPixels`] = newValue;\r\n                if (initialUnit === ValueAndUnit.UNITMODE_PERCENTAGE) {\r\n                    CoordinateHelper.ConvertToPercentage(control, [propertyName]);\r\n                }\r\n                this.props.onPropertyChangedObservable?.notifyObservers({\r\n                    object: control,\r\n                    property: propertyName,\r\n                    initialValue: initialValue,\r\n                    value: control[propertyName],\r\n                });\r\n            }\r\n        };\r\n        const convertUnits = (unit: string, property: DimensionProperties) => {\r\n            for (const control of controls) {\r\n                if (unit === \"PX\") {\r\n                    CoordinateHelper.ConvertToPercentage(control, [property], this.props.onPropertyChangedObservable);\r\n                } else {\r\n                    CoordinateHelper.ConvertToPixels(control, [property], this.props.onPropertyChangedObservable);\r\n                }\r\n            }\r\n        };\r\n\r\n        const fontStyleOptions = [\r\n            { label: \"normal\", value: \"normal\", id: \"0\" },\r\n            { label: \"italic\", value: \"italic\", id: \"1\" },\r\n            { label: \"oblique\", value: \"oblique\", id: \"2\" },\r\n        ];\r\n\r\n        let horizontalDisabled = false,\r\n            verticalDisabled = false,\r\n            widthUnitsLocked = false,\r\n            heightUnitsLocked = false;\r\n\r\n        const parent = controls[0].parent;\r\n\r\n        const fonts = this._filterFontDuplicates(\r\n            this.state.fontFamilyOptions.filter(({ label }) => label !== \"Custom Font\").map(({ label, value }) => ({ label, value: label, id: value.toString() }))\r\n        );\r\n\r\n        if (parent?.getClassName() === \"StackPanel\" || parent?.getClassName() === \"VirtualKeyboard\") {\r\n            if ((parent as StackPanel).isVertical) {\r\n                verticalDisabled = true;\r\n                heightUnitsLocked = true;\r\n            } else {\r\n                horizontalDisabled = true;\r\n                widthUnitsLocked = true;\r\n            }\r\n        }\r\n        return (\r\n            <div>\r\n                {!this.props.hideDimensions && (\r\n                    <>\r\n                        <div className=\"ge-divider alignment-bar\">\r\n                            <CommandButtonComponent\r\n                                tooltip=\"Left\"\r\n                                icon={hAlignLeftIcon}\r\n                                shortcut=\"\"\r\n                                isActive={horizontalAlignment === Control.HORIZONTAL_ALIGNMENT_LEFT}\r\n                                onClick={() => {\r\n                                    this._updateAlignment(\"horizontalAlignment\", Control.HORIZONTAL_ALIGNMENT_LEFT);\r\n                                }}\r\n                                disabled={horizontalDisabled}\r\n                            />\r\n                            <CommandButtonComponent\r\n                                tooltip=\"Center\"\r\n                                icon={hAlignCenterIcon}\r\n                                shortcut=\"\"\r\n                                isActive={horizontalAlignment === Control.HORIZONTAL_ALIGNMENT_CENTER}\r\n                                onClick={() => {\r\n                                    this._updateAlignment(\"horizontalAlignment\", Control.HORIZONTAL_ALIGNMENT_CENTER);\r\n                                }}\r\n                                disabled={horizontalDisabled}\r\n                            />\r\n                            <CommandButtonComponent\r\n                                tooltip=\"Right\"\r\n                                icon={hAlignRightIcon}\r\n                                shortcut=\"\"\r\n                                isActive={horizontalAlignment === Control.HORIZONTAL_ALIGNMENT_RIGHT}\r\n                                onClick={() => {\r\n                                    this._updateAlignment(\"horizontalAlignment\", Control.HORIZONTAL_ALIGNMENT_RIGHT);\r\n                                }}\r\n                                disabled={horizontalDisabled}\r\n                            />\r\n                            <CommandButtonComponent\r\n                                tooltip=\"Top\"\r\n                                icon={vAlignTopIcon}\r\n                                shortcut=\"\"\r\n                                isActive={verticalAlignment === Control.VERTICAL_ALIGNMENT_TOP}\r\n                                onClick={() => {\r\n                                    this._updateAlignment(\"verticalAlignment\", Control.VERTICAL_ALIGNMENT_TOP);\r\n                                }}\r\n                                disabled={verticalDisabled}\r\n                            />\r\n                            <CommandButtonComponent\r\n                                tooltip=\"Center\"\r\n                                icon={vAlignCenterIcon}\r\n                                shortcut=\"\"\r\n                                isActive={verticalAlignment === Control.VERTICAL_ALIGNMENT_CENTER}\r\n                                onClick={() => {\r\n                                    this._updateAlignment(\"verticalAlignment\", Control.VERTICAL_ALIGNMENT_CENTER);\r\n                                }}\r\n                                disabled={verticalDisabled}\r\n                            />\r\n                            <CommandButtonComponent\r\n                                tooltip=\"Bottom\"\r\n                                icon={vAlignBottomIcon}\r\n                                shortcut=\"\"\r\n                                isActive={verticalAlignment === Control.VERTICAL_ALIGNMENT_BOTTOM}\r\n                                onClick={() => {\r\n                                    this._updateAlignment(\"verticalAlignment\", Control.VERTICAL_ALIGNMENT_BOTTOM);\r\n                                }}\r\n                                disabled={verticalDisabled}\r\n                            />\r\n                        </div>\r\n                        <div className=\"ge-divider double\">\r\n                            <IconComponent icon={positionIcon} label={\"Position\"} />\r\n                            <TextInputLineComponent\r\n                                numbersOnly={true}\r\n                                lockObject={this.props.lockObject}\r\n                                label=\"X\"\r\n                                delayInput={true}\r\n                                value={getValue(\"_left\")}\r\n                                onChange={(newValue) => this._checkAndUpdateValues(\"left\", newValue)}\r\n                                unit={<UnitButton unit={getUnitString(\"_left\")} onClick={(unit) => convertUnits(unit, \"left\")} />}\r\n                                arrows={true}\r\n                                arrowsIncrement={(amount) => increment(\"left\", amount)}\r\n                            />\r\n                            <TextInputLineComponent\r\n                                numbersOnly={true}\r\n                                lockObject={this.props.lockObject}\r\n                                label=\"Y\"\r\n                                delayInput={true}\r\n                                value={getValue(\"_top\")}\r\n                                onChange={(newValue) => this._checkAndUpdateValues(\"top\", newValue)}\r\n                                unit={<UnitButton unit={getUnitString(\"_top\")} onClick={(unit) => convertUnits(unit, \"top\")} />}\r\n                                arrows={true}\r\n                                arrowsIncrement={(amount) => increment(\"top\", amount)}\r\n                            />\r\n                        </div>\r\n                        <div className=\"ge-divider double\">\r\n                            <IconComponent icon={sizeIcon} label={\"Size\"} />\r\n                            <TextInputLineComponent\r\n                                numbersOnly={true}\r\n                                lockObject={this.props.lockObject}\r\n                                label=\"W\"\r\n                                delayInput={true}\r\n                                value={getValue(\"_width\")}\r\n                                onChange={(newValue) => {\r\n                                    for (const control of controls) {\r\n                                        if (control.typeName === \"Image\") {\r\n                                            (control as Image).autoScale = false;\r\n                                        } else if (control instanceof Container) {\r\n                                            control.adaptWidthToChildren = false;\r\n                                        } else if (control.typeName === \"ColorPicker\") {\r\n                                            if (newValue === \"0\" || newValue === \"-\") {\r\n                                                newValue = \"1\";\r\n                                            }\r\n                                        }\r\n                                    }\r\n                                    this._checkAndUpdateValues(\"width\", newValue);\r\n                                }}\r\n                                unit={<UnitButton unit={getUnitString(\"_width\")} locked={widthUnitsLocked} onClick={(unit) => convertUnits(unit, \"width\")} />}\r\n                                arrows={true}\r\n                                arrowsIncrement={(amount) => increment(\"width\", amount)}\r\n                            />\r\n                            <TextInputLineComponent\r\n                                numbersOnly={true}\r\n                                lockObject={this.props.lockObject}\r\n                                label=\"H\"\r\n                                delayInput={true}\r\n                                value={getValue(\"_height\")}\r\n                                onChange={(newValue) => {\r\n                                    for (const control of controls) {\r\n                                        if (control.typeName === \"Image\") {\r\n                                            (control as Image).autoScale = false;\r\n                                        } else if (control instanceof Container) {\r\n                                            control.adaptHeightToChildren = false;\r\n                                        } else if (control.typeName === \"ColorPicker\") {\r\n                                            if (newValue === \"0\" || newValue === \"-\") {\r\n                                                newValue = \"1\";\r\n                                            }\r\n                                        }\r\n                                    }\r\n                                    this._checkAndUpdateValues(\"height\", newValue);\r\n                                }}\r\n                                unit={<UnitButton unit={getUnitString(\"_height\")} locked={heightUnitsLocked} onClick={(unit) => convertUnits(unit, \"height\")} />}\r\n                                arrows={true}\r\n                                arrowsIncrement={(amount) => increment(\"height\", amount)}\r\n                            />\r\n                        </div>\r\n                        <div className=\"ge-divider double\">\r\n                            <IconComponent icon={verticalMarginIcon} label={\"Vertical Padding\"} />\r\n                            <TextInputLineComponent\r\n                                numbersOnly={true}\r\n                                lockObject={this.props.lockObject}\r\n                                label=\"T\"\r\n                                delayInput={true}\r\n                                value={getValue(\"_paddingTop\")}\r\n                                onChange={(newValue) => {\r\n                                    this._checkAndUpdateValues(\"paddingTop\", newValue);\r\n                                    this._markChildrenAsDirty();\r\n                                }}\r\n                                unit={<UnitButton unit={getUnitString(\"_paddingTop\")} onClick={(unit) => convertUnits(unit, \"paddingTop\")} />}\r\n                                arrows={true}\r\n                                arrowsIncrement={(amount) => increment(\"paddingTop\", amount, 0)}\r\n                            />\r\n                            <TextInputLineComponent\r\n                                numbersOnly={true}\r\n                                lockObject={this.props.lockObject}\r\n                                label=\"B\"\r\n                                delayInput={true}\r\n                                value={getValue(\"_paddingBottom\")}\r\n                                onChange={(newValue) => {\r\n                                    this._checkAndUpdateValues(\"paddingBottom\", newValue);\r\n                                    this._markChildrenAsDirty();\r\n                                }}\r\n                                unit={<UnitButton unit={getUnitString(\"_paddingBottom\")} onClick={(unit) => convertUnits(unit, \"paddingBottom\")} />}\r\n                                arrows={true}\r\n                                arrowsIncrement={(amount) => increment(\"paddingBottom\", amount, 0)}\r\n                            />\r\n                        </div>\r\n                        <div className=\"ge-divider double\">\r\n                            <IconComponent icon={horizontalMarginIcon} label={\"Horizontal Padding\"} />\r\n                            <TextInputLineComponent\r\n                                numbersOnly={true}\r\n                                lockObject={this.props.lockObject}\r\n                                label=\"L\"\r\n                                delayInput={true}\r\n                                value={getValue(\"_paddingLeft\")}\r\n                                onChange={(newValue) => {\r\n                                    this._checkAndUpdateValues(\"paddingLeft\", newValue);\r\n                                    this._markChildrenAsDirty();\r\n                                }}\r\n                                unit={<UnitButton unit={getUnitString(\"_paddingLeft\")} onClick={(unit) => convertUnits(unit, \"paddingLeft\")} />}\r\n                                arrows={true}\r\n                                arrowsIncrement={(amount) => increment(\"paddingLeft\", amount)}\r\n                            />\r\n                            <TextInputLineComponent\r\n                                numbersOnly={true}\r\n                                lockObject={this.props.lockObject}\r\n                                label=\"R\"\r\n                                delayInput={true}\r\n                                value={getValue(\"_paddingRight\")}\r\n                                onChange={(newValue) => {\r\n                                    this._checkAndUpdateValues(\"paddingRight\", newValue);\r\n                                    this._markChildrenAsDirty();\r\n                                }}\r\n                                onPropertyChangedObservable={this.props.onPropertyChangedObservable}\r\n                                unit={<UnitButton unit={getUnitString(\"_paddingRight\")} onClick={(unit) => convertUnits(unit, \"paddingRight\")} />}\r\n                                arrows={true}\r\n                                arrowsIncrement={(amount) => increment(\"paddingRight\", amount)}\r\n                            />\r\n                        </div>\r\n                        <div className=\"ge-divider\">\r\n                            <IconComponent icon={descendantsOnlyPaddingIcon} label={\"Makes padding affect only the descendants of this control\"} />\r\n                            <CheckBoxLineComponent label=\"ONLY PAD DESCENDANTS\" target={proxy} propertyName=\"descendentsOnlyPadding\" />\r\n                        </div>\r\n                        <hr className=\"ge\" />\r\n                    </>\r\n                )}\r\n                {parent?.name === \"root\" && (\r\n                    <>\r\n                        <TextLineComponent label=\"LINK OFFSET\" value=\" \" color=\"grey\"></TextLineComponent>\r\n                        <div className=\"ge-divider double\">\r\n                            <IconComponent icon={linkedMeshOffsetIcon} label={\"Link offset\"} />\r\n                            <TextInputLineComponent\r\n                                numbersOnly={true}\r\n                                lockObject={this.props.lockObject}\r\n                                label=\"X\"\r\n                                delayInput={true}\r\n                                value={getValue(\"_linkOffsetX\")}\r\n                                onChange={(newValue) => this._checkAndUpdateValues(\"linkOffsetX\", newValue)}\r\n                                unit={<UnitButton unit={getUnitString(\"_linkOffsetX\")} onClick={(unit) => convertUnits(unit, \"linkOffsetX\")} />}\r\n                                arrows={true}\r\n                                arrowsIncrement={(amount) => increment(\"linkOffsetX\", amount)}\r\n                            />\r\n                            <TextInputLineComponent\r\n                                numbersOnly={true}\r\n                                lockObject={this.props.lockObject}\r\n                                label=\"Y\"\r\n                                delayInput={true}\r\n                                value={getValue(\"_linkOffsetY\")}\r\n                                onChange={(newValue) => this._checkAndUpdateValues(\"linkOffsetY\", newValue)}\r\n                                unit={<UnitButton unit={getUnitString(\"_linkOffsetY\")} onClick={(unit) => convertUnits(unit, \"linkOffsetY\")} />}\r\n                                arrows={true}\r\n                                arrowsIncrement={(amount) => increment(\"linkOffsetY\", amount)}\r\n                            />\r\n                        </div>\r\n                        <hr className=\"ge\" />\r\n                    </>\r\n                )}\r\n                <TextLineComponent tooltip=\"\" label=\"SERIALIZATION\" value=\" \" color=\"grey\"></TextLineComponent>\r\n                <div className=\"ge-divider\">\r\n                    <IconComponent icon={adtIcon} label={\"Serializable\"} />\r\n                    <CheckBoxLineComponent label=\"ISSERIALIZABLE\" target={proxy} propertyName=\"isSerializable\" />\r\n                </div>\r\n                <TextLineComponent tooltip=\"\" label=\"VISIBILITY\" value=\" \" color=\"grey\"></TextLineComponent>\r\n                <div className=\"ge-divider\">\r\n                    <IconComponent icon={visibleIcon} label={\"Visible\"} />\r\n                    <CheckBoxLineComponent label=\"ISVISIBLE\" target={proxy} propertyName=\"isVisible\" onPropertyChangedObservable={this.props.onPropertyChangedObservable} />\r\n                </div>\r\n                <TextLineComponent tooltip=\"\" label=\"TRANSFORMATION\" value=\" \" color=\"grey\"></TextLineComponent>\r\n                <div className=\"ge-divider double\">\r\n                    <IconComponent icon={scaleIcon} label={\"Scale\"} />\r\n                    <FloatLineComponent lockObject={this.props.lockObject} label=\"X\" target={proxy} propertyName=\"scaleX\" arrows={true} digits={2} step=\"0.0005\" />\r\n                    <FloatLineComponent lockObject={this.props.lockObject} label=\"Y\" target={proxy} propertyName=\"scaleY\" arrows={true} digits={2} step=\"0.0005\" />\r\n                </div>\r\n                <div className=\"ge-divider double\">\r\n                    <IconComponent icon={pivotIcon} label={\"Transform Center\"} />\r\n                    <FloatLineComponent lockObject={this.props.lockObject} label=\"X\" target={proxy} propertyName=\"transformCenterX\" arrows={true} digits={2} step=\"0.0005\" />\r\n                    <FloatLineComponent lockObject={this.props.lockObject} label=\"Y\" target={proxy} propertyName=\"transformCenterY\" arrows={true} digits={2} step=\"0.0005\" />\r\n                </div>\r\n                <div className=\"ge-divider\">\r\n                    <IconComponent icon={rotationIcon} label={\"Rotation\"} />\r\n                    <SliderLineComponent\r\n                        iconLabel={\"Rotation\"}\r\n                        lockObject={this.props.lockObject}\r\n                        label=\"\"\r\n                        target={proxy}\r\n                        decimalCount={2}\r\n                        propertyName=\"rotation\"\r\n                        minimum={0}\r\n                        maximum={2 * Math.PI}\r\n                        step={0.01}\r\n                        unit={<UnitButton unit=\"RAD\" locked />}\r\n                    />\r\n                </div>\r\n                <hr className=\"ge\" />\r\n                <TextLineComponent tooltip=\"\" label=\"APPEARANCE\" value=\" \" color=\"grey\" />\r\n                {controls.every(\r\n                    (control) => control.color !== undefined && control.typeName !== \"Image\" && control.typeName !== \"ImageBasedSlider\" && control.typeName !== \"ColorPicker\"\r\n                ) && (\r\n                    <div className=\"ge-divider\">\r\n                        <IconComponent icon={colorIcon} label={\"Outline Color\"} />\r\n                        <ColorLine lockObject={this.props.lockObject} label=\"Outline Color\" target={proxy} propertyName=\"color\" />\r\n                    </div>\r\n                )}\r\n                {controls.every((control) => (control as any).background !== undefined) && (\r\n                    <div className=\"ge-divider\">\r\n                        <IconComponent icon={fillColorIcon} label={\"Background Color\"} />\r\n                        <ColorLine lockObject={this.props.lockObject} label=\"Background Color\" target={proxy} propertyName=\"background\" />\r\n                    </div>\r\n                )}\r\n                <div className=\"ge-divider\">\r\n                    <IconComponent icon={alphaIcon} label={\"Alpha\"} />\r\n                    <SliderLineComponent lockObject={this.props.lockObject} label=\"\" target={proxy} propertyName=\"alpha\" minimum={0} maximum={1} step={0.01} />\r\n                </div>\r\n                <div className=\"ge-divider\">\r\n                    <IconComponent icon={shadowColorIcon} label={\"Shadow Color\"} />\r\n                    <ColorLine lockObject={this.props.lockObject} label=\"\" target={proxy} propertyName=\"shadowColor\" />\r\n                </div>\r\n                <div className=\"ge-divider double\">\r\n                    <IconComponent icon={shadowOffsetXIcon} label={\"Shadow Offset\"} />\r\n                    <FloatLineComponent\r\n                        lockObject={this.props.lockObject}\r\n                        label=\"X\"\r\n                        target={proxy}\r\n                        propertyName=\"shadowOffsetX\"\r\n                        unit={<UnitButton unit=\"PX\" locked />}\r\n                        arrows={true}\r\n                        step=\"0.1\"\r\n                        digits={2}\r\n                    />\r\n                    <FloatLineComponent\r\n                        lockObject={this.props.lockObject}\r\n                        label=\"Y\"\r\n                        target={proxy}\r\n                        propertyName=\"shadowOffsetY\"\r\n                        unit={<UnitButton unit=\"PX\" locked />}\r\n                        arrows={true}\r\n                        step=\"0.1\"\r\n                        digits={2}\r\n                    />\r\n                </div>\r\n                <div className=\"ge-divider double\">\r\n                    <IconComponent icon={shadowBlurIcon} label={\"Shadow Blur\"} />\r\n                    <FloatLineComponent lockObject={this.props.lockObject} label=\" \" target={proxy} propertyName=\"shadowBlur\" arrows={true} min={0} digits={2} />\r\n                </div>\r\n                {showTextProperties && (\r\n                    <>\r\n                        <hr className=\"ge\" />\r\n                        <TextLineComponent tooltip=\"\" label=\"FONT STYLE\" value=\" \" color=\"grey\"></TextLineComponent>\r\n                        <div className=\"ge-divider\">\r\n                            <IconComponent icon={fontFamilyIcon} label={\"Font Family\"} />\r\n                            <OptionsLineComponent\r\n                                options={fonts}\r\n                                selectedOptionValue={proxy.fontFamily}\r\n                                onOptionSelected={(selectedFontValue) => {\r\n                                    proxy.fontFamily = selectedFontValue;\r\n                                }}\r\n                                onOptionAdded={({ value }) => {\r\n                                    this._addFont(value);\r\n                                }}\r\n                                addOptionPlaceholder={\"Add new font...\"}\r\n                                validateNewOptionValue={(newFontValue) => {\r\n                                    if (newFontValue.length > 0 && !fonts.find((f) => f.label === newFontValue)) {\r\n                                        return document.fonts.check(`12px ${newFontValue}`);\r\n                                    }\r\n                                    return false;\r\n                                }}\r\n                            />\r\n                        </div>\r\n                        <div className=\"ge-divider\">\r\n                            <IconComponent icon={fontWeightIcon} label={\"Font Weight\"} />\r\n                            <TextInputLineComponent lockObject={this.props.lockObject} label=\"\" target={proxy} propertyName=\"fontWeight\" />\r\n                        </div>\r\n                        <div className=\"ge-divider\">\r\n                            <IconComponent icon={fontStyleIcon} label={\"Font Style\"} />\r\n                            <OptionsLineComponent\r\n                                options={fontStyleOptions}\r\n                                selectedOptionValue={proxy.fontStyle}\r\n                                onOptionSelected={(value) => {\r\n                                    proxy.fontStyle = value;\r\n                                }}\r\n                            />\r\n                        </div>\r\n                        <div className=\"ge-divider double\">\r\n                            <IconComponent icon={fontSizeIcon} label={\"Font Size\"} />\r\n                            <TextInputLineComponent\r\n                                lockObject={this.props.lockObject}\r\n                                label=\"\"\r\n                                numbersOnly={true}\r\n                                value={getValue(\"_fontSize\")}\r\n                                onChange={(newValue) => this._checkAndUpdateValues(\"fontSize\", newValue)}\r\n                                unit={<UnitButton unit={getUnitString(\"_fontSize\")} onClick={(unit) => convertUnits(unit, \"fontSize\")} />}\r\n                                arrows={true}\r\n                                arrowsIncrement={(amount) => increment(\"fontSize\", amount, 0)}\r\n                            />\r\n                        </div>\r\n                    </>\r\n                )}\r\n\r\n                <hr className=\"ge\" />\r\n                <div className=\"ge-divider\">\r\n                    <TextLineComponent tooltip=\"\" label=\"METADATA\" value=\" \" color=\"grey\" />\r\n                    <CommandButtonComponent\r\n                        tooltip=\"Add\"\r\n                        icon={addIcon}\r\n                        isActive={false}\r\n                        onClick={() => {\r\n                            const w = GUIEditor._PopupWindow ?? window;\r\n                            const input = w.prompt(\"Enter new key name for metadata value\", \"newKey\");\r\n                            if (input === null || input.trim() === \"\") {\r\n                                return;\r\n                            }\r\n\r\n                            let keyName = input;\r\n                            let num = 1;\r\n                            while (controls.some((x) => keyName in x.metadata)) {\r\n                                num++;\r\n                                keyName = input + num;\r\n                            }\r\n                            this._addOrUpdateMetadata({ [keyName]: \"\" });\r\n                        }}\r\n                    />\r\n                </div>\r\n                {this._getCommonPropertyKeys(controls.map((x) => x.metadata)).map((metaKey) => {\r\n                    if (metaKey === \"guiEditor\" || metaKey.startsWith(\"_\") || metaKey === \"editorUniqueId\") {\r\n                        return;\r\n                    }\r\n\r\n                    const firstControl = controls.find((x) => !!x.metadata);\r\n                    if (!firstControl) {\r\n                        return;\r\n                    }\r\n\r\n                    let value = firstControl.metadata[metaKey];\r\n                    const isNotEditableValue = typeof value === \"object\";\r\n\r\n                    const allValues = controls.map((x) => x.metadata[metaKey]);\r\n                    if (!allValues.every((x) => x === value)) {\r\n                        value = conflictingValuesPlaceholder;\r\n                    }\r\n\r\n                    return (\r\n                        <div key={metaKey}>\r\n                            <div className=\"ge-divider double\">\r\n                                <TextInputLineComponent numbersOnly={false} lockObject={this.props.lockObject} label=\"\" delayInput={true} value={metaKey} disabled={true} />\r\n                                <TextInputLineComponent\r\n                                    numbersOnly={false}\r\n                                    lockObject={this.props.lockObject}\r\n                                    label=\":\"\r\n                                    delayInput={true}\r\n                                    disabled={isNotEditableValue}\r\n                                    value={typeof value === \"string\" ? value : JSON.stringify(value)}\r\n                                    onChange={(x) => this._addOrUpdateMetadata({ [metaKey]: x })}\r\n                                />\r\n                                <CommandButtonComponent tooltip=\"Remove\" icon={removeIcon} isActive={false} onClick={() => this._removeFromMetadata(metaKey)} />\r\n                            </div>\r\n                        </div>\r\n                    );\r\n                })}\r\n            </div>\r\n        );\r\n    }\r\n}\r\n","import * as React from \"react\";\r\nimport type { Observable } from \"core/Misc/observable\";\r\nimport type { PropertyChangedEvent } from \"shared-ui-components/propertyChangedEvent\";\r\nimport type { LockObject } from \"shared-ui-components/tabs/propertyGrids/lockObject\";\r\nimport type { Slider } from \"gui/2D/controls/sliders/slider\";\r\nimport { FloatLineComponent } from \"shared-ui-components/lines/floatLineComponent\";\r\nimport { CheckBoxLineComponent } from \"shared-ui-components/lines/checkBoxLineComponent\";\r\nimport { TextInputLineComponent } from \"shared-ui-components/lines/textInputLineComponent\";\r\nimport { TextLineComponent } from \"shared-ui-components/lines/textLineComponent\";\r\nimport { ColorLine } from \"shared-ui-components/lines/colorLineComponent\";\r\nimport type { ImageBasedSlider } from \"gui/2D/controls/sliders/imageBasedSlider\";\r\nimport { makeTargetsProxy } from \"shared-ui-components/lines/targetsProxy\";\r\n\r\nimport colorIcon from \"shared-ui-components/imgs/colorIcon.svg\";\r\nimport verticalSliderIcon from \"shared-ui-components/imgs/verticalSliderIcon.svg\";\r\nimport sliderValueIcon from \"shared-ui-components/imgs/sliderValueIcon.svg\";\r\nimport sliderValueMaximumIcon from \"shared-ui-components/imgs/sliderValueMaximumIcon.svg\";\r\nimport sliderValueMinimumIcon from \"shared-ui-components/imgs/sliderValueMinimumIcon.svg\";\r\nimport widthIcon from \"shared-ui-components/imgs/widthIcon.svg\";\r\nimport clampSliderValueIcon from \"shared-ui-components/imgs/clampSliderValueIcon.svg\";\r\nimport showThumbIcon from \"shared-ui-components/imgs/showThumbIcon.svg\";\r\nimport barOffsetIcon from \"shared-ui-components/imgs/barOffsetIcon.svg\";\r\nimport thumbCircleIcon from \"shared-ui-components/imgs/thumbCircleIcon.svg\";\r\nimport { IconComponent } from \"shared-ui-components/lines/iconComponent\";\r\n\r\ninterface ISliderPropertyGridComponentProps {\r\n    sliders: (Slider | ImageBasedSlider)[];\r\n    lockObject: LockObject;\r\n    onPropertyChangedObservable?: Observable<PropertyChangedEvent>;\r\n}\r\n\r\nexport class SliderPropertyGridComponent extends React.Component<ISliderPropertyGridComponentProps> {\r\n    constructor(props: ISliderPropertyGridComponentProps) {\r\n        super(props);\r\n    }\r\n\r\n    override render() {\r\n        const { sliders, onPropertyChangedObservable } = this.props;\r\n        const proxy = makeTargetsProxy(sliders, onPropertyChangedObservable);\r\n\r\n        return (\r\n            <div className=\"pane\">\r\n                <hr />\r\n                <TextLineComponent label=\"SLIDER\" value=\" \" color=\"grey\"></TextLineComponent>\r\n                {sliders.every((slider) => slider.typeName === \"Slider\") && (\r\n                    <div className=\"ge-divider\">\r\n                        <IconComponent icon={colorIcon} label=\"Border Color\" />\r\n                        <ColorLine lockObject={this.props.lockObject} label=\"\" target={proxy} propertyName=\"borderColor\" />\r\n                    </div>\r\n                )}\r\n                <div className=\"ge-divider\">\r\n                    <IconComponent icon={verticalSliderIcon} label=\"Vertical\" />\r\n                    <CheckBoxLineComponent label=\"VERTICAL\" target={proxy} propertyName=\"isVertical\" />\r\n                </div>\r\n                <div className=\"ge-divider double\">\r\n                    <IconComponent icon={barOffsetIcon} label=\"Bar Offset\" />\r\n                    <TextInputLineComponent lockObject={this.props.lockObject} label=\"\" target={proxy} propertyName=\"barOffset\" />\r\n                </div>\r\n                <div className=\"ge-divider double\">\r\n                    <IconComponent icon={sliderValueMinimumIcon} label=\"Minimum Value\" />\r\n                    <FloatLineComponent lockObject={this.props.lockObject} label=\"\" target={proxy} propertyName=\"minimum\" arrows={true} />\r\n                </div>\r\n                <div className=\"ge-divider double\">\r\n                    <IconComponent icon={sliderValueMaximumIcon} label=\"Maximum Value\" />\r\n                    <FloatLineComponent lockObject={this.props.lockObject} label=\"\" target={proxy} propertyName=\"maximum\" arrows={true} />\r\n                </div>\r\n                <div className=\"ge-divider double\">\r\n                    <IconComponent icon={sliderValueIcon} label=\"Initial Value\" />\r\n                    <FloatLineComponent lockObject={this.props.lockObject} label=\"\" target={proxy} propertyName=\"value\" arrows={true} />\r\n                </div>\r\n                <hr />\r\n                <TextLineComponent label=\"THUMB\" value=\" \" color=\"grey\"></TextLineComponent>\r\n                <div className=\"ge-divider\">\r\n                    <IconComponent icon={showThumbIcon} label=\"Display Thumb\" />\r\n                    <CheckBoxLineComponent label=\"DISPLAY THUMB\" target={proxy} propertyName=\"displayThumb\" onValueChanged={() => this.forceUpdate()} />\r\n                </div>\r\n                {proxy.displayThumb && (\r\n                    <>\r\n                        <div className=\"ge-divider\">\r\n                            <IconComponent icon={thumbCircleIcon} label=\"Thumb Circular\" />\r\n                            <CheckBoxLineComponent label=\"CIRCULAR\" target={proxy} propertyName=\"isThumbCircle\" />\r\n                        </div>\r\n                        <div className=\"ge-divider\">\r\n                            <IconComponent icon={clampSliderValueIcon} label=\"Thumb Clamped to Edges\" />\r\n                            <CheckBoxLineComponent label=\"CLAMPED\" target={proxy} propertyName=\"isThumbClamped\" />\r\n                        </div>\r\n                        <div className=\"ge-divider double\">\r\n                            <IconComponent icon={widthIcon} label=\"Width\" />\r\n                            <TextInputLineComponent lockObject={this.props.lockObject} label=\"\" target={proxy} propertyName=\"thumbWidth\" />\r\n                        </div>\r\n                    </>\r\n                )}\r\n            </div>\r\n        );\r\n    }\r\n}\r\n","import * as React from \"react\";\r\nimport type { Observable } from \"core/Misc/observable\";\r\nimport type { PropertyChangedEvent } from \"shared-ui-components/propertyChangedEvent\";\r\nimport { CommonControlPropertyGridComponent } from \"./commonControlPropertyGridComponent\";\r\nimport type { LockObject } from \"shared-ui-components/tabs/propertyGrids/lockObject\";\r\nimport type { Slider } from \"gui/2D/controls/sliders/slider\";\r\nimport { SliderPropertyGridComponent } from \"./sliderPropertyGridComponent\";\r\nimport type { GlobalState } from \"../../../../globalState\";\r\n\r\ninterface ISliderGenericPropertyGridComponentProps {\r\n    sliders: Slider[];\r\n    lockObject: LockObject;\r\n    onPropertyChangedObservable?: Observable<PropertyChangedEvent>;\r\n    onFontsParsedObservable?: Observable<void>;\r\n    globalState?: GlobalState;\r\n}\r\n\r\nexport class SliderGenericPropertyGridComponent extends React.Component<ISliderGenericPropertyGridComponentProps> {\r\n    constructor(props: ISliderGenericPropertyGridComponentProps) {\r\n        super(props);\r\n    }\r\n\r\n    override render() {\r\n        const sliders = this.props.sliders;\r\n\r\n        return (\r\n            <div className=\"pane\">\r\n                <CommonControlPropertyGridComponent\r\n                    lockObject={this.props.lockObject}\r\n                    controls={sliders}\r\n                    onPropertyChangedObservable={this.props.onPropertyChangedObservable}\r\n                    onFontsParsedObservable={this.props.onFontsParsedObservable}\r\n                    globalState={this.props.globalState}\r\n                />\r\n                <SliderPropertyGridComponent sliders={sliders} lockObject={this.props.lockObject} onPropertyChangedObservable={this.props.onPropertyChangedObservable} />\r\n            </div>\r\n        );\r\n    }\r\n}\r\n","import * as React from \"react\";\r\nimport type { Observable } from \"core/Misc/observable\";\r\nimport type { PropertyChangedEvent } from \"shared-ui-components/propertyChangedEvent\";\r\nimport { CommonControlPropertyGridComponent } from \"../gui/commonControlPropertyGridComponent\";\r\nimport type { LockObject } from \"shared-ui-components/tabs/propertyGrids/lockObject\";\r\nimport type { Line } from \"gui/2D/controls/line\";\r\nimport { FloatLineComponent } from \"shared-ui-components/lines/floatLineComponent\";\r\nimport { TextInputLineComponent } from \"shared-ui-components/lines/textInputLineComponent\";\r\nimport { TextLineComponent } from \"shared-ui-components/lines/textLineComponent\";\r\nimport { makeTargetsProxy } from \"shared-ui-components/lines/targetsProxy\";\r\n\r\nimport strokeWeightIcon from \"shared-ui-components/imgs/strokeWeightIcon.svg\";\r\nimport linePoint1Icon from \"shared-ui-components/imgs/linePoint1Icon.svg\";\r\nimport linePoint2Icon from \"shared-ui-components/imgs/linePoint2Icon.svg\";\r\nimport lineDashIcon from \"shared-ui-components/imgs/lineDashIcon.svg\";\r\nimport { IconComponent } from \"shared-ui-components/lines/iconComponent\";\r\nimport { UnitButton } from \"shared-ui-components/lines/unitButton\";\r\nimport type { GlobalState } from \"../../../../globalState\";\r\n\r\ninterface ILinePropertyGridComponentProps {\r\n    lines: Line[];\r\n    lockObject: LockObject;\r\n    onPropertyChangedObservable?: Observable<PropertyChangedEvent>;\r\n    onFontsParsedObservable?: Observable<void>;\r\n    globalState?: GlobalState;\r\n}\r\n\r\nexport class LinePropertyGridComponent extends React.Component<ILinePropertyGridComponentProps> {\r\n    constructor(props: ILinePropertyGridComponentProps) {\r\n        super(props);\r\n    }\r\n\r\n    onDashChange(value: string) {\r\n        const split = value.split(\",\");\r\n        for (const line of this.props.lines) {\r\n            line.dash = [];\r\n\r\n            for (const v of split) {\r\n                const int = parseInt(v);\r\n\r\n                if (isNaN(int)) {\r\n                    continue;\r\n                }\r\n\r\n                line.dash.push(int);\r\n            }\r\n        }\r\n        this.forceUpdate();\r\n    }\r\n\r\n    override render() {\r\n        const { lines, onPropertyChangedObservable, lockObject } = this.props;\r\n        const proxy = makeTargetsProxy(lines, onPropertyChangedObservable);\r\n        let dashes = lines[0].dash;\r\n        for (const line of lines) {\r\n            if (dashes.length === 0) {\r\n                break;\r\n            }\r\n            if (line.dash.length !== dashes.length) {\r\n                dashes = [];\r\n            }\r\n            for (let i = 0; i < dashes.length; i++) {\r\n                const dash = dashes[i];\r\n                if (line.dash[i] !== dash) {\r\n                    dashes = [];\r\n                }\r\n            }\r\n        }\r\n        const dashString = dashes.join(\",\");\r\n\r\n        return (\r\n            <div className=\"pane\">\r\n                <TextLineComponent label=\"LINE\" value=\" \" color=\"grey\"></TextLineComponent>\r\n                <div className=\"ge-divider double\">\r\n                    <IconComponent icon={linePoint1Icon} label={\"Position 1\"} />\r\n                    <TextInputLineComponent lockObject={lockObject} label=\"X\" target={proxy} propertyName=\"x1\" />\r\n                    <TextInputLineComponent lockObject={lockObject} label=\"Y\" target={proxy} propertyName=\"y1\" />\r\n                </div>\r\n                <div className=\"ge-divider double\">\r\n                    <IconComponent icon={linePoint2Icon} label={\"Position 2\"} />\r\n                    <TextInputLineComponent lockObject={lockObject} label=\"X\" target={proxy} propertyName=\"x2\" />\r\n                    <TextInputLineComponent lockObject={lockObject} label=\"Y\" target={proxy} propertyName=\"y2\" />\r\n                </div>\r\n                <div className=\"ge-divider double\">\r\n                    <IconComponent icon={strokeWeightIcon} label={\"Line Width\"} />\r\n                    <FloatLineComponent lockObject={lockObject} label=\"\" target={proxy} propertyName=\"lineWidth\" unit={<UnitButton unit=\"PX\" locked />} min={0} arrows={true} />\r\n                </div>\r\n                <div className=\"ge-divider\">\r\n                    <IconComponent icon={lineDashIcon} label={\"Dash Pattern\"} />\r\n                    <TextInputLineComponent lockObject={lockObject} label=\"\" target={proxy} value={dashString} onChange={(newValue) => this.onDashChange(newValue)} />\r\n                </div>\r\n                <hr />\r\n                <CommonControlPropertyGridComponent\r\n                    hideDimensions\r\n                    lockObject={lockObject}\r\n                    controls={lines}\r\n                    onPropertyChangedObservable={onPropertyChangedObservable}\r\n                    onFontsParsedObservable={this.props.onFontsParsedObservable}\r\n                    globalState={this.props.globalState}\r\n                />\r\n            </div>\r\n        );\r\n    }\r\n}\r\n","import * as React from \"react\";\r\nimport type { Observable } from \"core/Misc/observable\";\r\nimport type { PropertyChangedEvent } from \"shared-ui-components/propertyChangedEvent\";\r\nimport { CommonControlPropertyGridComponent } from \"../gui/commonControlPropertyGridComponent\";\r\nimport type { LockObject } from \"shared-ui-components/tabs/propertyGrids/lockObject\";\r\nimport type { RadioButton } from \"gui/2D/controls/radioButton\";\r\nimport { FloatLineComponent } from \"shared-ui-components/lines/floatLineComponent\";\r\nimport { TextInputLineComponent } from \"shared-ui-components/lines/textInputLineComponent\";\r\nimport { CheckBoxLineComponent } from \"shared-ui-components/lines/checkBoxLineComponent\";\r\nimport { TextLineComponent } from \"shared-ui-components/lines/textLineComponent\";\r\nimport { makeTargetsProxy } from \"shared-ui-components/lines/targetsProxy\";\r\n\r\nimport strokeWeightIcon from \"shared-ui-components/imgs/strokeWeightIcon.svg\";\r\nimport checkboxIcon from \"shared-ui-components/imgs/checkboxIconDark.svg\";\r\nimport scaleIcon from \"shared-ui-components/imgs/scaleIcon.svg\";\r\nimport { IconComponent } from \"shared-ui-components/lines/iconComponent\";\r\nimport { UnitButton } from \"shared-ui-components/lines/unitButton\";\r\nimport type { GlobalState } from \"../../../../globalState\";\r\n\r\ninterface IRadioButtonPropertyGridComponentProps {\r\n    radioButtons: RadioButton[];\r\n    lockObject: LockObject;\r\n    onPropertyChangedObservable?: Observable<PropertyChangedEvent>;\r\n    onFontsParsedObservable?: Observable<void>;\r\n    globalState?: GlobalState;\r\n}\r\n\r\nexport class RadioButtonPropertyGridComponent extends React.Component<IRadioButtonPropertyGridComponentProps> {\r\n    constructor(props: IRadioButtonPropertyGridComponentProps) {\r\n        super(props);\r\n    }\r\n\r\n    override render() {\r\n        const radioButtons = this.props.radioButtons;\r\n\r\n        return (\r\n            <div className=\"pane\">\r\n                <CommonControlPropertyGridComponent\r\n                    lockObject={this.props.lockObject}\r\n                    controls={radioButtons}\r\n                    onPropertyChangedObservable={this.props.onPropertyChangedObservable}\r\n                    onFontsParsedObservable={this.props.onFontsParsedObservable}\r\n                    globalState={this.props.globalState}\r\n                />\r\n                <hr />\r\n                <TextLineComponent label=\"RADIO BUTTON\" value=\" \" color=\"grey\"></TextLineComponent>\r\n                <div className=\"ge-divider double\">\r\n                    <IconComponent icon={strokeWeightIcon} label={\"Stroke Weight\"} />\r\n                    <FloatLineComponent\r\n                        lockObject={this.props.lockObject}\r\n                        label=\"\"\r\n                        target={makeTargetsProxy(radioButtons, this.props.onPropertyChangedObservable)}\r\n                        propertyName=\"thickness\"\r\n                        unit={<UnitButton unit=\"PX\" locked />}\r\n                        arrows\r\n                        min={0}\r\n                        digits={2}\r\n                    />\r\n                </div>\r\n                <div className=\"ge-divider double\">\r\n                    <IconComponent icon={scaleIcon} label={\"Check Size Ratio\"} />\r\n                    <FloatLineComponent\r\n                        lockObject={this.props.lockObject}\r\n                        label=\"\"\r\n                        target={makeTargetsProxy(radioButtons, this.props.onPropertyChangedObservable)}\r\n                        propertyName=\"checkSizeRatio\"\r\n                        unit={<UnitButton unit=\"PX\" locked />}\r\n                        arrows\r\n                        min={0}\r\n                        digits={2}\r\n                    />\r\n                </div>\r\n                <div className=\"ge-divider\">\r\n                    <IconComponent icon={strokeWeightIcon} label={\"Name of Group\"} />\r\n                    <TextInputLineComponent\r\n                        lockObject={this.props.lockObject}\r\n                        label=\"\"\r\n                        target={makeTargetsProxy(radioButtons, this.props.onPropertyChangedObservable)}\r\n                        propertyName=\"group\"\r\n                    />\r\n                </div>\r\n                <div className=\"ge-divider\">\r\n                    <IconComponent icon={checkboxIcon} label={\"Is Checked\"} />\r\n                    <CheckBoxLineComponent label=\"CHECKED\" target={makeTargetsProxy(radioButtons, this.props.onPropertyChangedObservable)} propertyName=\"isChecked\" />\r\n                </div>\r\n            </div>\r\n        );\r\n    }\r\n}\r\n","import * as React from \"react\";\r\nimport type { Observable } from \"core/Misc/observable\";\r\nimport type { PropertyChangedEvent } from \"shared-ui-components/propertyChangedEvent\";\r\nimport { CommonControlPropertyGridComponent } from \"../gui/commonControlPropertyGridComponent\";\r\nimport type { TextBlock } from \"gui/2D/controls/textBlock\";\r\nimport { TextWrapping } from \"gui/2D/controls/textBlock\";\r\nimport { TextInputLineComponent } from \"shared-ui-components/lines/textInputLineComponent\";\r\nimport type { LockObject } from \"shared-ui-components/tabs/propertyGrids/lockObject\";\r\nimport { OptionsLine } from \"shared-ui-components/lines/optionsLineComponent\";\r\nimport { CheckBoxLineComponent } from \"shared-ui-components/lines/checkBoxLineComponent\";\r\nimport { TextLineComponent } from \"shared-ui-components/lines/textLineComponent\";\r\nimport { ColorLine } from \"shared-ui-components/lines/colorLineComponent\";\r\nimport { makeTargetsProxy } from \"shared-ui-components/lines/targetsProxy\";\r\nimport type { GlobalState } from \"../../../../globalState\";\r\n\r\ninterface ITextBlockPropertyGridComponentProps {\r\n    textBlocks: TextBlock[];\r\n    lockObject: LockObject;\r\n    onPropertyChangedObservable?: Observable<PropertyChangedEvent>;\r\n    onFontsParsedObservable?: Observable<void>;\r\n    globalState?: GlobalState;\r\n}\r\n\r\nimport fillColorIcon from \"shared-ui-components/imgs/fillColorIcon.svg\";\r\nimport fontFamilyIcon from \"shared-ui-components/imgs/fontFamilyIcon.svg\";\r\nimport strokeWeightIcon from \"shared-ui-components/imgs/strokeWeightIcon.svg\";\r\nimport resizeToFitIcon from \"shared-ui-components/imgs/resizeToFitIcon.svg\";\r\nimport wordWrapIcon from \"shared-ui-components/imgs/wordWrapIcon.svg\";\r\nimport lineSpacingIcon from \"shared-ui-components/imgs/LineSpacingIcon.svg\";\r\nimport { IconComponent } from \"shared-ui-components/lines/iconComponent\";\r\nimport { FloatLineComponent } from \"shared-ui-components/lines/floatLineComponent\";\r\nimport { UnitButton } from \"shared-ui-components/lines/unitButton\";\r\n\r\nexport class TextBlockPropertyGridComponent extends React.Component<ITextBlockPropertyGridComponentProps> {\r\n    constructor(props: ITextBlockPropertyGridComponentProps) {\r\n        super(props);\r\n    }\r\n\r\n    override render() {\r\n        const { onPropertyChangedObservable } = this.props;\r\n        const textBlocks = this.props.textBlocks;\r\n        const proxy = makeTargetsProxy(textBlocks, onPropertyChangedObservable);\r\n\r\n        const wrappingOptions = [\r\n            { label: \"Clip\", value: TextWrapping.Clip },\r\n            { label: \"Ellipsis\", value: TextWrapping.Ellipsis },\r\n            { label: \"Word wrap\", value: TextWrapping.WordWrap },\r\n        ];\r\n\r\n        return (\r\n            <div className=\"pane\">\r\n                <CommonControlPropertyGridComponent\r\n                    lockObject={this.props.lockObject}\r\n                    controls={textBlocks}\r\n                    onPropertyChangedObservable={this.props.onPropertyChangedObservable}\r\n                    onFontsParsedObservable={this.props.onFontsParsedObservable}\r\n                    globalState={this.props.globalState}\r\n                />\r\n                <hr />\r\n                <TextLineComponent label=\"TEXTBLOCK\" value=\" \" color=\"grey\"></TextLineComponent>\r\n                <div className=\"ge-divider\">\r\n                    <IconComponent icon={fontFamilyIcon} label=\"Text\" />\r\n                    <TextInputLineComponent lockObject={this.props.lockObject} label=\" \" target={proxy} propertyName=\"text\" />\r\n                </div>\r\n                <div className=\"ge-divider\">\r\n                    <IconComponent icon={resizeToFitIcon} label=\"Automatically resize the text block to fit the size of the text\" />\r\n                    <CheckBoxLineComponent label=\"RESIZE TO FIT\" target={proxy} propertyName=\"resizeToFit\" />\r\n                </div>\r\n                <div className=\"ge-divider\">\r\n                    <IconComponent icon={wordWrapIcon} label=\"Text Wrapping\" />\r\n                    <OptionsLine label=\" \" options={wrappingOptions} target={proxy} propertyName=\"textWrapping\" />\r\n                </div>\r\n                <div className=\"ge-divider double\">\r\n                    <IconComponent icon={lineSpacingIcon} label=\"Line Spacing\" />\r\n                    <TextInputLineComponent lockObject={this.props.lockObject} label=\" \" target={proxy} propertyName=\"lineSpacing\" />\r\n                </div>\r\n                <hr />\r\n                <TextLineComponent label=\"OUTLINE\" value=\" \" color=\"grey\"></TextLineComponent>\r\n                <div className=\"ge-divider double\">\r\n                    <IconComponent icon={strokeWeightIcon} label=\"Outline Width\" />\r\n                    <FloatLineComponent\r\n                        lockObject={this.props.lockObject}\r\n                        label=\" \"\r\n                        target={proxy}\r\n                        propertyName=\"outlineWidth\"\r\n                        arrows\r\n                        min={0}\r\n                        unit={<UnitButton unit=\"PX\" locked />}\r\n                        step=\"0.01\"\r\n                    />\r\n                </div>\r\n                <div className=\"ge-divider\">\r\n                    <IconComponent icon={fillColorIcon} label=\"Outline Color\" />\r\n                    <ColorLine lockObject={this.props.lockObject} label=\" \" target={proxy} propertyName=\"outlineColor\" />\r\n                </div>\r\n            </div>\r\n        );\r\n    }\r\n}\r\n","import * as React from \"react\";\r\nimport type { Observable } from \"core/Misc/observable\";\r\nimport type { PropertyChangedEvent } from \"shared-ui-components/propertyChangedEvent\";\r\nimport { CommonControlPropertyGridComponent } from \"../gui/commonControlPropertyGridComponent\";\r\nimport type { InputText } from \"gui/2D/controls/inputText\";\r\nimport { TextInputLineComponent } from \"shared-ui-components/lines/textInputLineComponent\";\r\nimport { SliderLineComponent } from \"shared-ui-components/lines/sliderLineComponent\";\r\nimport { CheckBoxLineComponent } from \"shared-ui-components/lines/checkBoxLineComponent\";\r\nimport { FloatLineComponent } from \"shared-ui-components/lines/floatLineComponent\";\r\nimport type { LockObject } from \"shared-ui-components/tabs/propertyGrids/lockObject\";\r\nimport { TextLineComponent } from \"shared-ui-components/lines/textLineComponent\";\r\nimport { makeTargetsProxy } from \"shared-ui-components/lines/targetsProxy\";\r\nimport { ColorLine } from \"shared-ui-components/lines/colorLineComponent\";\r\n\r\nimport fillColorIcon from \"shared-ui-components/imgs/fillColorIcon.svg\";\r\nimport strokeWeightIcon from \"shared-ui-components/imgs/strokeWeightIcon.svg\";\r\nimport widthIcon from \"shared-ui-components/imgs/widthIcon.svg\";\r\nimport alphaIcon from \"shared-ui-components/imgs/alphaIcon.svg\";\r\nimport colorIcon from \"shared-ui-components/imgs/colorIcon.svg\";\r\nimport textIcon from \"shared-ui-components/imgs/textIcon.svg\";\r\nimport textInputIcon from \"shared-ui-components/imgs/textInputIcon.svg\";\r\nimport autoStretchWidthIcon from \"shared-ui-components/imgs/autoStretchWidthIcon.svg\";\r\nimport marginsIcon from \"shared-ui-components/imgs/marginsIcon.svg\";\r\nimport selectAllIcon from \"shared-ui-components/imgs/selectAllIcon.svg\";\r\nimport highlightIcon from \"shared-ui-components/imgs/highlightIcon.svg\";\r\nimport textPlaceholderIcon from \"shared-ui-components/imgs/textPlaceholderIcon.svg\";\r\nimport { IconComponent } from \"shared-ui-components/lines/iconComponent\";\r\nimport { UnitButton } from \"shared-ui-components/lines/unitButton\";\r\nimport type { GlobalState } from \"../../../../globalState\";\r\n\r\ninterface IInputTextPropertyGridComponentProps {\r\n    inputTexts: InputText[];\r\n    lockObject: LockObject;\r\n    onPropertyChangedObservable?: Observable<PropertyChangedEvent>;\r\n    onFontsParsedObservable?: Observable<void>;\r\n    globalState?: GlobalState;\r\n}\r\n\r\nexport class InputTextPropertyGridComponent extends React.Component<IInputTextPropertyGridComponentProps> {\r\n    constructor(props: IInputTextPropertyGridComponentProps) {\r\n        super(props);\r\n    }\r\n\r\n    override render() {\r\n        const { inputTexts, onPropertyChangedObservable, lockObject } = this.props;\r\n        const proxy = makeTargetsProxy(inputTexts, onPropertyChangedObservable);\r\n\r\n        return (\r\n            <div className=\"pane\">\r\n                <CommonControlPropertyGridComponent\r\n                    lockObject={lockObject}\r\n                    controls={inputTexts}\r\n                    onPropertyChangedObservable={onPropertyChangedObservable}\r\n                    onFontsParsedObservable={this.props.onFontsParsedObservable}\r\n                    globalState={this.props.globalState}\r\n                />\r\n                <hr />\r\n                <TextLineComponent label=\"INPUT TEXT\" value=\" \" color=\"grey\"></TextLineComponent>\r\n                <div className=\"ge-divider\">\r\n                    <IconComponent icon={textIcon} label=\"Text\" />\r\n                    <TextInputLineComponent lockObject={lockObject} label=\"\" target={proxy} propertyName=\"text\" />\r\n                </div>\r\n                <div className=\"ge-divider\">\r\n                    <IconComponent icon={textInputIcon} label=\"Prompt Text\" />\r\n                    <TextInputLineComponent lockObject={lockObject} label=\"\" target={proxy} propertyName=\"promptMessage\" />\r\n                </div>\r\n                <div className=\"ge-divider double\">\r\n                    <IconComponent icon={widthIcon} label=\"Max Width\" />\r\n                    <TextInputLineComponent lockObject={lockObject} label=\"\" target={proxy} propertyName=\"maxWidth\" />\r\n                </div>\r\n                <div className=\"ge-divider double\">\r\n                    <IconComponent icon={marginsIcon} label=\"Margins\" />\r\n                    <TextInputLineComponent lockObject={lockObject} label=\"\" target={proxy} propertyName=\"margin\" />\r\n                </div>\r\n                <div className=\"ge-divider double\">\r\n                    <IconComponent icon={strokeWeightIcon} label=\"Border Thickness\" />\r\n                    <FloatLineComponent lockObject={lockObject} label=\"\" target={proxy} propertyName=\"thickness\" unit={<UnitButton unit=\"PX\" locked />} arrows min={0} digits={2} />\r\n                </div>\r\n                <div className=\"ge-divider\">\r\n                    <IconComponent icon={autoStretchWidthIcon} label=\"Automatically Stretch Width\" />\r\n                    <CheckBoxLineComponent label=\"AUTO STRETCH\" target={proxy} propertyName=\"autoStretchWidth\" />\r\n                </div>\r\n                <div className=\"ge-divider\">\r\n                    <IconComponent icon={selectAllIcon} label=\"When Input is Focus, Select All\" />\r\n                    <CheckBoxLineComponent label=\"ON FOCUS, SELECT ALL\" target={proxy} propertyName=\"onFocusSelectAll\" />\r\n                </div>\r\n                <div className=\"ge-divider\">\r\n                    <IconComponent icon={highlightIcon} label=\"Highlight Color\" />\r\n                    <ColorLine lockObject={lockObject} label=\"\" target={proxy} propertyName=\"textHighlightColor\" />\r\n                </div>\r\n                <div className=\"ge-divider\">\r\n                    <IconComponent icon={alphaIcon} label=\"Highlight Opacity\" />\r\n                    <SliderLineComponent lockObject={lockObject} label=\"\" minimum={0} maximum={1} step={0.01} target={proxy} propertyName=\"highligherOpacity\" />\r\n                </div>\r\n                <div className=\"ge-divider\">\r\n                    <IconComponent icon={fillColorIcon} label=\"Background Color when Focused\" />\r\n                    <ColorLine lockObject={lockObject} label=\"\" target={proxy} propertyName=\"focusedBackground\" />\r\n                </div>\r\n                <div className=\"ge-divider\">\r\n                    <IconComponent icon={textPlaceholderIcon} label=\"Placeholder Text\" />\r\n                    <TextInputLineComponent lockObject={lockObject} label=\"\" target={proxy} propertyName=\"placeholderText\" />\r\n                </div>\r\n                <div className=\"ge-divider\">\r\n                    <IconComponent icon={colorIcon} label=\"Placeholder Color\" />\r\n                    <ColorLine lockObject={lockObject} label=\"\" target={proxy} propertyName=\"placeholderColor\" />\r\n                </div>\r\n            </div>\r\n        );\r\n    }\r\n}\r\n","import * as React from \"react\";\r\nimport type { Observable } from \"core/Misc/observable\";\r\nimport type { PropertyChangedEvent } from \"shared-ui-components/propertyChangedEvent\";\r\nimport { CommonControlPropertyGridComponent } from \"../gui/commonControlPropertyGridComponent\";\r\nimport type { ColorPicker } from \"gui/2D/controls/colorpicker\";\r\nimport { ColorLine } from \"shared-ui-components/lines/colorLineComponent\";\r\nimport type { LockObject } from \"shared-ui-components/tabs/propertyGrids/lockObject\";\r\nimport { TextLineComponent } from \"shared-ui-components/lines/textLineComponent\";\r\nimport { makeTargetsProxy } from \"shared-ui-components/lines/targetsProxy\";\r\n\r\nimport fillColorIcon from \"shared-ui-components/imgs/fillColorIcon.svg\";\r\nimport { IconComponent } from \"shared-ui-components/lines/iconComponent\";\r\nimport type { GlobalState } from \"../../../../globalState\";\r\n\r\ninterface IColorPickerPropertyGridComponentProps {\r\n    colorPickers: ColorPicker[];\r\n    lockObject: LockObject;\r\n    onPropertyChangedObservable?: Observable<PropertyChangedEvent>;\r\n    onFontsParsedObservable?: Observable<void>;\r\n    globalState?: GlobalState;\r\n}\r\n\r\nexport class ColorPickerPropertyGridComponent extends React.Component<IColorPickerPropertyGridComponentProps> {\r\n    constructor(props: IColorPickerPropertyGridComponentProps) {\r\n        super(props);\r\n    }\r\n\r\n    override render() {\r\n        const colorPickers = this.props.colorPickers;\r\n\r\n        return (\r\n            <div className=\"pane\">\r\n                <CommonControlPropertyGridComponent\r\n                    lockObject={this.props.lockObject}\r\n                    controls={colorPickers}\r\n                    onFontsParsedObservable={this.props.onFontsParsedObservable}\r\n                    globalState={this.props.globalState}\r\n                />\r\n                <hr />\r\n                <TextLineComponent label=\"COLOR PICKER\" value=\" \" color=\"grey\"></TextLineComponent>\r\n                <div className=\"ge-divider\">\r\n                    <IconComponent icon={fillColorIcon} label={\"Color Picker Value\"} />\r\n                    <ColorLine\r\n                        label=\"\"\r\n                        target={makeTargetsProxy(colorPickers, this.props.onPropertyChangedObservable)}\r\n                        propertyName=\"value\"\r\n                        disableAlpha={true}\r\n                        lockObject={this.props.lockObject}\r\n                    />\r\n                </div>\r\n            </div>\r\n        );\r\n    }\r\n}\r\n","import * as React from \"react\";\r\nimport type { Observable, Observer } from \"core/Misc/observable\";\r\nimport type { PropertyChangedEvent } from \"shared-ui-components/propertyChangedEvent\";\r\nimport { CommonControlPropertyGridComponent } from \"../gui/commonControlPropertyGridComponent\";\r\nimport type { LockObject } from \"shared-ui-components/tabs/propertyGrids/lockObject\";\r\nimport { Image } from \"gui/2D/controls/image\";\r\nimport { FloatLineComponent } from \"shared-ui-components/lines/floatLineComponent\";\r\nimport { CheckBoxLineComponent } from \"shared-ui-components/lines/checkBoxLineComponent\";\r\nimport { OptionsLine } from \"shared-ui-components/lines/optionsLineComponent\";\r\nimport { TextInputLineComponent } from \"shared-ui-components/lines/textInputLineComponent\";\r\nimport { TextLineComponent } from \"shared-ui-components/lines/textLineComponent\";\r\nimport { makeTargetsProxy } from \"shared-ui-components/lines/targetsProxy\";\r\n\r\nimport stretchFillIcon from \"shared-ui-components/imgs/stretchFillIcon.svg\";\r\nimport imageLinkIcon from \"shared-ui-components/imgs/imageLinkIcon.svg\";\r\nimport cropIcon from \"shared-ui-components/imgs/cropIcon.svg\";\r\nimport cellIdIcon from \"shared-ui-components/imgs/cellIDIcon.svg\";\r\nimport autoResizeIcon from \"shared-ui-components/imgs/autoResizeIcon.svg\";\r\nimport sizeIcon from \"shared-ui-components/imgs/sizeIcon.svg\";\r\nimport animationSheetIcon from \"shared-ui-components/imgs/animationSheetIcon.svg\";\r\nimport { IconComponent } from \"shared-ui-components/lines/iconComponent\";\r\nimport { UnitButton } from \"shared-ui-components/lines/unitButton\";\r\nimport type { GlobalState } from \"../../../../globalState\";\r\n\r\ninterface IImagePropertyGridComponentProps {\r\n    images: Image[];\r\n    lockObject: LockObject;\r\n    onPropertyChangedObservable?: Observable<PropertyChangedEvent>;\r\n    onFontsParsedObservable?: Observable<void>;\r\n    globalState?: GlobalState;\r\n}\r\n\r\nexport class ImagePropertyGridComponent extends React.Component<IImagePropertyGridComponentProps> {\r\n    private _observers = new Map<Image, Observer<Image>>();\r\n    constructor(props: IImagePropertyGridComponentProps) {\r\n        super(props);\r\n        this.updateObservers([], props.images);\r\n    }\r\n\r\n    override shouldComponentUpdate(nextProps: IImagePropertyGridComponentProps) {\r\n        this.updateObservers(this.props.images, nextProps.images);\r\n        return true;\r\n    }\r\n\r\n    updateObservers(oldImages: Image[], newImages: Image[]) {\r\n        for (const image of newImages) {\r\n            if (!oldImages.includes(image)) {\r\n                this._observers.set(\r\n                    image,\r\n                    image.onImageLoadedObservable.add(() => this.forceUpdate())\r\n                );\r\n            }\r\n        }\r\n        for (const image of oldImages) {\r\n            if (!newImages.includes(image)) {\r\n                image.onImageLoadedObservable.remove(this._observers.get(image)!);\r\n                this._observers.delete(image);\r\n            }\r\n        }\r\n    }\r\n\r\n    override componentWillUnmount() {\r\n        this.updateObservers(this.props.images, []);\r\n    }\r\n\r\n    toggleAnimations(on: boolean) {\r\n        for (const image of this.props.images) {\r\n            if (on) {\r\n                image.cellId = 0;\r\n                image.cellWidth = image.imageWidth;\r\n                image.cellHeight = image.imageHeight;\r\n            } else {\r\n                image.cellId = -1;\r\n            }\r\n        }\r\n    }\r\n\r\n    getMaxCells() {\r\n        let maxCells = Number.MAX_SAFE_INTEGER;\r\n        for (const image of this.props.images) {\r\n            if (image.cellWidth === 0 || image.cellHeight === 0) {\r\n                continue;\r\n            }\r\n            const cols = Math.ceil(image.imageWidth / image.cellWidth);\r\n            const rows = Math.ceil(image.imageHeight / image.cellHeight);\r\n            const max = cols * rows - 1;\r\n            if (max < maxCells) {\r\n                maxCells = max;\r\n            }\r\n        }\r\n        return maxCells;\r\n    }\r\n\r\n    updateCellSize() {\r\n        const maxCells = this.getMaxCells();\r\n        for (const image of this.props.images) {\r\n            if (image.cellId > maxCells) {\r\n                image.cellId = maxCells;\r\n            }\r\n        }\r\n        this.forceUpdate();\r\n    }\r\n\r\n    override render() {\r\n        const images = this.props.images;\r\n        const image = images[0]; // for nine slice\r\n\r\n        const proxy = makeTargetsProxy(images, this.props.onPropertyChangedObservable);\r\n\r\n        const stretchOptions = [\r\n            { label: \"None\", value: Image.STRETCH_NONE },\r\n            { label: \"Fill\", value: Image.STRETCH_FILL },\r\n            { label: \"Uniform\", value: Image.STRETCH_UNIFORM },\r\n            { label: \"Extend\", value: Image.STRETCH_EXTEND },\r\n            { label: \"NinePatch\", value: Image.STRETCH_NINE_PATCH },\r\n        ];\r\n\r\n        const animationSheet = images.every((image) => image.cellId !== -1);\r\n        const maxCells = this.getMaxCells();\r\n        const maxCellWidth = Math.max(...images.map((image) => image.imageWidth));\r\n        const maxCellHeight = Math.max(...images.map((image) => image.imageHeight));\r\n\r\n        return (\r\n            <div className=\"pane\">\r\n                <CommonControlPropertyGridComponent\r\n                    lockObject={this.props.lockObject}\r\n                    controls={images}\r\n                    onPropertyChangedObservable={this.props.onPropertyChangedObservable}\r\n                    onFontsParsedObservable={this.props.onFontsParsedObservable}\r\n                    globalState={this.props.globalState}\r\n                />\r\n                <hr />\r\n                <TextLineComponent label=\"IMAGE\" value=\" \" color=\"grey\"></TextLineComponent>\r\n                <div className=\"ge-divider double\">\r\n                    <IconComponent icon={imageLinkIcon} label=\"Source\" />\r\n                    <TextInputLineComponent lockObject={this.props.lockObject} label=\" \" target={proxy} propertyName=\"source\" />\r\n                </div>\r\n                <div className=\"ge-divider double\">\r\n                    <IconComponent icon={cropIcon} label=\"Crop\" />\r\n                    <TextInputLineComponent\r\n                        lockObject={this.props.lockObject}\r\n                        label=\"L\"\r\n                        target={proxy}\r\n                        propertyName=\"sourceLeft\"\r\n                        numeric={true}\r\n                        arrows={true}\r\n                        min={0}\r\n                        placeholder=\"0\"\r\n                        unit={<UnitButton unit=\"PX\" locked />}\r\n                    />\r\n                    <TextInputLineComponent\r\n                        lockObject={this.props.lockObject}\r\n                        label=\"T\"\r\n                        target={proxy}\r\n                        propertyName=\"sourceTop\"\r\n                        numeric={true}\r\n                        arrows={true}\r\n                        min={0}\r\n                        placeholder=\"0\"\r\n                        unit={<UnitButton unit=\"PX\" locked />}\r\n                    />\r\n                </div>\r\n                <div className=\"ge-divider double\">\r\n                    <IconComponent icon={cropIcon} label=\"Crop\" />\r\n                    <TextInputLineComponent\r\n                        lockObject={this.props.lockObject}\r\n                        label=\"W\"\r\n                        target={proxy}\r\n                        propertyName=\"sourceWidth\"\r\n                        numeric={true}\r\n                        arrows={true}\r\n                        min={0}\r\n                        placeholder={Math.max(...images.map((image) => image.imageWidth)).toString()}\r\n                        unit={<UnitButton unit=\"PX\" locked />}\r\n                    />\r\n                    <TextInputLineComponent\r\n                        lockObject={this.props.lockObject}\r\n                        label=\"H\"\r\n                        target={proxy}\r\n                        propertyName=\"sourceHeight\"\r\n                        numeric={true}\r\n                        arrows={true}\r\n                        min={0}\r\n                        placeholder={Math.max(...images.map((image) => image.imageHeight)).toString()}\r\n                        unit={<UnitButton unit=\"PX\" locked />}\r\n                    />\r\n                </div>\r\n                <div className=\"ge-divider\">\r\n                    <IconComponent icon={autoResizeIcon} label=\"Autoscale\" />\r\n                    <CheckBoxLineComponent label=\"AUTOSCALE\" target={proxy} propertyName=\"autoScale\" onPropertyChangedObservable={this.props.onPropertyChangedObservable} />\r\n                </div>\r\n                <div className=\"ge-divider\">\r\n                    <IconComponent icon={stretchFillIcon} label=\"Stretch\" />\r\n                    <OptionsLine label=\" \" options={stretchOptions} target={proxy} propertyName=\"stretch\" onSelect={(value) => this.setState({ mode: value })} />\r\n                </div>\r\n                {images.length === 1 && image.stretch === Image.STRETCH_NINE_PATCH && (\r\n                    <>\r\n                        <div className=\"ge-divider double\">\r\n                            <IconComponent icon={cropIcon} label=\"Slice Horizontal\" />\r\n                            <FloatLineComponent\r\n                                lockObject={this.props.lockObject}\r\n                                label=\"L\"\r\n                                target={image}\r\n                                propertyName=\"sliceLeft\"\r\n                                onChange={() => {\r\n                                    image.populateNinePatchSlicesFromImage = false;\r\n                                    this.forceUpdate();\r\n                                }}\r\n                            />\r\n                            <FloatLineComponent\r\n                                lockObject={this.props.lockObject}\r\n                                label=\"R\"\r\n                                target={image}\r\n                                propertyName=\"sliceRight\"\r\n                                onChange={() => {\r\n                                    image.populateNinePatchSlicesFromImage = false;\r\n                                    this.forceUpdate();\r\n                                }}\r\n                            />\r\n                        </div>\r\n                        <div className=\"ge-divider double\">\r\n                            <IconComponent icon={cropIcon} label=\"Slice Vertical\" />\r\n                            <FloatLineComponent\r\n                                lockObject={this.props.lockObject}\r\n                                label=\"T\"\r\n                                target={image}\r\n                                propertyName=\"sliceTop\"\r\n                                onChange={() => {\r\n                                    image.populateNinePatchSlicesFromImage = false;\r\n                                    this.forceUpdate();\r\n                                }}\r\n                            />\r\n                            <FloatLineComponent\r\n                                lockObject={this.props.lockObject}\r\n                                label=\"B\"\r\n                                target={image}\r\n                                propertyName=\"sliceBottom\"\r\n                                onChange={() => {\r\n                                    image.populateNinePatchSlicesFromImage = false;\r\n                                    this.forceUpdate();\r\n                                }}\r\n                            />\r\n                        </div>\r\n                        <div className=\"ge-divider\">\r\n                            <IconComponent icon={autoResizeIcon} label=\"Populate Nine Patch Slices From Image\" />\r\n                            <CheckBoxLineComponent\r\n                                label=\"SLICE FROM IMAGE\"\r\n                                target={image}\r\n                                propertyName=\"populateNinePatchSlicesFromImage\"\r\n                                onValueChanged={() => {\r\n                                    this.forceUpdate();\r\n                                    image._markAsDirty();\r\n                                }}\r\n                            />\r\n                        </div>\r\n                    </>\r\n                )}\r\n                <hr />\r\n                <CheckBoxLineComponent\r\n                    iconLabel={\"animationSheet\"}\r\n                    icon={animationSheetIcon}\r\n                    label=\"ANIMATION SHEET\"\r\n                    target={makeTargetsProxy(images, this.props.onPropertyChangedObservable, (target: Image) => target.cellId !== -1)}\r\n                    onValueChanged={() => {\r\n                        this.toggleAnimations(!animationSheet);\r\n                        this.forceUpdate();\r\n                    }}\r\n                />\r\n                {animationSheet && (\r\n                    <>\r\n                        <div className=\"ge-divider double\">\r\n                            <FloatLineComponent\r\n                                iconLabel={\"Cell Id\"}\r\n                                icon={cellIdIcon}\r\n                                lockObject={this.props.lockObject}\r\n                                label=\"\"\r\n                                isInteger={true}\r\n                                target={proxy}\r\n                                propertyName=\"cellId\"\r\n                                min={0}\r\n                                max={maxCells}\r\n                            />\r\n                        </div>\r\n                        <div className=\"ge-divider\">\r\n                            <FloatLineComponent\r\n                                icon={sizeIcon}\r\n                                lockObject={this.props.lockObject}\r\n                                label=\"W\"\r\n                                target={proxy}\r\n                                propertyName=\"cellWidth\"\r\n                                isInteger={true}\r\n                                onChange={() => this.updateCellSize()}\r\n                                min={1}\r\n                                max={maxCellWidth}\r\n                            />\r\n                            <FloatLineComponent\r\n                                lockObject={this.props.lockObject}\r\n                                label=\"H\"\r\n                                target={proxy}\r\n                                propertyName=\"cellHeight\"\r\n                                isInteger={true}\r\n                                onChange={() => this.updateCellSize()}\r\n                                min={1}\r\n                                max={maxCellHeight}\r\n                            />\r\n                        </div>\r\n                    </>\r\n                )}\r\n            </div>\r\n        );\r\n    }\r\n}\r\n","import * as React from \"react\";\r\nimport type { Observable } from \"core/Misc/observable\";\r\nimport type { PropertyChangedEvent } from \"shared-ui-components/propertyChangedEvent\";\r\nimport { CommonControlPropertyGridComponent } from \"../gui/commonControlPropertyGridComponent\";\r\nimport type { LockObject } from \"shared-ui-components/tabs/propertyGrids/lockObject\";\r\nimport type { ImageBasedSlider } from \"gui/2D/controls/sliders/imageBasedSlider\";\r\nimport { TextInputLineComponent } from \"shared-ui-components/lines/textInputLineComponent\";\r\nimport { TextLineComponent } from \"shared-ui-components/lines/textLineComponent\";\r\nimport { SliderPropertyGridComponent } from \"./sliderPropertyGridComponent\";\r\nimport { makeTargetsProxy } from \"shared-ui-components/lines/targetsProxy\";\r\n\r\nimport thumbImageLinkIcon from \"shared-ui-components/imgs/thumbImageLinkIcon.svg\";\r\nimport valueBarImageLinkIcon from \"shared-ui-components/imgs/valueBarImageLinkIcon.svg\";\r\nimport sliderBackgroundImageIcon from \"shared-ui-components/imgs/sliderBackgroundImageIcon.svg\";\r\nimport { IconComponent } from \"shared-ui-components/lines/iconComponent\";\r\nimport type { GlobalState } from \"../../../../globalState\";\r\n\r\ninterface IImageBasedSliderPropertyGridComponentProps {\r\n    imageBasedSliders: ImageBasedSlider[];\r\n    lockObject: LockObject;\r\n    onPropertyChangedObservable?: Observable<PropertyChangedEvent>;\r\n    onFontsParsedObservable?: Observable<void>;\r\n    globalState?: GlobalState;\r\n}\r\n\r\nexport class ImageBasedSliderPropertyGridComponent extends React.Component<IImageBasedSliderPropertyGridComponentProps> {\r\n    constructor(props: IImageBasedSliderPropertyGridComponentProps) {\r\n        super(props);\r\n    }\r\n\r\n    override render() {\r\n        const imageBasedSliders = this.props.imageBasedSliders;\r\n\r\n        return (\r\n            <div className=\"pane\">\r\n                <CommonControlPropertyGridComponent\r\n                    lockObject={this.props.lockObject}\r\n                    controls={imageBasedSliders}\r\n                    onPropertyChangedObservable={this.props.onPropertyChangedObservable}\r\n                    onFontsParsedObservable={this.props.onFontsParsedObservable}\r\n                    globalState={this.props.globalState}\r\n                />\r\n                <hr />\r\n                <TextLineComponent label=\"IMAGE LINKS\" value=\" \" color=\"grey\"></TextLineComponent>\r\n                <div className=\"ge-divider\">\r\n                    <IconComponent icon={thumbImageLinkIcon} label=\"Thumb Image Link\" />\r\n                    <TextInputLineComponent\r\n                        lockObject={this.props.lockObject}\r\n                        target={makeTargetsProxy(\r\n                            imageBasedSliders.map((slider) => slider.thumbImage),\r\n                            this.props.onPropertyChangedObservable\r\n                        )}\r\n                        label=\"\"\r\n                        propertyName=\"source\"\r\n                    />\r\n                </div>\r\n                <div className=\"ge-divider\">\r\n                    <IconComponent icon={valueBarImageLinkIcon} label=\"Value Bar Image Link\" />\r\n                    <TextInputLineComponent\r\n                        lockObject={this.props.lockObject}\r\n                        target={makeTargetsProxy(\r\n                            imageBasedSliders.map((slider) => slider.valueBarImage),\r\n                            this.props.onPropertyChangedObservable\r\n                        )}\r\n                        label=\"\"\r\n                        propertyName=\"source\"\r\n                        onPropertyChangedObservable={this.props.onPropertyChangedObservable}\r\n                    />\r\n                </div>\r\n                <div className=\"ge-divider\">\r\n                    <IconComponent icon={sliderBackgroundImageIcon} label=\"Background Image Link\" />\r\n                    <TextInputLineComponent\r\n                        lockObject={this.props.lockObject}\r\n                        target={makeTargetsProxy(\r\n                            imageBasedSliders.map((slider) => slider.backgroundImage),\r\n                            this.props.onPropertyChangedObservable\r\n                        )}\r\n                        label=\"\"\r\n                        propertyName=\"source\"\r\n                        onPropertyChangedObservable={this.props.onPropertyChangedObservable}\r\n                    />\r\n                </div>\r\n                <SliderPropertyGridComponent sliders={imageBasedSliders} lockObject={this.props.lockObject} onPropertyChangedObservable={this.props.onPropertyChangedObservable} />\r\n            </div>\r\n        );\r\n    }\r\n}\r\n","import * as React from \"react\";\r\nimport type { Observable } from \"core/Misc/observable\";\r\nimport type { PropertyChangedEvent } from \"shared-ui-components/propertyChangedEvent\";\r\nimport { CheckBoxLineComponent } from \"shared-ui-components/lines/checkBoxLineComponent\";\r\nimport { makeTargetsProxy } from \"shared-ui-components/lines/targetsProxy\";\r\nimport type { Container } from \"gui/2D/controls/container\";\r\n\r\nimport clipContentsIcon from \"shared-ui-components/imgs/clipContentsIcon.svg\";\r\nimport clipChildrenIcon from \"shared-ui-components/imgs/clipChildrenIcon.svg\";\r\nimport autoStretchWidthIcon from \"shared-ui-components/imgs/autoStretchWidthIcon.svg\";\r\nimport autoStretchHeightIcon from \"shared-ui-components/imgs/autoStretchHeightIcon.svg\";\r\nimport adtIcon from \"../../../../imgs/adtIcon.svg\";\r\nimport { IconComponent } from \"shared-ui-components/lines/iconComponent\";\r\n\r\ninterface IContainerPropertyGridComponentProps {\r\n    containers: Container[];\r\n    onPropertyChangedObservable?: Observable<PropertyChangedEvent>;\r\n}\r\n\r\nexport class ContainerPropertyGridComponent extends React.Component<IContainerPropertyGridComponentProps> {\r\n    override render() {\r\n        const { containers, onPropertyChangedObservable } = this.props;\r\n        const proxy = makeTargetsProxy(containers, onPropertyChangedObservable);\r\n        return (\r\n            <>\r\n                <div className=\"ge-divider\">\r\n                    <IconComponent icon={clipContentsIcon} label={\"Clips content outside the bounding box of this control\"} />\r\n                    <CheckBoxLineComponent label=\"CLIP CONTENT\" target={proxy} propertyName=\"clipContent\" />\r\n                </div>\r\n                <div className=\"ge-divider\">\r\n                    <IconComponent icon={clipChildrenIcon} label={\"Clips child controls to this control's shape\"} />\r\n                    <CheckBoxLineComponent label=\"CLIP CHILDREN\" target={proxy} propertyName=\"clipChildren\" />\r\n                </div>\r\n                <div className=\"ge-divider\">\r\n                    <IconComponent icon={autoStretchWidthIcon} label={\"Makes the container's width automatically adapt to its children\"} />\r\n                    <CheckBoxLineComponent label=\"ADAPT WIDTH TO CHILDREN\" target={proxy} propertyName=\"adaptWidthToChildren\" />\r\n                </div>\r\n                <div className=\"ge-divider\">\r\n                    <IconComponent icon={autoStretchHeightIcon} label={\"Makes the container's height automatically adapt to its children\"} />\r\n                    <CheckBoxLineComponent label=\"ADAPT HEIGHT TO CHILDREN\" target={proxy} propertyName=\"adaptHeightToChildren\" />\r\n                </div>\r\n                <div className=\"ge-divider\">\r\n                    <IconComponent icon={adtIcon} label={\"Delegates picking to children controls\"} />\r\n                    <CheckBoxLineComponent label=\"DELEGATE PICKING TO CHILDREN\" target={proxy} propertyName=\"delegatePickingToChildren\" />\r\n                </div>\r\n            </>\r\n        );\r\n    }\r\n}\r\n","import * as React from \"react\";\r\nimport type { Observable } from \"core/Misc/observable\";\r\nimport type { PropertyChangedEvent } from \"shared-ui-components/propertyChangedEvent\";\r\nimport { CommonControlPropertyGridComponent } from \"../gui/commonControlPropertyGridComponent\";\r\nimport type { LockObject } from \"shared-ui-components/tabs/propertyGrids/lockObject\";\r\nimport type { Rectangle } from \"gui/2D/controls/rectangle\";\r\nimport { FloatLineComponent } from \"shared-ui-components/lines/floatLineComponent\";\r\nimport { TextLineComponent } from \"shared-ui-components/lines/textLineComponent\";\r\nimport { makeTargetsProxy } from \"shared-ui-components/lines/targetsProxy\";\r\nimport { ContainerPropertyGridComponent } from \"./containerPropertyGridComponent\";\r\n\r\nimport cornerRadiusIcon from \"shared-ui-components/imgs/conerRadiusIcon.svg\";\r\nimport strokeWeightIcon from \"shared-ui-components/imgs/strokeWeightIcon.svg\";\r\nimport { IconComponent } from \"shared-ui-components/lines/iconComponent\";\r\nimport { UnitButton } from \"shared-ui-components/lines/unitButton\";\r\nimport type { GlobalState } from \"../../../../globalState\";\r\n\r\ninterface IRectanglePropertyGridComponentProps {\r\n    rectangles: Rectangle[];\r\n    lockObject: LockObject;\r\n    onPropertyChangedObservable?: Observable<PropertyChangedEvent>;\r\n    onFontsParsedObservable?: Observable<void>;\r\n    globalState?: GlobalState;\r\n}\r\n\r\nexport class RectanglePropertyGridComponent extends React.Component<IRectanglePropertyGridComponentProps> {\r\n    constructor(props: IRectanglePropertyGridComponentProps) {\r\n        super(props);\r\n    }\r\n\r\n    override render() {\r\n        const { rectangles, lockObject, onPropertyChangedObservable } = this.props;\r\n        const proxy = makeTargetsProxy(rectangles, onPropertyChangedObservable);\r\n\r\n        return (\r\n            <div className=\"pane\">\r\n                <CommonControlPropertyGridComponent\r\n                    lockObject={lockObject}\r\n                    controls={rectangles}\r\n                    onPropertyChangedObservable={onPropertyChangedObservable}\r\n                    onFontsParsedObservable={this.props.onFontsParsedObservable}\r\n                    globalState={this.props.globalState}\r\n                />\r\n                <hr />\r\n                <TextLineComponent label=\"RECTANGLE\" value=\" \" color=\"grey\"></TextLineComponent>\r\n                <div className=\"ge-divider double\">\r\n                    <IconComponent icon={strokeWeightIcon} label={\"Stroke Weight\"} />\r\n                    <FloatLineComponent\r\n                        lockObject={this.props.lockObject}\r\n                        label=\"\"\r\n                        target={proxy}\r\n                        propertyName=\"thickness\"\r\n                        unit={<UnitButton unit=\"PX\" locked />}\r\n                        arrows\r\n                        min={0}\r\n                        digits={2}\r\n                    />\r\n                </div>\r\n                <div className=\"ge-divider double\">\r\n                    <IconComponent icon={cornerRadiusIcon} label={\"Corner Radius\"} />\r\n                    <FloatLineComponent\r\n                        lockObject={lockObject}\r\n                        label=\"\"\r\n                        target={proxy}\r\n                        propertyName=\"cornerRadius\"\r\n                        unit={<UnitButton unit=\"PX\" locked />}\r\n                        arrows\r\n                        min={0}\r\n                        digits={2}\r\n                    />\r\n                </div>\r\n                <div className=\"ge-divider quad\">\r\n                    <FloatLineComponent\r\n                        lockObject={lockObject}\r\n                        label=\"X\"\r\n                        target={proxy}\r\n                        propertyName=\"cornerRadiusX\"\r\n                        unit={<UnitButton unit=\"PX\" locked />}\r\n                        arrows\r\n                        min={0}\r\n                        digits={2}\r\n                    />\r\n                    <FloatLineComponent\r\n                        lockObject={lockObject}\r\n                        label=\"Y\"\r\n                        target={proxy}\r\n                        propertyName=\"cornerRadiusY\"\r\n                        unit={<UnitButton unit=\"PX\" locked />}\r\n                        arrows\r\n                        min={0}\r\n                        digits={2}\r\n                    />\r\n                    <FloatLineComponent\r\n                        lockObject={lockObject}\r\n                        label=\"Z\"\r\n                        target={proxy}\r\n                        propertyName=\"cornerRadiusZ\"\r\n                        unit={<UnitButton unit=\"PX\" locked />}\r\n                        arrows\r\n                        min={0}\r\n                        digits={2}\r\n                    />\r\n                    <FloatLineComponent\r\n                        lockObject={lockObject}\r\n                        label=\"W\"\r\n                        target={proxy}\r\n                        propertyName=\"cornerRadiusW\"\r\n                        unit={<UnitButton unit=\"PX\" locked />}\r\n                        arrows\r\n                        min={0}\r\n                        digits={2}\r\n                    />\r\n                </div>\r\n                <ContainerPropertyGridComponent containers={rectangles} onPropertyChangedObservable={onPropertyChangedObservable} />\r\n            </div>\r\n        );\r\n    }\r\n}\r\n","import { Container } from \"./container\";\r\nimport type { Measure } from \"../measure\";\r\nimport { Control } from \"./control\";\r\nimport { RegisterClass } from \"core/Misc/typeStore\";\r\nimport { serialize } from \"core/Misc/decorators\";\r\nimport type { AdvancedDynamicTexture } from \"../advancedDynamicTexture\";\r\nimport type { ICanvasRenderingContext } from \"core/Engines/ICanvas\";\r\nimport { Logger } from \"core/Misc/logger\";\r\n\r\n/**\r\n * Class used to create a 2D stack panel container\r\n */\r\nexport class StackPanel extends Container {\r\n    private _isVertical = true;\r\n    private _manualWidth = false;\r\n    private _manualHeight = false;\r\n    private _doNotTrackManualChanges = false;\r\n    private _spacing = 0;\r\n\r\n    /**\r\n     * Gets or sets a boolean indicating that layout warnings should be ignored\r\n     */\r\n    @serialize()\r\n    public ignoreLayoutWarnings = false;\r\n\r\n    /** Gets or sets a boolean indicating if the stack panel is vertical or horizontal*/\r\n    @serialize()\r\n    public get isVertical(): boolean {\r\n        return this._isVertical;\r\n    }\r\n\r\n    public set isVertical(value: boolean) {\r\n        if (this._isVertical === value) {\r\n            return;\r\n        }\r\n\r\n        this._isVertical = value;\r\n        this._markAsDirty();\r\n    }\r\n\r\n    /**\r\n     * Gets or sets the spacing (in pixels) between each child.\r\n     */\r\n    @serialize()\r\n    public get spacing(): number {\r\n        return this._spacing;\r\n    }\r\n\r\n    public set spacing(value: number) {\r\n        if (this._spacing === value) {\r\n            return;\r\n        }\r\n\r\n        this._spacing = value;\r\n        this._markAsDirty();\r\n    }\r\n\r\n    /**\r\n     * Gets or sets panel width.\r\n     * This value should not be set when in horizontal mode as it will be computed automatically\r\n     */\r\n    @serialize()\r\n    public override set width(value: string | number) {\r\n        if (!this._doNotTrackManualChanges) {\r\n            this._manualWidth = true;\r\n        }\r\n\r\n        if (this._width.toString(this._host) === value) {\r\n            return;\r\n        }\r\n\r\n        if (this._width.fromString(value)) {\r\n            this._markAsDirty();\r\n        }\r\n    }\r\n\r\n    public override get width(): string | number {\r\n        return this._width.toString(this._host);\r\n    }\r\n\r\n    /**\r\n     * Gets or sets panel height.\r\n     * This value should not be set when in vertical mode as it will be computed automatically\r\n     */\r\n    @serialize()\r\n    public override set height(value: string | number) {\r\n        if (!this._doNotTrackManualChanges) {\r\n            this._manualHeight = true;\r\n        }\r\n\r\n        if (this._height.toString(this._host) === value) {\r\n            return;\r\n        }\r\n\r\n        if (this._height.fromString(value)) {\r\n            this._markAsDirty();\r\n        }\r\n    }\r\n\r\n    public override get height(): string | number {\r\n        return this._height.toString(this._host);\r\n    }\r\n\r\n    /**\r\n     * Creates a new StackPanel\r\n     * @param name defines control name\r\n     */\r\n    constructor(public override name?: string) {\r\n        super(name);\r\n    }\r\n\r\n    protected override _getTypeName(): string {\r\n        return \"StackPanel\";\r\n    }\r\n\r\n    /**\r\n     * @internal\r\n     */\r\n    protected override _preMeasure(parentMeasure: Measure, context: ICanvasRenderingContext): void {\r\n        for (const child of this._children) {\r\n            if (this._isVertical) {\r\n                child.verticalAlignment = Control.VERTICAL_ALIGNMENT_TOP;\r\n            } else {\r\n                child.horizontalAlignment = Control.HORIZONTAL_ALIGNMENT_LEFT;\r\n            }\r\n        }\r\n\r\n        super._preMeasure(parentMeasure, context);\r\n    }\r\n\r\n    protected override _additionalProcessing(parentMeasure: Measure, context: ICanvasRenderingContext): void {\r\n        super._additionalProcessing(parentMeasure, context);\r\n\r\n        this._measureForChildren.copyFrom(parentMeasure);\r\n\r\n        this._measureForChildren.left = this._currentMeasure.left;\r\n        this._measureForChildren.top = this._currentMeasure.top;\r\n\r\n        if (!this.isVertical || this._manualWidth) {\r\n            this._measureForChildren.width = this._currentMeasure.width;\r\n        }\r\n\r\n        if (this.isVertical || this._manualHeight) {\r\n            this._measureForChildren.height = this._currentMeasure.height;\r\n        }\r\n    }\r\n\r\n    protected override _postMeasure(): void {\r\n        let stackWidth = 0;\r\n        let stackHeight = 0;\r\n        const childrenCount = this._children.length;\r\n\r\n        // Calculate scaled spacing using idealRatio (same pattern as shadowOffset)\r\n        const scaledSpacing = this._spacing * this._host.idealRatio;\r\n\r\n        for (let index = 0; index < childrenCount; index++) {\r\n            const child = this._children[index];\r\n            if (!child.isVisible || child.notRenderable) {\r\n                continue;\r\n            }\r\n\r\n            if (this._isVertical) {\r\n                const top = stackHeight + \"px\";\r\n                if (child.top !== top) {\r\n                    child.top = top;\r\n                    this._rebuildLayout = true;\r\n                    child._top.ignoreAdaptiveScaling = true;\r\n                }\r\n\r\n                if (!this.ignoreLayoutWarnings && !child.isDimensionFullyDefined(\"height\")) {\r\n                    Logger.Warn(`Control (Name:${child.name}, UniqueId:${child.uniqueId}) is using height in percentage mode inside a vertical StackPanel`, 1);\r\n                } else {\r\n                    stackHeight += child._currentMeasure.height + child._paddingTopInPixels + child._paddingBottomInPixels + (index < childrenCount - 1 ? scaledSpacing : 0);\r\n                }\r\n            } else {\r\n                const left = stackWidth + \"px\";\r\n                if (child.left !== left) {\r\n                    child.left = left;\r\n                    this._rebuildLayout = true;\r\n                    child._left.ignoreAdaptiveScaling = true;\r\n                }\r\n\r\n                if (!this.ignoreLayoutWarnings && !child.isDimensionFullyDefined(\"width\")) {\r\n                    Logger.Warn(`Control (Name:${child.name}, UniqueId:${child.uniqueId}) is using width in percentage mode inside a horizontal StackPanel`, 1);\r\n                } else {\r\n                    stackWidth += child._currentMeasure.width + child._paddingLeftInPixels + child._paddingRightInPixels + (index < childrenCount - 1 ? scaledSpacing : 0);\r\n                }\r\n            }\r\n        }\r\n\r\n        stackWidth += this._paddingLeftInPixels + this._paddingRightInPixels;\r\n        stackHeight += this._paddingTopInPixels + this._paddingBottomInPixels;\r\n\r\n        this._doNotTrackManualChanges = true;\r\n\r\n        // Let stack panel width or height default to stackHeight and stackWidth if dimensions are not specified.\r\n        // User can now define their own height and width for stack panel.\r\n\r\n        let panelWidthChanged = false;\r\n        let panelHeightChanged = false;\r\n\r\n        if ((!this._manualHeight || this.adaptHeightToChildren) && this._isVertical) {\r\n            // do not specify height if strictly defined by user\r\n            const previousHeight = this.height;\r\n            this.height = stackHeight + \"px\";\r\n            panelHeightChanged = previousHeight !== this.height || !this._height.ignoreAdaptiveScaling;\r\n        }\r\n        if ((!this._manualWidth || this.adaptWidthToChildren) && !this._isVertical) {\r\n            // do not specify width if strictly defined by user\r\n            const previousWidth = this.width;\r\n            this.width = stackWidth + \"px\";\r\n            panelWidthChanged = previousWidth !== this.width || !this._width.ignoreAdaptiveScaling;\r\n        }\r\n\r\n        if (panelHeightChanged) {\r\n            this._height.ignoreAdaptiveScaling = true;\r\n        }\r\n\r\n        if (panelWidthChanged) {\r\n            this._width.ignoreAdaptiveScaling = true;\r\n        }\r\n\r\n        this._doNotTrackManualChanges = false;\r\n\r\n        if (panelWidthChanged || panelHeightChanged) {\r\n            this._rebuildLayout = true;\r\n        }\r\n\r\n        super._postMeasure();\r\n    }\r\n\r\n    private _getManualDim(dim: \"width\" | \"height\") {\r\n        if (dim === \"width\") {\r\n            return this._manualWidth;\r\n        } else {\r\n            return this._manualHeight;\r\n        }\r\n    }\r\n\r\n    public override isDimensionFullyDefined(dim: \"width\" | \"height\"): boolean {\r\n        if (dim === \"height\" ? this.isVertical : !this.isVertical && !this._getManualDim(dim)) {\r\n            for (const child of this._children) {\r\n                if (!child.isDimensionFullyDefined(dim)) {\r\n                    return false;\r\n                }\r\n            }\r\n            return true;\r\n        }\r\n\r\n        return this.getDimension(dim).isPixel || this._getAdaptDimTo(dim);\r\n    }\r\n\r\n    /**\r\n     * Serializes the current control\r\n     * @param serializationObject defined the JSON serialized object\r\n     * @param force force serialization even if isSerializable === false\r\n     * @param allowCanvas defines if the control is allowed to use a Canvas2D object to serialize\r\n     */\r\n    public override serialize(serializationObject: any, force: boolean, allowCanvas: boolean) {\r\n        super.serialize(serializationObject, force, allowCanvas);\r\n        if (!this.isSerializable && !force) {\r\n            return;\r\n        }\r\n        serializationObject.manualWidth = this._manualWidth;\r\n        serializationObject.manualHeight = this._manualHeight;\r\n    }\r\n\r\n    /**\r\n     * @internal\r\n     */\r\n    public override _parseFromContent(serializedObject: any, host: AdvancedDynamicTexture) {\r\n        this._manualWidth = serializedObject.manualWidth;\r\n        this._manualHeight = serializedObject.manualHeight;\r\n\r\n        super._parseFromContent(serializedObject, host);\r\n    }\r\n}\r\nRegisterClass(\"BABYLON.GUI.StackPanel\", StackPanel);\r\n","import * as React from \"react\";\r\nimport type { Observable } from \"core/Misc/observable\";\r\nimport type { PropertyChangedEvent } from \"shared-ui-components/propertyChangedEvent\";\r\nimport { CommonControlPropertyGridComponent } from \"../gui/commonControlPropertyGridComponent\";\r\nimport type { LockObject } from \"shared-ui-components/tabs/propertyGrids/lockObject\";\r\nimport { StackPanel } from \"gui/2D/controls/stackPanel\";\r\nimport { CheckBoxLineComponent } from \"shared-ui-components/lines/checkBoxLineComponent\";\r\nimport { FloatLineComponent } from \"shared-ui-components/lines/floatLineComponent\";\r\nimport { TextLineComponent } from \"shared-ui-components/lines/textLineComponent\";\r\nimport { makeTargetsProxy } from \"shared-ui-components/lines/targetsProxy\";\r\nimport { ContainerPropertyGridComponent } from \"./containerPropertyGridComponent\";\r\n\r\nimport alignVerticalIcon from \"shared-ui-components/imgs/alignVerticalIcon.svg\";\r\nimport stackPanelSpacingIcon from \"shared-ui-components/imgs/stackPanelSpacingIcon.svg\";\r\nimport { IconComponent } from \"shared-ui-components/lines/iconComponent\";\r\nimport { ValueAndUnit } from \"gui/2D/valueAndUnit\";\r\nimport { CoordinateHelper } from \"../../../../diagram/coordinateHelper\";\r\nimport { UnitButton } from \"shared-ui-components/lines/unitButton\";\r\nimport type { GlobalState } from \"../../../../globalState\";\r\n\r\ninterface IStackPanelPropertyGridComponentProps {\r\n    stackPanels: StackPanel[];\r\n    lockObject: LockObject;\r\n    onPropertyChangedObservable?: Observable<PropertyChangedEvent>;\r\n    onFontsParsedObservable?: Observable<void>;\r\n    globalState?: GlobalState;\r\n}\r\n\r\nexport class StackPanelPropertyGridComponent extends React.Component<IStackPanelPropertyGridComponentProps> {\r\n    constructor(props: IStackPanelPropertyGridComponentProps) {\r\n        super(props);\r\n    }\r\n\r\n    override render() {\r\n        const { stackPanels, lockObject, onPropertyChangedObservable } = this.props;\r\n        const proxy = makeTargetsProxy(stackPanels, onPropertyChangedObservable);\r\n\r\n        return (\r\n            <div className=\"pane\">\r\n                <CommonControlPropertyGridComponent\r\n                    lockObject={lockObject}\r\n                    controls={stackPanels}\r\n                    onPropertyChangedObservable={onPropertyChangedObservable}\r\n                    onFontsParsedObservable={this.props.onFontsParsedObservable}\r\n                    globalState={this.props.globalState}\r\n                />\r\n                <hr />\r\n                <TextLineComponent label=\"STACKPANEL\" value=\" \" color=\"grey\"></TextLineComponent>\r\n                <div className=\"ge-divider\">\r\n                    <IconComponent icon={alignVerticalIcon} label={\"Determines if children are stacked horizontally or vertically\"} />\r\n                    <CheckBoxLineComponent\r\n                        label={proxy.isVertical ? \"ALIGNMENT: VERTICAL\" : \"ALIGNMENT: HORIZONTAL\"}\r\n                        target={proxy}\r\n                        propertyName=\"isVertical\"\r\n                        onValueChanged={() => {\r\n                            for (const panel of stackPanels) {\r\n                                for (const child of panel.children) {\r\n                                    if (proxy.isVertical) {\r\n                                        child.horizontalAlignment = StackPanel.HORIZONTAL_ALIGNMENT_CENTER;\r\n                                        child._left.value = 0;\r\n                                        if (child._height.unit === ValueAndUnit.UNITMODE_PERCENTAGE) {\r\n                                            CoordinateHelper.ConvertToPixels(child, [\"height\"]);\r\n                                        }\r\n                                    } else {\r\n                                        child.verticalAlignment = StackPanel.VERTICAL_ALIGNMENT_CENTER;\r\n                                        child._top.value = 0;\r\n                                        if (child._width.unit === ValueAndUnit.UNITMODE_PERCENTAGE) {\r\n                                            CoordinateHelper.ConvertToPixels(child, [\"width\"]);\r\n                                        }\r\n                                    }\r\n                                }\r\n                            }\r\n                            this.forceUpdate();\r\n                        }}\r\n                    />\r\n                </div>\r\n                <div className=\"ge-divider double\">\r\n                    <IconComponent icon={stackPanelSpacingIcon} label={\"Spacing between children\"} />\r\n                    <FloatLineComponent\r\n                        lockObject={lockObject}\r\n                        label=\" \"\r\n                        target={proxy}\r\n                        propertyName=\"spacing\"\r\n                        onChange={() => stackPanels.forEach((panel) => panel._markAsDirty())}\r\n                        unit={<UnitButton unit=\"PX\" locked />}\r\n                        arrows={true}\r\n                        min={0}\r\n                    />\r\n                </div>\r\n                <ContainerPropertyGridComponent containers={stackPanels} onPropertyChangedObservable={onPropertyChangedObservable} />\r\n            </div>\r\n        );\r\n    }\r\n}\r\n","import * as React from \"react\";\r\nimport type { Observable } from \"core/Misc/observable\";\r\nimport type { PropertyChangedEvent } from \"shared-ui-components/propertyChangedEvent\";\r\nimport { CommonControlPropertyGridComponent } from \"../gui/commonControlPropertyGridComponent\";\r\nimport type { LockObject } from \"shared-ui-components/tabs/propertyGrids/lockObject\";\r\nimport type { Grid } from \"gui/2D/controls/grid\";\r\nimport { TextLineComponent } from \"shared-ui-components/lines/textLineComponent\";\r\nimport type { Nullable } from \"core/types\";\r\nimport { TextInputLineComponent } from \"shared-ui-components/lines/textInputLineComponent\";\r\nimport { CommandButtonComponent } from \"../../../commandButtonComponent\";\r\n\r\nimport gridColumnIconDark from \"shared-ui-components/imgs/gridColumnIconDark.svg\";\r\nimport gridRowIconDark from \"shared-ui-components/imgs/gridRowIconDark.svg\";\r\nimport confirmGridElementDark from \"shared-ui-components/imgs/confirmGridElementDark.svg\";\r\nimport subtractGridElementDark from \"shared-ui-components/imgs/subtractGridElementDark.svg\";\r\nimport addGridElementDark from \"shared-ui-components/imgs/addGridElementDark.svg\";\r\nimport cancelGridElementDark from \"shared-ui-components/imgs/cancelGridElementDark.svg\";\r\nimport valueChangedGridDark from \"shared-ui-components/imgs/valueChangedGridDark.svg\";\r\nimport deleteGridElementDark from \"shared-ui-components/imgs/deleteGridElementDark.svg\";\r\nimport type { GlobalState } from \"../../../../globalState\";\r\nimport { MathTools } from \"gui/2D/math2D\";\r\n\r\ninterface IGridPropertyGridComponentProps {\r\n    grids: Grid[];\r\n    lockObject: LockObject;\r\n    onPropertyChangedObservable?: Observable<PropertyChangedEvent>;\r\n    onFontsParsedObservable?: Observable<void>;\r\n    globalState?: GlobalState;\r\n    onUpdateRequiredObservable?: Observable<void>;\r\n}\r\n\r\ninterface IGridPropertyComponentState {\r\n    removingColumn: boolean;\r\n    removingRow: boolean;\r\n}\r\n\r\nexport class GridPropertyGridComponent extends React.Component<IGridPropertyGridComponentProps, IGridPropertyComponentState> {\r\n    constructor(props: IGridPropertyGridComponentProps) {\r\n        super(props);\r\n\r\n        this.state = { removingColumn: false, removingRow: false };\r\n    }\r\n    private _previousGrid: Nullable<Grid> = null;\r\n    private _rowDefinitions: string[] = [];\r\n    private _rowEditFlags: boolean[] = [];\r\n    private _columnEditFlags: boolean[] = [];\r\n    private _columnDefinitions: string[] = [];\r\n    private _editedRow: boolean = false;\r\n    private _editedColumn: boolean = false;\r\n    private _rowChild: boolean = false;\r\n    private _columnChild: boolean = false;\r\n\r\n    renderRows() {\r\n        return this._rowDefinitions.map((rd, i) => {\r\n            return (\r\n                <div\r\n                    key={`r${i}`}\r\n                    className={this.state.removingRow && i === this._rowEditFlags.length - 1 ? \"ge-grid-remove\" : this._rowEditFlags[i] ? \"ge-grid-edit\" : \"ge-grid\"}\r\n                >\r\n                    <div className=\"ge-grid-divider\">\r\n                        <TextInputLineComponent\r\n                            lockObject={this.props.lockObject}\r\n                            key={`rText${i}-${this.state.removingRow}`}\r\n                            label=\"\"\r\n                            icon={gridRowIconDark}\r\n                            iconLabel={`Row ${i}`}\r\n                            value={rd}\r\n                            numbersOnly={true}\r\n                            onChange={(newValue) => {\r\n                                if (newValue === this._rowDefinitions[i]) {\r\n                                    return;\r\n                                }\r\n                                this._rowDefinitions[i] = newValue;\r\n                                this._rowEditFlags[i] = true;\r\n                                this._editedRow = true;\r\n                                this._rowChild = false;\r\n                                this.setState({ removingRow: false });\r\n                            }}\r\n                            disabled={this.state.removingRow}\r\n                        />\r\n                        <TextLineComponent tooltip=\"\" label={`[${i}]`} value=\"\" color=\"grey\"></TextLineComponent>\r\n                        {this.state.removingRow && i === this._rowEditFlags.length - 1 && (\r\n                            <TextLineComponent icon={deleteGridElementDark} label=\" \" value=\" \" color=\"grey\"></TextLineComponent>\r\n                        )}\r\n                        {this._rowEditFlags[i] && <TextLineComponent icon={valueChangedGridDark} label=\" \" value=\" \" color=\"grey\"></TextLineComponent>}\r\n                    </div>\r\n                </div>\r\n            );\r\n        });\r\n    }\r\n\r\n    setRowValues() {\r\n        const grid = this.props.grids[0];\r\n        this._rowDefinitions = [];\r\n        this._rowEditFlags = [];\r\n        this._editedRow = false;\r\n        for (let index = 0; index < grid.rowCount; index++) {\r\n            const value = grid.getRowDefinition(index);\r\n            if (value) {\r\n                this._rowDefinitions.push(value.toString(grid._host, 2));\r\n                this._rowEditFlags.push(false);\r\n            }\r\n        }\r\n    }\r\n\r\n    setColumnValues() {\r\n        const grid = this.props.grids[0];\r\n        this._columnDefinitions = [];\r\n        this._columnEditFlags = [];\r\n        this._editedColumn = false;\r\n        for (let index = 0; index < grid.columnCount; index++) {\r\n            const value = grid.getColumnDefinition(index);\r\n            if (value) {\r\n                this._columnDefinitions.push(value.toString(grid._host, 2));\r\n                this._columnEditFlags.push(false);\r\n            }\r\n        }\r\n    }\r\n\r\n    renderColumns() {\r\n        return this._columnDefinitions.map((cd, i) => {\r\n            return (\r\n                <div\r\n                    key={`c${i}`}\r\n                    className={this.state.removingColumn && i === this._columnEditFlags.length - 1 ? \"ge-grid-remove\" : this._columnEditFlags[i] ? \"ge-grid-edit\" : \"ge-grid\"}\r\n                >\r\n                    <div className=\"ge-grid-divider\">\r\n                        <TextInputLineComponent\r\n                            lockObject={this.props.lockObject}\r\n                            key={`ctext${i}-${this.state.removingColumn}`}\r\n                            label=\"\"\r\n                            icon={gridColumnIconDark}\r\n                            iconLabel={`Column ${i}`}\r\n                            value={cd}\r\n                            numbersOnly={true}\r\n                            onChange={(newValue) => {\r\n                                if (newValue === this._columnDefinitions[i]) {\r\n                                    return;\r\n                                }\r\n                                this._columnDefinitions[i] = newValue;\r\n                                this._columnEditFlags[i] = true;\r\n                                this._editedColumn = true;\r\n                                this._columnChild = false;\r\n                                this.setState({ removingColumn: false });\r\n                            }}\r\n                            disabled={this.state.removingColumn}\r\n                        />\r\n                        <TextLineComponent tooltip=\"\" label={`[${i}]`} value=\"\" color=\"grey\"></TextLineComponent>\r\n                        {this.state.removingColumn && i === this._columnEditFlags.length - 1 && (\r\n                            <TextLineComponent icon={deleteGridElementDark} label=\" \" value=\" \" color=\"grey\"></TextLineComponent>\r\n                        )}\r\n                        {this._columnEditFlags[i] && <TextLineComponent icon={valueChangedGridDark} label=\" \" value=\" \" color=\"grey\"></TextLineComponent>}\r\n                    </div>\r\n                </div>\r\n            );\r\n        });\r\n    }\r\n\r\n    parsePercentage(value: string) {\r\n        let floatResult;\r\n        if (value.trim().at(-1) === \"%\") {\r\n            floatResult = parseFloat(value.replace(\"%\", \"\")) / 100;\r\n        } else {\r\n            floatResult = parseFloat(value);\r\n        }\r\n        return MathTools.Round(floatResult, 10000);\r\n    }\r\n\r\n    isCloseTo(value: number, expected: number, epsilon: number = 0.001) {\r\n        return Math.abs(value - expected) < epsilon;\r\n    }\r\n\r\n    adjustPercentages(definitions: string[], editFlags: boolean[]): string[] {\r\n        let percentageTotal = 0;\r\n        let modifiedEntriesPercentageTotal = 0;\r\n\r\n        const cellValues: string[] = [];\r\n\r\n        for (let i = 0; i < definitions.length; ++i) {\r\n            let value = definitions[i];\r\n            const percent = this.checkPercentage(value);\r\n            if (editFlags[i]) {\r\n                value = this.checkValue(value, percent);\r\n            }\r\n            if (percent) {\r\n                percentageTotal += this.parsePercentage(value);\r\n                if (editFlags[i]) {\r\n                    modifiedEntriesPercentageTotal += this.parsePercentage(value);\r\n                }\r\n            }\r\n            cellValues.push(value);\r\n        }\r\n\r\n        let modifiedCellValues = [];\r\n\r\n        // If the total percentage is not 100% we need to adjust the values based on the remaining percentage that was not modified by the user;\r\n        // If the remaining percentage is 0% we need to resize the modified entries to fit the remaining space\r\n        if (this.isCloseTo(percentageTotal, 1)) {\r\n            modifiedCellValues = cellValues;\r\n        } else {\r\n            const absoluteRemainingPercentage = 1 - modifiedEntriesPercentageTotal;\r\n            const magnitudeRemainingPercentage = Math.abs(absoluteRemainingPercentage);\r\n            const unmodifiedEntriesPercentage = percentageTotal - modifiedEntriesPercentageTotal;\r\n\r\n            const resizeModifiedEntries = this.isCloseTo(unmodifiedEntriesPercentage, 0);\r\n            for (let i = 0; i < cellValues.length; ++i) {\r\n                const value = cellValues[i];\r\n                const percent = this.checkPercentage(value);\r\n                if ((percent && !editFlags[i]) || (editFlags[i] && resizeModifiedEntries)) {\r\n                    const parsedValue = this.parsePercentage(value);\r\n                    const entryWeight = parsedValue / (resizeModifiedEntries ? percentageTotal : unmodifiedEntriesPercentage);\r\n                    const newEntryValue = entryWeight * (resizeModifiedEntries ? 1 : magnitudeRemainingPercentage);\r\n                    modifiedCellValues.push(`${newEntryValue * 100}%`);\r\n                } else {\r\n                    modifiedCellValues.push(value);\r\n                }\r\n            }\r\n        }\r\n\r\n        return modifiedCellValues;\r\n    }\r\n\r\n    resizeRow() {\r\n        const grid = this.props.grids[0];\r\n\r\n        const modifiedRowValues = this.adjustPercentages(this._rowDefinitions, this._rowEditFlags);\r\n\r\n        for (let i = 0; i < modifiedRowValues.length; ++i) {\r\n            grid.setRowDefinition(i, this.parsePercentage(modifiedRowValues[i]), !this.checkPercentage(modifiedRowValues[i]));\r\n        }\r\n\r\n        this.setRowValues();\r\n    }\r\n\r\n    resizeColumn() {\r\n        const grid = this.props.grids[0];\r\n\r\n        const columnValues = this.adjustPercentages(this._columnDefinitions, this._columnEditFlags);\r\n\r\n        for (let i = 0; i < columnValues.length; ++i) {\r\n            grid.setColumnDefinition(i, this.parsePercentage(columnValues[i]), !this.checkPercentage(this._columnDefinitions[i]));\r\n        }\r\n\r\n        this.setColumnValues();\r\n    }\r\n\r\n    checkValue(value: string, percent: boolean): string {\r\n        let newValue = value.match(/([0-9.,]+)/g)?.[0];\r\n        if (!newValue) {\r\n            newValue = \"0\";\r\n        }\r\n        newValue += percent ? \"%\" : \"px\";\r\n        return newValue;\r\n    }\r\n\r\n    checkPercentage(value: string): boolean {\r\n        const toSearch = \"px\";\r\n        return value.substring(value.length - toSearch.length, value.length) !== toSearch;\r\n    }\r\n\r\n    resetValues() {\r\n        const grid = this.props.grids[0];\r\n        this._columnChild = false;\r\n        this._rowChild = false;\r\n        this._previousGrid = grid;\r\n        this.setRowValues();\r\n        this.setColumnValues();\r\n        this.resizeColumn();\r\n        this.resizeRow();\r\n\r\n        this.setState({ removingColumn: false, removingRow: false });\r\n    }\r\n\r\n    override render() {\r\n        const grids = this.props.grids;\r\n        const grid = this.props.grids[0];\r\n        if (grid !== this._previousGrid) {\r\n            this.resetValues();\r\n        }\r\n        return (\r\n            <div className=\"pane\">\r\n                <CommonControlPropertyGridComponent\r\n                    lockObject={this.props.lockObject}\r\n                    controls={grids}\r\n                    onPropertyChangedObservable={this.props.onPropertyChangedObservable}\r\n                    onFontsParsedObservable={this.props.onFontsParsedObservable}\r\n                    globalState={this.props.globalState}\r\n                />\r\n                <hr className=\"ge\" />\r\n                <TextLineComponent tooltip=\"\" label=\"GRID\" value=\" \" color=\"grey\"></TextLineComponent>\r\n                {this.renderRows()}\r\n                {this.props.grids.length === 1 && (\r\n                    <>\r\n                        <div className=\"ge-gridLine\">\r\n                            <div className=\"ge-grid-button-divider\">\r\n                                <CommandButtonComponent\r\n                                    altStyle={true}\r\n                                    tooltip=\"Add Row\"\r\n                                    icon={addGridElementDark}\r\n                                    shortcut=\"\"\r\n                                    isActive={false}\r\n                                    disabled={this.state.removingRow || this._editedRow}\r\n                                    onClick={() => {\r\n                                        let total = 0;\r\n                                        let count = 0;\r\n                                        for (let i = 0; i < grid.rowCount; ++i) {\r\n                                            const rd = grid.getRowDefinition(i);\r\n                                            if (rd?.isPercentage) {\r\n                                                total += rd?.getValue(grid.host);\r\n                                                count++;\r\n                                            }\r\n                                        }\r\n                                        grid.addRowDefinition(total / count, false);\r\n                                        this.resetValues();\r\n                                        this.forceUpdate();\r\n                                    }}\r\n                                />{\" \"}\r\n                                <CommandButtonComponent\r\n                                    altStyle={true}\r\n                                    tooltip=\"Remove Row\"\r\n                                    icon={subtractGridElementDark}\r\n                                    shortcut=\"\"\r\n                                    isActive={false}\r\n                                    disabled={this.state.removingRow || grid.rowCount <= 1 || this._editedRow}\r\n                                    onClick={() => {\r\n                                        let hasChild = false;\r\n                                        for (let i = 0; i < grid.columnCount; ++i) {\r\n                                            const child = grid.cells[grid.rowCount - 1 + \":\" + i];\r\n                                            if (child?.children.length) {\r\n                                                hasChild = true;\r\n                                                break;\r\n                                            }\r\n                                        }\r\n                                        this.resetValues();\r\n                                        if (hasChild) {\r\n                                            this._rowChild = true;\r\n                                        }\r\n                                        this.setState({ removingRow: true });\r\n                                    }}\r\n                                />\r\n                                {this._editedRow && (\r\n                                    <>\r\n                                        {\" \"}\r\n                                        <CommandButtonComponent\r\n                                            altStyle={true}\r\n                                            tooltip=\"Confirm\"\r\n                                            icon={confirmGridElementDark}\r\n                                            shortcut=\"\"\r\n                                            isActive={false}\r\n                                            onClick={() => {\r\n                                                this.resizeRow();\r\n                                                this.forceUpdate();\r\n                                            }}\r\n                                        />\r\n                                        <CommandButtonComponent\r\n                                            altStyle={true}\r\n                                            tooltip=\"Cancel\"\r\n                                            icon={cancelGridElementDark}\r\n                                            shortcut=\"\"\r\n                                            isActive={false}\r\n                                            onClick={() => {\r\n                                                this.resetValues();\r\n                                                this.forceUpdate();\r\n                                            }}\r\n                                        />\r\n                                    </>\r\n                                )}\r\n                                {this.state.removingRow && (\r\n                                    <>\r\n                                        <CommandButtonComponent\r\n                                            altStyle={true}\r\n                                            tooltip=\"Confirm\"\r\n                                            icon={confirmGridElementDark}\r\n                                            shortcut=\"\"\r\n                                            isActive={false}\r\n                                            onClick={() => {\r\n                                                grid.removeRowDefinition(grid.rowCount - 1);\r\n                                                this.setRowValues();\r\n                                                this.resizeRow();\r\n                                                this.setState({ removingRow: false });\r\n                                                this._rowChild = false;\r\n                                                this.props.onUpdateRequiredObservable?.notifyObservers();\r\n                                            }}\r\n                                        />\r\n                                        <CommandButtonComponent\r\n                                            altStyle={true}\r\n                                            tooltip=\"Cancel\"\r\n                                            icon={cancelGridElementDark}\r\n                                            shortcut=\"\"\r\n                                            isActive={false}\r\n                                            onClick={() => {\r\n                                                this.setState({ removingRow: false });\r\n                                                this._rowChild = false;\r\n                                                this.forceUpdate();\r\n                                            }}\r\n                                        />\r\n                                    </>\r\n                                )}\r\n                            </div>\r\n                        </div>\r\n                        {this._rowChild && (\r\n                            <>\r\n                                <TextLineComponent\r\n                                    tooltip=\"\"\r\n                                    label=\"This row is not empty. Removing it will delete all contained controls. Do you want to remove this row and delete all controls within?\"\r\n                                    value=\" \"\r\n                                    color=\"grey\"\r\n                                ></TextLineComponent>\r\n                            </>\r\n                        )}\r\n                        <hr className=\"ge\" />\r\n                        {this.renderColumns()}\r\n                        <div className=\"ge-grid-button-divider\">\r\n                            <CommandButtonComponent\r\n                                altStyle={true}\r\n                                tooltip=\"Add Column\"\r\n                                icon={addGridElementDark}\r\n                                shortcut=\"\"\r\n                                isActive={false}\r\n                                disabled={this.state.removingColumn || this._editedColumn}\r\n                                onClick={() => {\r\n                                    let total = 0;\r\n                                    let count = 0;\r\n                                    for (let i = 0; i < grid.columnCount; ++i) {\r\n                                        const cd = grid.getColumnDefinition(i);\r\n                                        if (cd?.isPercentage) {\r\n                                            total += cd?.getValue(grid.host);\r\n                                            count++;\r\n                                        }\r\n                                    }\r\n                                    grid.addColumnDefinition(total / count, false);\r\n                                    this.resetValues();\r\n                                    this.forceUpdate();\r\n                                }}\r\n                            />\r\n                            <CommandButtonComponent\r\n                                altStyle={true}\r\n                                tooltip=\"Remove Column\"\r\n                                icon={subtractGridElementDark}\r\n                                shortcut=\"\"\r\n                                isActive={false}\r\n                                disabled={this.state.removingColumn || this._editedColumn || grid.columnCount <= 1}\r\n                                onClick={() => {\r\n                                    let hasChild = false;\r\n                                    for (let i = 0; i < grid.rowCount; ++i) {\r\n                                        const child = grid.cells[i + \":\" + (grid.columnCount - 1)];\r\n                                        if (child?.children.length) {\r\n                                            hasChild = true;\r\n                                            break;\r\n                                        }\r\n                                    }\r\n                                    this.resetValues();\r\n                                    if (hasChild) {\r\n                                        this._columnChild = true;\r\n                                    }\r\n                                    this.setState({ removingColumn: true });\r\n                                }}\r\n                            />\r\n                            {this._editedColumn && (\r\n                                <>\r\n                                    <CommandButtonComponent\r\n                                        altStyle={true}\r\n                                        tooltip=\"Confirm\"\r\n                                        icon={confirmGridElementDark}\r\n                                        shortcut=\"\"\r\n                                        isActive={false}\r\n                                        onClick={() => {\r\n                                            this.resizeColumn();\r\n                                            this.forceUpdate();\r\n                                        }}\r\n                                    />\r\n                                    <CommandButtonComponent\r\n                                        altStyle={true}\r\n                                        tooltip=\"Cancel\"\r\n                                        icon={cancelGridElementDark}\r\n                                        shortcut=\"\"\r\n                                        isActive={false}\r\n                                        onClick={() => {\r\n                                            this.resetValues();\r\n                                            this.forceUpdate();\r\n                                        }}\r\n                                    />\r\n                                </>\r\n                            )}\r\n                            {this.state.removingColumn && (\r\n                                <>\r\n                                    <CommandButtonComponent\r\n                                        altStyle={true}\r\n                                        tooltip=\"Confirm\"\r\n                                        icon={confirmGridElementDark}\r\n                                        shortcut=\"\"\r\n                                        isActive={false}\r\n                                        onClick={() => {\r\n                                            grid.removeColumnDefinition(grid.columnCount - 1);\r\n                                            this.setColumnValues();\r\n                                            this.resizeColumn();\r\n                                            this.setState({ removingColumn: false });\r\n                                            this._columnChild = false;\r\n                                            this.props.onUpdateRequiredObservable?.notifyObservers();\r\n                                        }}\r\n                                    />\r\n                                    <CommandButtonComponent\r\n                                        altStyle={true}\r\n                                        tooltip=\"Cancel\"\r\n                                        icon={cancelGridElementDark}\r\n                                        shortcut=\"\"\r\n                                        isActive={false}\r\n                                        onClick={() => {\r\n                                            this.setState({ removingColumn: false });\r\n                                            this._columnChild = false;\r\n                                        }}\r\n                                    />\r\n                                </>\r\n                            )}{\" \"}\r\n                        </div>\r\n                        {this._columnChild && (\r\n                            <>\r\n                                <TextLineComponent\r\n                                    tooltip=\"\"\r\n                                    label=\"This column is not empty. Removing it will delete all contained controls. Do you want to remove this column and delete all controls within?\"\r\n                                    value=\" \"\r\n                                    color=\"grey\"\r\n                                ></TextLineComponent>\r\n                            </>\r\n                        )}\r\n                    </>\r\n                )}\r\n            </div>\r\n        );\r\n    }\r\n}\r\n","import * as React from \"react\";\r\nimport type { Observable } from \"core/Misc/observable\";\r\nimport type { PropertyChangedEvent } from \"shared-ui-components/propertyChangedEvent\";\r\nimport { CommonControlPropertyGridComponent } from \"../gui/commonControlPropertyGridComponent\";\r\nimport type { LockObject } from \"shared-ui-components/tabs/propertyGrids/lockObject\";\r\nimport type { ScrollViewer } from \"gui/2D/controls/scrollViewers/scrollViewer\";\r\nimport { FloatLineComponent } from \"shared-ui-components/lines/floatLineComponent\";\r\nimport { TextLineComponent } from \"shared-ui-components/lines/textLineComponent\";\r\nimport { ColorLine } from \"shared-ui-components/lines/colorLineComponent\";\r\nimport { makeTargetsProxy } from \"shared-ui-components/lines/targetsProxy\";\r\n\r\nimport colorIcon from \"shared-ui-components/imgs/colorIcon.svg\";\r\nimport fillColorIcon from \"shared-ui-components/imgs/fillColorIcon.svg\";\r\nimport widthIcon from \"shared-ui-components/imgs/widthIcon.svg\"; // TODO: replace\r\nimport cornerRadiusIcon from \"shared-ui-components/imgs/conerRadiusIcon.svg\";\r\nimport strokeWeightIcon from \"shared-ui-components/imgs/strokeWeightIcon.svg\";\r\nimport scrollViewerPrecisionIcon from \"shared-ui-components/imgs/scrollViewerPrecisionIcon.svg\"; // TODO: replace\r\nimport { IconComponent } from \"shared-ui-components/lines/iconComponent\";\r\nimport { UnitButton } from \"shared-ui-components/lines/unitButton\";\r\nimport type { GlobalState } from \"../../../../globalState\";\r\n\r\ninterface IScrollViewerPropertyGridComponentProps {\r\n    scrollViewers: ScrollViewer[];\r\n    lockObject: LockObject;\r\n    onPropertyChangedObservable?: Observable<PropertyChangedEvent>;\r\n    onFontsParsedObservable?: Observable<void>;\r\n    globalState?: GlobalState;\r\n}\r\n\r\nexport class ScrollViewerPropertyGridComponent extends React.Component<IScrollViewerPropertyGridComponentProps> {\r\n    constructor(props: IScrollViewerPropertyGridComponentProps) {\r\n        super(props);\r\n    }\r\n\r\n    override render() {\r\n        const { scrollViewers, onPropertyChangedObservable, lockObject } = this.props;\r\n        const proxy = makeTargetsProxy(scrollViewers, onPropertyChangedObservable);\r\n\r\n        return (\r\n            <div className=\"pane\">\r\n                <CommonControlPropertyGridComponent\r\n                    lockObject={lockObject}\r\n                    controls={scrollViewers}\r\n                    onPropertyChangedObservable={this.props.onPropertyChangedObservable}\r\n                    onFontsParsedObservable={this.props.onFontsParsedObservable}\r\n                    globalState={this.props.globalState}\r\n                />\r\n                <hr />\r\n                <TextLineComponent label=\"SCROLLVIEWER\" value=\" \" color=\"grey\"></TextLineComponent>\r\n                <div className=\"ge-divider\">\r\n                    <IconComponent icon={scrollViewerPrecisionIcon} label={\"Wheel Precision\"} />\r\n                    <FloatLineComponent lockObject={this.props.lockObject} label=\"\" target={proxy} propertyName=\"wheelPrecision\" arrows={true} min={0} digits={2} />\r\n                </div>\r\n                <div className=\"ge-divider\">\r\n                    <IconComponent icon={widthIcon} label={\"Bar Size\"} />\r\n                    <FloatLineComponent\r\n                        lockObject={this.props.lockObject}\r\n                        label=\"\"\r\n                        target={proxy}\r\n                        propertyName=\"barSize\"\r\n                        unit={<UnitButton unit=\"PX\" locked />}\r\n                        arrows\r\n                        min={0}\r\n                        digits={2}\r\n                    />\r\n                </div>\r\n                <div className=\"e-divider\">\r\n                    <IconComponent icon={colorIcon} label=\"Bar Color\" />\r\n                    <ColorLine lockObject={this.props.lockObject} label=\"\" target={proxy} propertyName=\"barColor\" />\r\n                </div>\r\n                <div className=\"ge-divider\">\r\n                    <IconComponent icon={fillColorIcon} label=\"Bar Background Color\" />\r\n                    <ColorLine lockObject={this.props.lockObject} label=\"\" target={proxy} propertyName=\"barBackground\" />\r\n                </div>\r\n                <div className=\"ge-divider double\">\r\n                    <IconComponent icon={strokeWeightIcon} label={\"Stroke Weight\"} />\r\n                    <FloatLineComponent\r\n                        lockObject={this.props.lockObject}\r\n                        label=\"\"\r\n                        target={proxy}\r\n                        propertyName=\"thickness\"\r\n                        unit={<UnitButton unit=\"PX\" locked />}\r\n                        arrows={true}\r\n                        min={0}\r\n                        digits={2}\r\n                    />\r\n                </div>\r\n                <div className=\"ge-divider double\">\r\n                    <IconComponent icon={cornerRadiusIcon} label={\"Corner Radius\"} />\r\n                    <FloatLineComponent\r\n                        lockObject={lockObject}\r\n                        label=\"\"\r\n                        target={makeTargetsProxy(scrollViewers, onPropertyChangedObservable)}\r\n                        propertyName=\"cornerRadius\"\r\n                        unit={<UnitButton unit=\"PX\" locked />}\r\n                        arrows={true}\r\n                        min={0}\r\n                        digits={2}\r\n                    />\r\n                </div>\r\n            </div>\r\n        );\r\n    }\r\n}\r\n","import * as React from \"react\";\r\nimport type { Observable } from \"core/Misc/observable\";\r\nimport type { PropertyChangedEvent } from \"shared-ui-components/propertyChangedEvent\";\r\nimport { CommonControlPropertyGridComponent } from \"../gui/commonControlPropertyGridComponent\";\r\nimport type { LockObject } from \"shared-ui-components/tabs/propertyGrids/lockObject\";\r\nimport type { Ellipse } from \"gui/2D/controls/ellipse\";\r\nimport { FloatLineComponent } from \"shared-ui-components/lines/floatLineComponent\";\r\nimport { TextLineComponent } from \"shared-ui-components/lines/textLineComponent\";\r\nimport { makeTargetsProxy } from \"shared-ui-components/lines/targetsProxy\";\r\nimport { ContainerPropertyGridComponent } from \"./containerPropertyGridComponent\";\r\n\r\nimport strokeWeightIcon from \"shared-ui-components/imgs/strokeWeightIcon.svg\";\r\nimport { IconComponent } from \"shared-ui-components/lines/iconComponent\";\r\nimport { UnitButton } from \"shared-ui-components/lines/unitButton\";\r\nimport type { GlobalState } from \"../../../../globalState\";\r\n\r\ninterface IEllipsePropertyGridComponentProps {\r\n    ellipses: Ellipse[];\r\n    lockObject: LockObject;\r\n    onPropertyChangedObservable?: Observable<PropertyChangedEvent>;\r\n    onFontsParsedObservable?: Observable<void>;\r\n    globalState?: GlobalState;\r\n}\r\n\r\nexport class EllipsePropertyGridComponent extends React.Component<IEllipsePropertyGridComponentProps> {\r\n    constructor(props: IEllipsePropertyGridComponentProps) {\r\n        super(props);\r\n    }\r\n\r\n    override render() {\r\n        const { ellipses, onPropertyChangedObservable, lockObject } = this.props;\r\n        const proxy = makeTargetsProxy(ellipses, onPropertyChangedObservable);\r\n\r\n        return (\r\n            <div className=\"pane\">\r\n                <CommonControlPropertyGridComponent\r\n                    lockObject={lockObject}\r\n                    controls={ellipses}\r\n                    onPropertyChangedObservable={onPropertyChangedObservable}\r\n                    onFontsParsedObservable={this.props.onFontsParsedObservable}\r\n                    globalState={this.props.globalState}\r\n                />\r\n                <hr />\r\n                <TextLineComponent label=\"ELLIPSE\" value=\" \" color=\"grey\"></TextLineComponent>\r\n                <div className=\"ge-divider double\">\r\n                    <IconComponent icon={strokeWeightIcon} label={\"Stroke Weight\"} />\r\n                    <FloatLineComponent\r\n                        lockObject={lockObject}\r\n                        label=\"\"\r\n                        target={proxy}\r\n                        propertyName=\"thickness\"\r\n                        unit={<UnitButton unit=\"PX\" locked />}\r\n                        arrows={true}\r\n                        min={0}\r\n                        digits={2}\r\n                    />\r\n                </div>\r\n                <ContainerPropertyGridComponent containers={ellipses} onPropertyChangedObservable={onPropertyChangedObservable} />\r\n            </div>\r\n        );\r\n    }\r\n}\r\n","import * as React from \"react\";\r\nimport type { Observable } from \"core/Misc/observable\";\r\nimport type { PropertyChangedEvent } from \"shared-ui-components/propertyChangedEvent\";\r\nimport { CommonControlPropertyGridComponent } from \"../gui/commonControlPropertyGridComponent\";\r\nimport type { LockObject } from \"shared-ui-components/tabs/propertyGrids/lockObject\";\r\nimport type { Checkbox } from \"gui/2D/controls/checkbox\";\r\nimport { FloatLineComponent } from \"shared-ui-components/lines/floatLineComponent\";\r\nimport { CheckBoxLineComponent } from \"shared-ui-components/lines/checkBoxLineComponent\";\r\nimport { TextLineComponent } from \"shared-ui-components/lines/textLineComponent\";\r\nimport { makeTargetsProxy } from \"shared-ui-components/lines/targetsProxy\";\r\n\r\nimport checkBoxIconDark from \"shared-ui-components/imgs/checkboxIconDark.svg\";\r\nimport sizeIcon from \"shared-ui-components/imgs/sizeIcon.svg\";\r\nimport strokeWeightIcon from \"shared-ui-components/imgs/strokeWeightIcon.svg\";\r\nimport { IconComponent } from \"shared-ui-components/lines/iconComponent\";\r\nimport { UnitButton } from \"shared-ui-components/lines/unitButton\";\r\nimport type { GlobalState } from \"../../../../globalState\";\r\n\r\ninterface ICheckboxPropertyGridComponentProps {\r\n    checkboxes: Checkbox[];\r\n    lockObject: LockObject;\r\n    onPropertyChangedObservable?: Observable<PropertyChangedEvent>;\r\n    onFontsParsedObservable?: Observable<void>;\r\n    globalState?: GlobalState;\r\n}\r\n\r\nexport class CheckboxPropertyGridComponent extends React.Component<ICheckboxPropertyGridComponentProps> {\r\n    constructor(props: ICheckboxPropertyGridComponentProps) {\r\n        super(props);\r\n    }\r\n\r\n    override render() {\r\n        const checkboxes = this.props.checkboxes;\r\n\r\n        return (\r\n            <div className=\"pane\">\r\n                <CommonControlPropertyGridComponent\r\n                    lockObject={this.props.lockObject}\r\n                    controls={checkboxes}\r\n                    onPropertyChangedObservable={this.props.onPropertyChangedObservable}\r\n                    onFontsParsedObservable={this.props.onFontsParsedObservable}\r\n                    globalState={this.props.globalState}\r\n                />\r\n                <hr />\r\n                <TextLineComponent label=\"CHECKBOX\" value=\" \" color=\"grey\"></TextLineComponent>\r\n                <div className=\"ge-divider\">\r\n                    <IconComponent icon={sizeIcon} label={\"Check Size Ratio\"} />\r\n                    <FloatLineComponent\r\n                        lockObject={this.props.lockObject}\r\n                        label=\" \"\r\n                        target={makeTargetsProxy(checkboxes, this.props.onPropertyChangedObservable)}\r\n                        propertyName=\"checkSizeRatio\"\r\n                        min={0}\r\n                        max={1}\r\n                        arrows={true}\r\n                        step=\"0.01\"\r\n                        digits={2}\r\n                    />\r\n                </div>\r\n                <div className=\"ge-divider\">\r\n                    <IconComponent icon={checkBoxIconDark} label={\"Is Checkbox Checked\"} />\r\n                    <CheckBoxLineComponent\r\n                        label=\"CHECKED\"\r\n                        target={makeTargetsProxy(checkboxes, this.props.onPropertyChangedObservable)}\r\n                        propertyName=\"isChecked\"\r\n                        onPropertyChangedObservable={this.props.onPropertyChangedObservable}\r\n                    />\r\n                </div>\r\n                <div className=\"ge-divider double\">\r\n                    <IconComponent icon={strokeWeightIcon} label={\"Thickness\"} />\r\n                    <FloatLineComponent\r\n                        lockObject={this.props.lockObject}\r\n                        target={makeTargetsProxy(checkboxes, this.props.onPropertyChangedObservable)}\r\n                        propertyName=\"thickness\"\r\n                        label=\"\"\r\n                        unit={<UnitButton unit=\"PX\" locked />}\r\n                        arrows={true}\r\n                        min={0}\r\n                        digits={2}\r\n                    />\r\n                </div>\r\n            </div>\r\n        );\r\n    }\r\n}\r\n","import * as React from \"react\";\r\nimport type { Observable } from \"core/Misc/observable\";\r\nimport type { PropertyChangedEvent } from \"shared-ui-components/propertyChangedEvent\";\r\nimport type { Control } from \"gui/2D/controls/control\";\r\nimport { CommonControlPropertyGridComponent } from \"../gui/commonControlPropertyGridComponent\";\r\nimport type { LockObject } from \"shared-ui-components/tabs/propertyGrids/lockObject\";\r\nimport type { GlobalState } from \"../../../../globalState\";\r\n\r\ninterface IControlPropertyGridComponentProps {\r\n    controls: Control[];\r\n    lockObject: LockObject;\r\n    onPropertyChangedObservable?: Observable<PropertyChangedEvent>;\r\n    onFontsParsedObservable?: Observable<void>;\r\n    globalState?: GlobalState;\r\n}\r\n\r\nexport class ControlPropertyGridComponent extends React.Component<IControlPropertyGridComponentProps> {\r\n    constructor(props: IControlPropertyGridComponentProps) {\r\n        super(props);\r\n    }\r\n\r\n    override render() {\r\n        const controls = this.props.controls;\r\n\r\n        return (\r\n            <div className=\"pane\">\r\n                <CommonControlPropertyGridComponent\r\n                    lockObject={this.props.lockObject}\r\n                    controls={controls}\r\n                    onPropertyChangedObservable={this.props.onPropertyChangedObservable}\r\n                    onFontsParsedObservable={this.props.onFontsParsedObservable}\r\n                    globalState={this.props.globalState}\r\n                />\r\n            </div>\r\n        );\r\n    }\r\n}\r\n","import * as React from \"react\";\r\nimport type { Control } from \"gui/2D/controls/control\";\r\nimport { TextLineComponent } from \"shared-ui-components/lines/textLineComponent\";\r\nimport { FloatLineComponent } from \"shared-ui-components/lines/floatLineComponent\";\r\nimport type { LockObject } from \"shared-ui-components/tabs/propertyGrids/lockObject\";\r\nimport type { PropertyChangedEvent } from \"shared-ui-components/propertyChangedEvent\";\r\nimport type { Observable } from \"core/Misc/observable\";\r\nimport type { Grid } from \"gui/2D/controls/grid\";\r\nimport { Tools } from \"../tools\";\r\nimport { Vector2 } from \"core/Maths/math.vector\";\r\n\r\ninterface IParentingPropertyGridComponentProps {\r\n    control: Control;\r\n    lockObject: LockObject;\r\n    onPropertyChangedObservable?: Observable<PropertyChangedEvent>;\r\n}\r\n\r\nexport class ParentingPropertyGridComponent extends React.Component<IParentingPropertyGridComponentProps> {\r\n    constructor(props: IParentingPropertyGridComponentProps) {\r\n        super(props);\r\n    }\r\n    private _columnNumber: number;\r\n    private _rowNumber: number;\r\n\r\n    updateGridPosition() {\r\n        const grid = this.props.control.parent as Grid;\r\n        if (grid) {\r\n            this._changeCell(grid, this.props.control, new Vector2(this._rowNumber, this._columnNumber));\r\n        }\r\n    }\r\n\r\n    getCellInfo() {\r\n        const cellInfo = Tools.GetCellInfo(this.props.control.parent as Grid, this.props.control);\r\n        this._rowNumber = cellInfo.x;\r\n        this._columnNumber = cellInfo.y;\r\n    }\r\n\r\n    private _changeCell(grid: Grid, draggedControl: Control, newCell: Vector2) {\r\n        const index = grid.children.indexOf(draggedControl);\r\n        grid.removeControl(draggedControl);\r\n        Tools.ReorderGrid(grid, index, draggedControl, newCell);\r\n    }\r\n\r\n    override render() {\r\n        this.getCellInfo();\r\n        return (\r\n            <div className=\"pane\">\r\n                <hr className=\"ge\" />\r\n                <TextLineComponent tooltip=\"\" label=\"GRID PARENTING\" value=\" \" color=\"grey\"></TextLineComponent>\r\n                <div className=\"ge-divider\">\r\n                    <FloatLineComponent\r\n                        lockObject={this.props.lockObject}\r\n                        label={\"Row #\"}\r\n                        target={this}\r\n                        propertyName={\"_rowNumber\"}\r\n                        isInteger={true}\r\n                        min={0}\r\n                        onChange={() => {\r\n                            this.updateGridPosition();\r\n                        }}\r\n                    />\r\n                    <FloatLineComponent\r\n                        lockObject={this.props.lockObject}\r\n                        label={\"Column #\"}\r\n                        target={this}\r\n                        propertyName={\"_columnNumber\"}\r\n                        isInteger={true}\r\n                        min={0}\r\n                        onChange={() => {\r\n                            this.updateGridPosition();\r\n                        }}\r\n                    />\r\n                </div>\r\n            </div>\r\n        );\r\n    }\r\n}\r\n","import * as React from \"react\";\r\nimport type { Observable } from \"core/Misc/observable\";\r\nimport type { PropertyChangedEvent } from \"shared-ui-components/propertyChangedEvent\";\r\nimport { CommonControlPropertyGridComponent } from \"../gui/commonControlPropertyGridComponent\";\r\nimport type { LockObject } from \"shared-ui-components/tabs/propertyGrids/lockObject\";\r\nimport { TextLineComponent } from \"shared-ui-components/lines/textLineComponent\";\r\nimport type { DisplayGrid } from \"gui/2D/controls/displayGrid\";\r\nimport { FloatLineComponent } from \"shared-ui-components/lines/floatLineComponent\";\r\nimport { ColorLine } from \"shared-ui-components/lines/colorLineComponent\";\r\nimport { makeTargetsProxy } from \"shared-ui-components/lines/targetsProxy\";\r\n\r\nimport sizeIcon from \"shared-ui-components/imgs/sizeIcon.svg\";\r\nimport colorIcon from \"shared-ui-components/imgs/colorIcon.svg\";\r\nimport strokeWeightIcon from \"shared-ui-components/imgs/strokeWeightIcon.svg\";\r\nimport displayGridLine1Icon from \"shared-ui-components/imgs/displayGridLine1Icon.svg\";\r\nimport frequencyIcon from \"shared-ui-components/imgs/frequencyIcon.svg\";\r\nimport displayGridLine2Icon from \"shared-ui-components/imgs/displayGridLine2Icon.svg\";\r\nimport { IconComponent } from \"shared-ui-components/lines/iconComponent\";\r\nimport { UnitButton } from \"shared-ui-components/lines/unitButton\";\r\nimport { CheckBoxLineComponent } from \"shared-ui-components/lines/checkBoxLineComponent\";\r\nimport type { GlobalState } from \"../../../../globalState\";\r\n\r\ninterface IDisplayGridPropertyGridComponentProps {\r\n    displayGrids: DisplayGrid[];\r\n    lockObject: LockObject;\r\n    onPropertyChangedObservable?: Observable<PropertyChangedEvent>;\r\n    onFontsParsedObservable?: Observable<void>;\r\n    globalState?: GlobalState;\r\n}\r\n\r\nexport class DisplayGridPropertyGridComponent extends React.Component<IDisplayGridPropertyGridComponentProps> {\r\n    constructor(props: IDisplayGridPropertyGridComponentProps) {\r\n        super(props);\r\n    }\r\n\r\n    override render() {\r\n        const { displayGrids, lockObject, onPropertyChangedObservable } = this.props;\r\n        const proxy = makeTargetsProxy(displayGrids, onPropertyChangedObservable);\r\n\r\n        return (\r\n            <div className=\"pane\">\r\n                <CommonControlPropertyGridComponent\r\n                    lockObject={lockObject}\r\n                    controls={displayGrids}\r\n                    onPropertyChangedObservable={onPropertyChangedObservable}\r\n                    onFontsParsedObservable={this.props.onFontsParsedObservable}\r\n                    globalState={this.props.globalState}\r\n                />\r\n                <hr />\r\n                <TextLineComponent label=\"DISPLAY GRID\" value=\" \" color=\"grey\"></TextLineComponent>\r\n                <div className=\"ge-divider double\">\r\n                    <IconComponent icon={sizeIcon} label=\"Cell Size\" />\r\n                    <FloatLineComponent\r\n                        min={1}\r\n                        isInteger={true}\r\n                        lockObject={lockObject}\r\n                        label=\"W\"\r\n                        target={proxy}\r\n                        propertyName=\"cellWidth\"\r\n                        onPropertyChangedObservable={onPropertyChangedObservable}\r\n                        unit={<UnitButton locked unit=\"PX\" />}\r\n                        arrows\r\n                    />\r\n                    <FloatLineComponent\r\n                        min={1}\r\n                        isInteger={true}\r\n                        lockObject={lockObject}\r\n                        label=\"H\"\r\n                        target={proxy}\r\n                        propertyName=\"cellHeight\"\r\n                        onPropertyChangedObservable={onPropertyChangedObservable}\r\n                        unit={<UnitButton locked unit=\"PX\" />}\r\n                        arrows\r\n                    />\r\n                </div>\r\n                <div className=\"ge-divider\">\r\n                    <IconComponent icon={displayGridLine1Icon} label=\"Show Minor Lines\" />\r\n                    <CheckBoxLineComponent label=\"SHOW MINOR LINES\" onValueChanged={() => this.forceUpdate()} target={proxy} propertyName=\"_displayMinorLines\" />\r\n                </div>\r\n                {proxy._displayMinorLines && (\r\n                    <>\r\n                        <div className=\"ge-divider double\">\r\n                            <IconComponent icon={strokeWeightIcon} label=\"Minor Line Tickness\" />\r\n                            <FloatLineComponent\r\n                                min={1}\r\n                                isInteger={true}\r\n                                lockObject={lockObject}\r\n                                label=\"\"\r\n                                target={proxy}\r\n                                propertyName=\"minorLineTickness\"\r\n                                onPropertyChangedObservable={onPropertyChangedObservable}\r\n                                unit={<UnitButton locked unit=\"PX\" />}\r\n                                arrows\r\n                            />\r\n                        </div>\r\n                        <div className=\"ge-divider\">\r\n                            <IconComponent icon={colorIcon} label=\"Minor Line Color\" />\r\n                            <ColorLine lockObject={lockObject} label=\"\" target={proxy} propertyName=\"minorLineColor\" onPropertyChangedObservable={onPropertyChangedObservable} />\r\n                        </div>\r\n                    </>\r\n                )}\r\n                <div className=\"ge-divider\">\r\n                    <IconComponent icon={displayGridLine2Icon} label=\"Show Major Lines\" />\r\n                    <CheckBoxLineComponent label=\"SHOW MAJOR LINES\" onValueChanged={() => this.forceUpdate()} target={proxy} propertyName=\"_displayMajorLines\" />\r\n                </div>\r\n                {proxy._displayMajorLines && (\r\n                    <>\r\n                        <div className=\"ge-divider double\">\r\n                            <IconComponent icon={strokeWeightIcon} label=\"Major Line Tickness\" />\r\n                            <FloatLineComponent\r\n                                min={1}\r\n                                isInteger={true}\r\n                                lockObject={lockObject}\r\n                                label=\"\"\r\n                                target={proxy}\r\n                                propertyName=\"majorLineTickness\"\r\n                                onPropertyChangedObservable={onPropertyChangedObservable}\r\n                                unit={<UnitButton locked unit=\"PX\" />}\r\n                                arrows\r\n                            />\r\n                        </div>\r\n                        <div className=\"ge-divider\">\r\n                            <IconComponent icon={colorIcon} label=\"Major Line Color\" />\r\n                            <ColorLine lockObject={lockObject} label=\"\" target={proxy} propertyName=\"majorLineColor\" onPropertyChangedObservable={onPropertyChangedObservable} />\r\n                        </div>\r\n                        <div className=\"ge-divider double\">\r\n                            <IconComponent icon={frequencyIcon} label=\"Major Line Frequency\" />\r\n                            <FloatLineComponent\r\n                                min={1}\r\n                                isInteger={true}\r\n                                lockObject={lockObject}\r\n                                label=\"\"\r\n                                target={proxy}\r\n                                propertyName=\"majorLineFrequency\"\r\n                                onPropertyChangedObservable={onPropertyChangedObservable}\r\n                                arrows\r\n                            />\r\n                        </div>\r\n                    </>\r\n                )}\r\n            </div>\r\n        );\r\n    }\r\n}\r\n","import * as React from \"react\";\r\nimport type { Observable } from \"core/Misc/observable\";\r\nimport type { PropertyChangedEvent } from \"shared-ui-components/propertyChangedEvent\";\r\nimport { CommonControlPropertyGridComponent } from \"../gui/commonControlPropertyGridComponent\";\r\nimport type { LockObject } from \"shared-ui-components/tabs/propertyGrids/lockObject\";\r\nimport type { Rectangle } from \"gui/2D/controls/rectangle\";\r\nimport { FloatLineComponent } from \"shared-ui-components/lines/floatLineComponent\";\r\nimport { TextLineComponent } from \"shared-ui-components/lines/textLineComponent\";\r\nimport { UnitButton } from \"shared-ui-components/lines/unitButton\";\r\nimport { CommandButtonComponent } from \"../../../commandButtonComponent\";\r\nimport { makeTargetsProxy } from \"shared-ui-components/lines/targetsProxy\";\r\nimport { ContainerPropertyGridComponent } from \"./containerPropertyGridComponent\";\r\n\r\nimport cornerRadiusIcon from \"shared-ui-components/imgs/conerRadiusIcon.svg\";\r\nimport strokeWeightIcon from \"shared-ui-components/imgs/strokeWeightIcon.svg\";\r\nimport addImageButtonIcon from \"shared-ui-components/imgs/addImageButtonIcon.svg\";\r\nimport addTextButtonIcon from \"shared-ui-components/imgs/addTextButtonIcon.svg\";\r\nimport { IconComponent } from \"shared-ui-components/lines/iconComponent\";\r\nimport type { GlobalState } from \"../../../../globalState\";\r\n\r\ninterface IButtonPropertyGridComponentProps {\r\n    rectangles: Rectangle[];\r\n    lockObject: LockObject;\r\n    onPropertyChangedObservable?: Observable<PropertyChangedEvent>;\r\n    onAddComponent: (newComponent: string) => void;\r\n    onFontsParsedObservable?: Observable<void>;\r\n    globalState?: GlobalState;\r\n}\r\n\r\nexport class ButtonPropertyGridComponent extends React.Component<IButtonPropertyGridComponentProps> {\r\n    constructor(props: IButtonPropertyGridComponentProps) {\r\n        super(props);\r\n    }\r\n\r\n    override render() {\r\n        const { rectangles, lockObject, onPropertyChangedObservable, onAddComponent } = this.props;\r\n        const proxy = makeTargetsProxy(rectangles, onPropertyChangedObservable);\r\n\r\n        return (\r\n            <div className=\"pane\">\r\n                <CommonControlPropertyGridComponent\r\n                    lockObject={lockObject}\r\n                    controls={rectangles}\r\n                    onPropertyChangedObservable={onPropertyChangedObservable}\r\n                    onFontsParsedObservable={this.props.onFontsParsedObservable}\r\n                    globalState={this.props.globalState}\r\n                />\r\n                <hr />\r\n                <TextLineComponent label=\"BUTTON\" value=\" \" color=\"grey\"></TextLineComponent>\r\n                <div className=\"ge-divider\">\r\n                    <CommandButtonComponent\r\n                        tooltip=\"Add TextBlock\"\r\n                        icon={addTextButtonIcon}\r\n                        shortcut=\"\"\r\n                        isActive={false}\r\n                        onClick={() => {\r\n                            onAddComponent(\"Text\");\r\n                        }}\r\n                    />\r\n                    <CommandButtonComponent\r\n                        tooltip=\"Add Image\"\r\n                        icon={addImageButtonIcon}\r\n                        shortcut=\"\"\r\n                        isActive={false}\r\n                        onClick={() => {\r\n                            onAddComponent(\"ButtonImage\");\r\n                        }}\r\n                    />\r\n                </div>\r\n                <div className=\"ge-divider double\">\r\n                    <IconComponent icon={strokeWeightIcon} label={\"Stroke Weight\"} />\r\n                    <FloatLineComponent\r\n                        lockObject={this.props.lockObject}\r\n                        label=\"\"\r\n                        target={proxy}\r\n                        propertyName=\"thickness\"\r\n                        unit={<UnitButton unit=\"PX\" locked />}\r\n                        min={0}\r\n                        digits={2}\r\n                    />\r\n                </div>\r\n                <div className=\"ge-divider double\">\r\n                    <IconComponent icon={cornerRadiusIcon} label={\"Corner Radius\"} />\r\n                    <FloatLineComponent\r\n                        lockObject={lockObject}\r\n                        label=\"\"\r\n                        target={proxy}\r\n                        propertyName=\"cornerRadius\"\r\n                        unit={<UnitButton unit=\"PX\" locked />}\r\n                        arrows={true}\r\n                        min={0}\r\n                        digits={2}\r\n                    />\r\n                </div>\r\n                <ContainerPropertyGridComponent containers={rectangles} onPropertyChangedObservable={onPropertyChangedObservable} />\r\n            </div>\r\n        );\r\n    }\r\n}\r\n","import { Observable } from \"core/Misc/observable\";\r\nimport type { Vector2 } from \"core/Maths/math.vector\";\r\n\r\nimport { Control } from \"./control\";\r\nimport { StackPanel } from \"./stackPanel\";\r\nimport { TextBlock } from \"./textBlock\";\r\nimport { RegisterClass } from \"core/Misc/typeStore\";\r\nimport type { PointerInfoBase } from \"core/Events/pointerEvents\";\r\nimport { serialize } from \"core/Misc/decorators\";\r\nimport type { ICanvasRenderingContext } from \"core/Engines/ICanvas\";\r\n\r\n/**\r\n * Class used to represent a 2D checkbox\r\n */\r\nexport class Checkbox extends Control {\r\n    private _isChecked = false;\r\n    private _background = \"black\";\r\n    private _checkSizeRatio = 0.8;\r\n    private _thickness = 1;\r\n\r\n    /** Gets or sets border thickness  */\r\n    @serialize()\r\n    public get thickness(): number {\r\n        return this._thickness;\r\n    }\r\n\r\n    public set thickness(value: number) {\r\n        if (this._thickness === value) {\r\n            return;\r\n        }\r\n\r\n        this._thickness = value;\r\n        this._markAsDirty();\r\n    }\r\n\r\n    /**\r\n     * Observable raised when isChecked property changes\r\n     */\r\n    public onIsCheckedChangedObservable = new Observable<boolean>();\r\n\r\n    /** Gets or sets a value indicating the ratio between overall size and check size */\r\n    @serialize()\r\n    public get checkSizeRatio(): number {\r\n        return this._checkSizeRatio;\r\n    }\r\n\r\n    public set checkSizeRatio(value: number) {\r\n        value = Math.max(Math.min(1, value), 0);\r\n\r\n        if (this._checkSizeRatio === value) {\r\n            return;\r\n        }\r\n\r\n        this._checkSizeRatio = value;\r\n        this._markAsDirty();\r\n    }\r\n\r\n    /** Gets or sets background color */\r\n    @serialize()\r\n    public get background(): string {\r\n        return this._background;\r\n    }\r\n\r\n    public set background(value: string) {\r\n        if (this._background === value) {\r\n            return;\r\n        }\r\n\r\n        this._background = value;\r\n        this._markAsDirty();\r\n    }\r\n\r\n    /** Gets or sets a boolean indicating if the checkbox is checked or not */\r\n    @serialize()\r\n    public get isChecked(): boolean {\r\n        return this._isChecked;\r\n    }\r\n\r\n    public set isChecked(value: boolean) {\r\n        if (this._isChecked === value) {\r\n            return;\r\n        }\r\n\r\n        this._isChecked = value;\r\n        this._markAsDirty();\r\n\r\n        this.onIsCheckedChangedObservable.notifyObservers(value);\r\n    }\r\n\r\n    /**\r\n     * Creates a new CheckBox\r\n     * @param name defines the control name\r\n     */\r\n    constructor(public override name?: string) {\r\n        super(name);\r\n        this.isPointerBlocker = true;\r\n    }\r\n\r\n    protected override _getTypeName(): string {\r\n        return \"Checkbox\";\r\n    }\r\n\r\n    /**\r\n     * @internal\r\n     */\r\n    public override _draw(context: ICanvasRenderingContext): void {\r\n        context.save();\r\n\r\n        this._applyStates(context);\r\n        const actualWidth = this._currentMeasure.width - this._thickness;\r\n        const actualHeight = this._currentMeasure.height - this._thickness;\r\n\r\n        if (this.shadowBlur || this.shadowOffsetX || this.shadowOffsetY) {\r\n            context.shadowColor = this.shadowColor;\r\n            context.shadowBlur = this.shadowBlur;\r\n            context.shadowOffsetX = this.shadowOffsetX * this._host.idealRatio;\r\n            context.shadowOffsetY = this.shadowOffsetY * this._host.idealRatio;\r\n        }\r\n\r\n        context.fillStyle = this._isEnabled ? this._background : this._disabledColor;\r\n        context.fillRect(this._currentMeasure.left + this._thickness / 2, this._currentMeasure.top + this._thickness / 2, actualWidth, actualHeight);\r\n\r\n        if (this.shadowBlur || this.shadowOffsetX || this.shadowOffsetY) {\r\n            context.shadowBlur = 0;\r\n            context.shadowOffsetX = 0;\r\n            context.shadowOffsetY = 0;\r\n        }\r\n\r\n        if (this._isChecked) {\r\n            // Color is white if not set\r\n            context.fillStyle = this._isEnabled ? (this.color ? this.color : \"#ffffff\") : this._disabledColorItem;\r\n            const offsetWidth = actualWidth * this._checkSizeRatio;\r\n            const offsetHeight = actualHeight * this._checkSizeRatio;\r\n\r\n            context.fillRect(\r\n                this._currentMeasure.left + this._thickness / 2 + (actualWidth - offsetWidth) / 2,\r\n                this._currentMeasure.top + this._thickness / 2 + (actualHeight - offsetHeight) / 2,\r\n                offsetWidth,\r\n                offsetHeight\r\n            );\r\n        }\r\n\r\n        context.strokeStyle = this.color;\r\n        context.lineWidth = this._thickness;\r\n\r\n        context.strokeRect(this._currentMeasure.left + this._thickness / 2, this._currentMeasure.top + this._thickness / 2, actualWidth, actualHeight);\r\n\r\n        context.restore();\r\n    }\r\n\r\n    // Events\r\n\r\n    /**\r\n     * @internal\r\n     */\r\n    public override _onPointerDown(target: Control, coordinates: Vector2, pointerId: number, buttonIndex: number, pi: PointerInfoBase): boolean {\r\n        if (!super._onPointerDown(target, coordinates, pointerId, buttonIndex, pi)) {\r\n            return false;\r\n        }\r\n\r\n        if (!this.isReadOnly) {\r\n            this.isChecked = !this.isChecked;\r\n        }\r\n\r\n        return true;\r\n    }\r\n\r\n    /**\r\n     * Utility function to easily create a checkbox with a header\r\n     * @param title defines the label to use for the header\r\n     * @param onValueChanged defines the callback to call when value changes\r\n     * @returns a StackPanel containing the checkbox and a textBlock\r\n     */\r\n    public static AddCheckBoxWithHeader(title: string, onValueChanged: (value: boolean) => void): StackPanel {\r\n        const panel = new StackPanel();\r\n        panel.isVertical = false;\r\n        panel.height = \"30px\";\r\n\r\n        const checkbox = new Checkbox();\r\n        checkbox.width = \"20px\";\r\n        checkbox.height = \"20px\";\r\n        checkbox.isChecked = true;\r\n        checkbox.color = \"green\";\r\n        checkbox.onIsCheckedChangedObservable.add(onValueChanged);\r\n        panel.addControl(checkbox);\r\n\r\n        const header = new TextBlock();\r\n        header.text = title;\r\n        header.width = \"180px\";\r\n        header.paddingLeft = \"5px\";\r\n        header.textHorizontalAlignment = Control.HORIZONTAL_ALIGNMENT_LEFT;\r\n        header.color = \"white\";\r\n        panel.addControl(header);\r\n\r\n        return panel;\r\n    }\r\n}\r\nRegisterClass(\"BABYLON.GUI.Checkbox\", Checkbox);\r\n","/** @internal */\r\nexport class TextWrapper {\r\n    private _text: string;\r\n    private _characters: string[] | undefined;\r\n\r\n    public get text(): string {\r\n        return this._characters ? this._characters.join(\"\") : this._text;\r\n    }\r\n\r\n    public set text(txt: string) {\r\n        this._text = txt;\r\n        this._characters = Array.from && Array.from(txt);\r\n    }\r\n\r\n    public get length(): number {\r\n        return this._characters ? this._characters.length : this._text.length;\r\n    }\r\n\r\n    public removePart(idxStart: number, idxEnd: number, insertTxt?: string): void {\r\n        this._text = this._text.slice(0, idxStart) + (insertTxt ? insertTxt : \"\") + this._text.slice(idxEnd);\r\n        if (this._characters) {\r\n            const newCharacters = insertTxt ? Array.from(insertTxt) : [];\r\n            this._characters.splice(idxStart, idxEnd - idxStart, ...newCharacters);\r\n        }\r\n    }\r\n\r\n    public charAt(idx: number): string {\r\n        return this._characters ? this._characters[idx] : this._text.charAt(idx);\r\n    }\r\n\r\n    public substr(from: number, length?: number): string {\r\n        if (this._characters) {\r\n            if (isNaN(from)) {\r\n                from = 0;\r\n            } else if (from >= 0) {\r\n                from = Math.min(from, this._characters.length);\r\n            } else {\r\n                from = this._characters.length + Math.max(from, -this._characters.length);\r\n            }\r\n            if (length === undefined) {\r\n                length = this._characters.length - from;\r\n            } else if (isNaN(length)) {\r\n                length = 0;\r\n            } else if (length < 0) {\r\n                length = 0;\r\n            }\r\n            const temp = [];\r\n            while (--length >= 0) {\r\n                temp[length] = this._characters[from + length];\r\n            }\r\n            return temp.join(\"\");\r\n        }\r\n\r\n        return this._text.substring(from, length ? length + from : undefined);\r\n    }\r\n\r\n    public substring(from: number, to?: number): string {\r\n        if (this._characters) {\r\n            if (isNaN(from)) {\r\n                from = 0;\r\n            } else if (from > this._characters.length) {\r\n                from = this._characters.length;\r\n            } else if (from < 0) {\r\n                from = 0;\r\n            }\r\n            if (to === undefined) {\r\n                to = this._characters.length;\r\n            } else if (isNaN(to)) {\r\n                to = 0;\r\n            } else if (to > this._characters.length) {\r\n                to = this._characters.length;\r\n            } else if (to < 0) {\r\n                to = 0;\r\n            }\r\n            const temp = [];\r\n            let idx = 0;\r\n            while (from < to) {\r\n                temp[idx++] = this._characters[from++];\r\n            }\r\n            return temp.join(\"\");\r\n        }\r\n\r\n        return this._text.substring(from, to);\r\n    }\r\n\r\n    public isWord(index: number): boolean {\r\n        const rWord = /\\w/g;\r\n        return this._characters ? this._characters[index].search(rWord) !== -1 : this._text.search(rWord) !== -1;\r\n    }\r\n}\r\n","import type { Nullable } from \"core/types\";\r\nimport type { Observer } from \"core/Misc/observable\";\r\nimport { Observable } from \"core/Misc/observable\";\r\nimport type { Vector2 } from \"core/Maths/math.vector\";\r\nimport type { ClipboardInfo } from \"core/Events/clipboardEvents\";\r\nimport { ClipboardEventTypes } from \"core/Events/clipboardEvents\";\r\nimport type { PointerInfo, PointerInfoBase } from \"core/Events/pointerEvents\";\r\nimport { PointerEventTypes } from \"core/Events/pointerEvents\";\r\n\r\nimport { Control } from \"./control\";\r\nimport { ValueAndUnit } from \"../valueAndUnit\";\r\nimport type { VirtualKeyboard } from \"./virtualKeyboard\";\r\nimport { RegisterClass } from \"core/Misc/typeStore\";\r\nimport { TextWrapper } from \"./textWrapper\";\r\nimport { serialize } from \"core/Misc/decorators\";\r\nimport type { IKeyboardEvent, IPointerEvent } from \"core/Events/deviceInputEvents\";\r\nimport type { ICanvasRenderingContext } from \"core/Engines/ICanvas\";\r\n\r\n/**\r\n * Class used to create input text control\r\n */\r\nexport class InputText extends Control {\r\n    protected _textWrapper: TextWrapper;\r\n    protected _placeholderText = \"\";\r\n    protected _background = \"#222222\";\r\n    protected _focusedBackground = \"#000000\";\r\n    protected _placeholderColor = \"gray\";\r\n    protected _thickness = 1;\r\n    protected _margin = new ValueAndUnit(10, ValueAndUnit.UNITMODE_PIXEL);\r\n    protected _autoStretchWidth = true;\r\n    protected _maxWidth = new ValueAndUnit(1, ValueAndUnit.UNITMODE_PERCENTAGE, false);\r\n    /** the type of device that most recently focused the input: \"mouse\", \"touch\" or \"pen\" */\r\n    protected _focusedBy: string;\r\n    protected _blinkTimeout: number;\r\n    protected _blinkIsEven = false;\r\n    private _cursorOffset = 0;\r\n    protected _scrollLeft: Nullable<number>;\r\n    protected _textWidth: number;\r\n    protected _clickedCoordinate: Nullable<number>;\r\n    protected _deadKey = false;\r\n    protected _addKey = true;\r\n    protected _currentKey = \"\";\r\n    protected _isTextHighlightOn = false;\r\n    protected _textHighlightColor = \"#d5e0ff\";\r\n    protected _highlighterOpacity = 0.4;\r\n    protected _highlightedText = \"\";\r\n    private _startHighlightIndex = 0;\r\n    private _endHighlightIndex = 0;\r\n    private _cursorIndex = -1;\r\n    private _outlineWidth: number = 0;\r\n    private _outlineColor: string = \"white\";\r\n    protected _onFocusSelectAll = false;\r\n    protected _isPointerDown = false;\r\n    protected _onClipboardObserver: Nullable<Observer<ClipboardInfo>>;\r\n    protected _onPointerDblTapObserver: Nullable<Observer<PointerInfo>>;\r\n\r\n    /** @internal */\r\n    public _connectedVirtualKeyboard: Nullable<VirtualKeyboard>;\r\n\r\n    /** Gets or sets a string representing the message displayed on mobile when the control gets the focus */\r\n    @serialize()\r\n    public promptMessage = \"Please enter text:\";\r\n    /** Force disable prompt on mobile device */\r\n    @serialize()\r\n    public disableMobilePrompt = false;\r\n\r\n    /**\r\n     * Gets or sets outlineWidth of the text to display\r\n     */\r\n    public get outlineWidth(): number {\r\n        return this._outlineWidth;\r\n    }\r\n\r\n    public set outlineWidth(value: number) {\r\n        if (this._outlineWidth === value) {\r\n            return;\r\n        }\r\n        this._outlineWidth = value;\r\n        this._markAsDirty();\r\n    }\r\n\r\n    /**\r\n     * Gets or sets outlineColor of the text to display\r\n     */\r\n    public get outlineColor(): string {\r\n        return this._outlineColor;\r\n    }\r\n\r\n    public set outlineColor(value: string) {\r\n        if (this._outlineColor === value) {\r\n            return;\r\n        }\r\n        this._outlineColor = value;\r\n        this._markAsDirty();\r\n    }\r\n\r\n    /** Observable raised when the text changes */\r\n    public onTextChangedObservable = new Observable<InputText>();\r\n    /** Observable raised just before an entered character is to be added */\r\n    public onBeforeKeyAddObservable = new Observable<InputText>();\r\n    /** Observable raised when the text is highlighted */\r\n    public onTextHighlightObservable = new Observable<InputText>();\r\n    /** Observable raised when copy event is triggered */\r\n    public onTextCopyObservable = new Observable<InputText>();\r\n    /** Observable raised when cut event is triggered */\r\n    public onTextCutObservable = new Observable<InputText>();\r\n    /** Observable raised when paste event is triggered */\r\n    public onTextPasteObservable = new Observable<InputText>();\r\n\r\n    /** Gets or sets the maximum width allowed by the control */\r\n    @serialize()\r\n    public get maxWidth(): string | number {\r\n        return this._maxWidth.toString(this._host);\r\n    }\r\n\r\n    /** Gets the maximum width allowed by the control in pixels */\r\n    public get maxWidthInPixels(): number {\r\n        return this._maxWidth.getValueInPixel(this._host, this._cachedParentMeasure.width);\r\n    }\r\n\r\n    public set maxWidth(value: string | number) {\r\n        if (this._maxWidth.toString(this._host) === value) {\r\n            return;\r\n        }\r\n\r\n        if (this._maxWidth.fromString(value)) {\r\n            this._markAsDirty();\r\n        }\r\n    }\r\n\r\n    /**\r\n     * Gets or sets the text highlighter transparency; default: 0.4\r\n     * @deprecated Please use highlighterOpacity instead\r\n     */\r\n    @serialize()\r\n    public get highligherOpacity(): number {\r\n        return this.highlighterOpacity;\r\n    }\r\n\r\n    public set highligherOpacity(value: number) {\r\n        this.highlighterOpacity = value;\r\n    }\r\n\r\n    /**\r\n     * Gets or sets the text highlighter transparency; default: 0.4\r\n     */\r\n    @serialize()\r\n    public get highlighterOpacity(): number {\r\n        return this._highlighterOpacity;\r\n    }\r\n\r\n    public set highlighterOpacity(value: number) {\r\n        if (this._highlighterOpacity === value) {\r\n            return;\r\n        }\r\n        this._highlighterOpacity = value;\r\n        this._markAsDirty();\r\n    }\r\n\r\n    /** Gets or sets a boolean indicating whether to select complete text by default on input focus */\r\n    @serialize()\r\n    public get onFocusSelectAll(): boolean {\r\n        return this._onFocusSelectAll;\r\n    }\r\n\r\n    public set onFocusSelectAll(value: boolean) {\r\n        if (this._onFocusSelectAll === value) {\r\n            return;\r\n        }\r\n\r\n        this._onFocusSelectAll = value;\r\n        this._markAsDirty();\r\n    }\r\n\r\n    /** Gets or sets the text hightlight color */\r\n    @serialize()\r\n    public get textHighlightColor(): string {\r\n        return this._textHighlightColor;\r\n    }\r\n\r\n    public set textHighlightColor(value: string) {\r\n        if (this._textHighlightColor === value) {\r\n            return;\r\n        }\r\n        this._textHighlightColor = value;\r\n        this._markAsDirty();\r\n    }\r\n\r\n    /** Gets or sets control margin */\r\n    @serialize()\r\n    public get margin(): string {\r\n        return this._margin.toString(this._host);\r\n    }\r\n\r\n    /** Gets control margin in pixels */\r\n    public get marginInPixels(): number {\r\n        return this._margin.getValueInPixel(this._host, this._cachedParentMeasure.width);\r\n    }\r\n\r\n    public set margin(value: string) {\r\n        if (this._margin.toString(this._host) === value) {\r\n            return;\r\n        }\r\n\r\n        if (this._margin.fromString(value)) {\r\n            this._markAsDirty();\r\n        }\r\n    }\r\n\r\n    /** Gets or sets a boolean indicating if the control can auto stretch its width to adapt to the text */\r\n    @serialize()\r\n    public get autoStretchWidth(): boolean {\r\n        return this._autoStretchWidth;\r\n    }\r\n\r\n    public set autoStretchWidth(value: boolean) {\r\n        if (this._autoStretchWidth === value) {\r\n            return;\r\n        }\r\n\r\n        this._autoStretchWidth = value;\r\n        this._markAsDirty();\r\n    }\r\n\r\n    /** Gets or sets border thickness */\r\n    @serialize()\r\n    public get thickness(): number {\r\n        return this._thickness;\r\n    }\r\n\r\n    public set thickness(value: number) {\r\n        if (this._thickness === value) {\r\n            return;\r\n        }\r\n\r\n        this._thickness = value;\r\n        this._markAsDirty();\r\n    }\r\n\r\n    /** Gets or sets the background color when focused */\r\n    @serialize()\r\n    public get focusedBackground(): string {\r\n        return this._focusedBackground;\r\n    }\r\n\r\n    public set focusedBackground(value: string) {\r\n        if (this._focusedBackground === value) {\r\n            return;\r\n        }\r\n\r\n        this._focusedBackground = value;\r\n        this._markAsDirty();\r\n    }\r\n\r\n    /** Gets or sets the background color when focused */\r\n    public override set focusedColor(value: string) {\r\n        if (this._focusedColor === value) {\r\n            return;\r\n        }\r\n\r\n        this._focusedColor = value;\r\n        this._markAsDirty();\r\n    }\r\n\r\n    /** Gets or sets the background color */\r\n    @serialize()\r\n    public get background(): string {\r\n        return this._background;\r\n    }\r\n\r\n    public set background(value: string) {\r\n        if (this._background === value) {\r\n            return;\r\n        }\r\n\r\n        this._background = value;\r\n        this._markAsDirty();\r\n    }\r\n\r\n    /** Gets or sets the placeholder color */\r\n    @serialize()\r\n    public get placeholderColor(): string {\r\n        return this._placeholderColor;\r\n    }\r\n\r\n    public set placeholderColor(value: string) {\r\n        if (this._placeholderColor === value) {\r\n            return;\r\n        }\r\n\r\n        this._placeholderColor = value;\r\n        this._markAsDirty();\r\n    }\r\n\r\n    /** Gets or sets the text displayed when the control is empty */\r\n    @serialize()\r\n    public get placeholderText(): string {\r\n        return this._placeholderText;\r\n    }\r\n\r\n    public set placeholderText(value: string) {\r\n        if (this._placeholderText === value) {\r\n            return;\r\n        }\r\n        this._placeholderText = value;\r\n        this._markAsDirty();\r\n    }\r\n\r\n    /** Gets or sets the dead key. 0 to disable. */\r\n    @serialize()\r\n    public get deadKey(): boolean {\r\n        return this._deadKey;\r\n    }\r\n\r\n    public set deadKey(flag: boolean) {\r\n        this._deadKey = flag;\r\n    }\r\n\r\n    /** Gets or sets the highlight text */\r\n    public get highlightedText(): string {\r\n        return this._highlightedText;\r\n    }\r\n    public set highlightedText(text: string) {\r\n        if (this._highlightedText === text) {\r\n            return;\r\n        }\r\n        this._highlightedText = text;\r\n        this._markAsDirty();\r\n    }\r\n\r\n    /** Gets or sets if the current key should be added */\r\n    public get addKey(): boolean {\r\n        return this._addKey;\r\n    }\r\n\r\n    public set addKey(flag: boolean) {\r\n        this._addKey = flag;\r\n    }\r\n\r\n    /** Gets or sets the value of the current key being entered */\r\n    public get currentKey(): string {\r\n        return this._currentKey;\r\n    }\r\n\r\n    public set currentKey(key: string) {\r\n        this._currentKey = key;\r\n    }\r\n\r\n    /** Gets or sets the text displayed in the control */\r\n    @serialize()\r\n    public get text(): string {\r\n        return this._textWrapper.text;\r\n    }\r\n\r\n    public set text(value: string) {\r\n        const valueAsString = value.toString(); // Forcing convertion\r\n\r\n        if (!this._textWrapper) {\r\n            this._textWrapper = new TextWrapper();\r\n        }\r\n\r\n        if (this._textWrapper.text === valueAsString) {\r\n            return;\r\n        }\r\n        this._textWrapper.text = valueAsString;\r\n        this._textHasChanged();\r\n    }\r\n\r\n    protected _textHasChanged(): void {\r\n        this._markAsDirty();\r\n        this.onTextChangedObservable.notifyObservers(this);\r\n    }\r\n\r\n    protected override _applyStates(context: ICanvasRenderingContext): void {\r\n        super._applyStates(context);\r\n        if (this.outlineWidth) {\r\n            context.lineWidth = this.outlineWidth;\r\n            context.strokeStyle = this.outlineColor;\r\n        }\r\n    }\r\n\r\n    /** Gets or sets control width */\r\n    @serialize()\r\n    public override get width(): string | number {\r\n        return this._width.toString(this._host);\r\n    }\r\n\r\n    public override set width(value: string | number) {\r\n        if (this._width.toString(this._host) === value && !this._autoStretchWidth) {\r\n            return;\r\n        }\r\n\r\n        if (this._width.fromString(value)) {\r\n            this._markAsDirty();\r\n        }\r\n\r\n        this.autoStretchWidth = false;\r\n    }\r\n\r\n    /**\r\n     * Creates a new InputText\r\n     * @param name defines the control name\r\n     * @param text defines the text of the control\r\n     */\r\n    constructor(\r\n        public override name?: string,\r\n        text: string = \"\"\r\n    ) {\r\n        super(name);\r\n\r\n        this.text = text;\r\n        this.isPointerBlocker = true;\r\n        this._focusedColor = \"white\";\r\n    }\r\n\r\n    /** @internal */\r\n    public override onBlur(): void {\r\n        this._isFocused = false;\r\n        this._scrollLeft = null;\r\n        this._cursorOffset = 0;\r\n        clearTimeout(this._blinkTimeout);\r\n        this._markAsDirty();\r\n\r\n        this.onBlurObservable.notifyObservers(this);\r\n\r\n        this._host.unRegisterClipboardEvents();\r\n        if (this._onClipboardObserver) {\r\n            this._host.onClipboardObservable.remove(this._onClipboardObserver);\r\n        }\r\n        const scene = this._host.getScene();\r\n        if (this._onPointerDblTapObserver && scene) {\r\n            scene.onPointerObservable.remove(this._onPointerDblTapObserver);\r\n        }\r\n    }\r\n\r\n    /** @internal */\r\n    public override onFocus(): void {\r\n        if (!this._isEnabled) {\r\n            return;\r\n        }\r\n        this._scrollLeft = null;\r\n        this._isFocused = true;\r\n        this._blinkIsEven = false;\r\n        this._cursorOffset = 0;\r\n        this._markAsDirty();\r\n\r\n        this.onFocusObservable.notifyObservers(this as Control);\r\n\r\n        if (this._focusedBy === \"touch\" && !this.disableMobilePrompt) {\r\n            const value = prompt(this.promptMessage);\r\n\r\n            if (value !== null) {\r\n                this.text = value;\r\n            }\r\n            this._host.focusedControl = null;\r\n            return;\r\n        }\r\n\r\n        this._host.registerClipboardEvents();\r\n\r\n        this._onClipboardObserver = this._host.onClipboardObservable.add((clipboardInfo) => {\r\n            // process clipboard event, can be configured.\r\n            switch (clipboardInfo.type) {\r\n                case ClipboardEventTypes.COPY:\r\n                    this._onCopyText(clipboardInfo.event);\r\n                    this.onTextCopyObservable.notifyObservers(this);\r\n                    break;\r\n                case ClipboardEventTypes.CUT:\r\n                    this._onCutText(clipboardInfo.event);\r\n                    this.onTextCutObservable.notifyObservers(this);\r\n                    break;\r\n                case ClipboardEventTypes.PASTE:\r\n                    this._onPasteText(clipboardInfo.event);\r\n                    this.onTextPasteObservable.notifyObservers(this);\r\n                    break;\r\n                default:\r\n                    return;\r\n            }\r\n        });\r\n\r\n        const scene = this._host.getScene();\r\n        if (scene) {\r\n            //register the pointer double tap event\r\n            this._onPointerDblTapObserver = scene.onPointerObservable.add((pointerInfo) => {\r\n                if (!this._isFocused) {\r\n                    return;\r\n                }\r\n                if (pointerInfo.type === PointerEventTypes.POINTERDOUBLETAP) {\r\n                    this._processDblClick(pointerInfo);\r\n                }\r\n            });\r\n        }\r\n\r\n        if (this._onFocusSelectAll) {\r\n            this.selectAllText();\r\n        }\r\n    }\r\n\r\n    protected override _getTypeName(): string {\r\n        return \"InputText\";\r\n    }\r\n\r\n    /**\r\n     * Function called to get the list of controls that should not steal the focus from this control\r\n     * @returns an array of controls\r\n     */\r\n    public override keepsFocusWith(): Nullable<Control[]> {\r\n        if (!this._connectedVirtualKeyboard) {\r\n            return null;\r\n        }\r\n        return [this._connectedVirtualKeyboard];\r\n    }\r\n\r\n    /**\r\n     * @internal\r\n     */\r\n    public processKey(keyCode: number, key?: string, evt?: IKeyboardEvent) {\r\n        if (this.isReadOnly) {\r\n            return;\r\n        }\r\n\r\n        //return if clipboard event keys (i.e -ctr/cmd + c,v,x)\r\n        if (evt && (evt.ctrlKey || evt.metaKey) && (keyCode === 67 || keyCode === 86 || keyCode === 88)) {\r\n            return;\r\n        }\r\n\r\n        //select all\r\n        if (evt && (evt.ctrlKey || evt.metaKey) && keyCode === 65) {\r\n            this.selectAllText();\r\n            evt.preventDefault();\r\n            return;\r\n        }\r\n        // Specific cases\r\n        switch (keyCode) {\r\n            case 32: //SPACE\r\n                key = \" \"; //ie11 key for space is \"Spacebar\"\r\n                break;\r\n            case 191: //SLASH\r\n                if (evt) {\r\n                    evt.preventDefault();\r\n                }\r\n                break;\r\n            case 8: // BACKSPACE\r\n                if (this._textWrapper.text && this._textWrapper.length > 0) {\r\n                    //delete the highlighted text\r\n                    if (this.isTextHighlightOn) {\r\n                        this._textWrapper.removePart(this._startHighlightIndex, this._endHighlightIndex);\r\n                        this._textHasChanged();\r\n                        this.isTextHighlightOn = false;\r\n                        this._cursorOffset = this._textWrapper.length - this._startHighlightIndex;\r\n                        this._blinkIsEven = false;\r\n                        if (evt) {\r\n                            evt.preventDefault();\r\n                        }\r\n                        return;\r\n                    }\r\n                    //delete single character\r\n                    if (this._cursorOffset === 0) {\r\n                        this.text = this._textWrapper.substring(0, this._textWrapper.length - 1);\r\n                    } else {\r\n                        const deletePosition = this._textWrapper.length - this._cursorOffset;\r\n                        if (deletePosition > 0) {\r\n                            this._textWrapper.removePart(deletePosition - 1, deletePosition);\r\n                            this._textHasChanged();\r\n                        }\r\n                    }\r\n                }\r\n                if (evt) {\r\n                    evt.preventDefault();\r\n                }\r\n                return;\r\n            case 46: // DELETE\r\n                if (this.isTextHighlightOn) {\r\n                    this._textWrapper.removePart(this._startHighlightIndex, this._endHighlightIndex);\r\n                    this._textHasChanged();\r\n                    this.isTextHighlightOn = false;\r\n                    this._cursorOffset = this._textWrapper.length - this._startHighlightIndex;\r\n                    if (evt) {\r\n                        evt.preventDefault();\r\n                    }\r\n                    return;\r\n                }\r\n                if (this._textWrapper.text && this._textWrapper.length > 0 && this._cursorOffset > 0) {\r\n                    const deletePosition = this._textWrapper.length - this._cursorOffset;\r\n                    this._textWrapper.removePart(deletePosition, deletePosition + 1);\r\n                    this._textHasChanged();\r\n                    this._cursorOffset--;\r\n                }\r\n                if (evt) {\r\n                    evt.preventDefault();\r\n                }\r\n                return;\r\n            case 13: // RETURN\r\n                this._host.focusedControl = null;\r\n                this.isTextHighlightOn = false;\r\n                return;\r\n            case 35: // END\r\n                this._cursorOffset = 0;\r\n                this._blinkIsEven = false;\r\n                this.isTextHighlightOn = false;\r\n                this._markAsDirty();\r\n                return;\r\n            case 36: // HOME\r\n                this._cursorOffset = this._textWrapper.length;\r\n                this._blinkIsEven = false;\r\n                this.isTextHighlightOn = false;\r\n                this._markAsDirty();\r\n                return;\r\n            case 37: // LEFT\r\n                this._cursorOffset++;\r\n                if (this._cursorOffset > this._textWrapper.length) {\r\n                    this._cursorOffset = this._textWrapper.length;\r\n                }\r\n\r\n                if (evt && evt.shiftKey) {\r\n                    // update the cursor\r\n                    this._blinkIsEven = false;\r\n                    // shift + ctrl/cmd + <-\r\n                    if (evt.ctrlKey || evt.metaKey) {\r\n                        if (!this.isTextHighlightOn) {\r\n                            if (this._textWrapper.length === this._cursorOffset) {\r\n                                return;\r\n                            } else {\r\n                                this._endHighlightIndex = this._textWrapper.length - this._cursorOffset + 1;\r\n                            }\r\n                        }\r\n                        this._startHighlightIndex = 0;\r\n                        this._cursorIndex = this._textWrapper.length - this._endHighlightIndex;\r\n                        this._cursorOffset = this._textWrapper.length;\r\n                        this.isTextHighlightOn = true;\r\n                        this._markAsDirty();\r\n                        return;\r\n                    }\r\n                    //store the starting point\r\n                    if (!this.isTextHighlightOn) {\r\n                        this.isTextHighlightOn = true;\r\n                        this._cursorIndex = this._cursorOffset >= this._textWrapper.length ? this._textWrapper.length : this._cursorOffset - 1;\r\n                    }\r\n                    //if text is already highlighted\r\n                    else if (this._cursorIndex === -1) {\r\n                        this._cursorIndex = this._textWrapper.length - this._endHighlightIndex;\r\n                        this._cursorOffset = this._startHighlightIndex === 0 ? this._textWrapper.length : this._textWrapper.length - this._startHighlightIndex + 1;\r\n                    }\r\n                    //set the highlight indexes\r\n                    if (this._cursorIndex < this._cursorOffset) {\r\n                        this._endHighlightIndex = this._textWrapper.length - this._cursorIndex;\r\n                        this._startHighlightIndex = this._textWrapper.length - this._cursorOffset;\r\n                    } else if (this._cursorIndex > this._cursorOffset) {\r\n                        this._endHighlightIndex = this._textWrapper.length - this._cursorOffset;\r\n                        this._startHighlightIndex = this._textWrapper.length - this._cursorIndex;\r\n                    } else {\r\n                        this.isTextHighlightOn = false;\r\n                    }\r\n                    this._markAsDirty();\r\n                    return;\r\n                }\r\n                if (this.isTextHighlightOn) {\r\n                    this._cursorOffset = this._textWrapper.length - this._startHighlightIndex;\r\n                    this.isTextHighlightOn = false;\r\n                }\r\n                if (evt && (evt.ctrlKey || evt.metaKey)) {\r\n                    this._cursorOffset = this._textWrapper.length;\r\n                    evt.preventDefault();\r\n                }\r\n                this._blinkIsEven = false;\r\n                this.isTextHighlightOn = false;\r\n                this._cursorIndex = -1;\r\n                this._markAsDirty();\r\n                return;\r\n            case 39: // RIGHT\r\n                this._cursorOffset--;\r\n                if (this._cursorOffset < 0) {\r\n                    this._cursorOffset = 0;\r\n                }\r\n                if (evt && evt.shiftKey) {\r\n                    //update the cursor\r\n                    this._blinkIsEven = false;\r\n                    //shift + ctrl/cmd + ->\r\n                    if (evt.ctrlKey || evt.metaKey) {\r\n                        if (!this.isTextHighlightOn) {\r\n                            if (this._cursorOffset === 0) {\r\n                                return;\r\n                            } else {\r\n                                this._startHighlightIndex = this._textWrapper.length - this._cursorOffset - 1;\r\n                            }\r\n                        }\r\n                        this._endHighlightIndex = this._textWrapper.length;\r\n                        this.isTextHighlightOn = true;\r\n                        this._cursorIndex = this._textWrapper.length - this._startHighlightIndex;\r\n                        this._cursorOffset = 0;\r\n                        this._markAsDirty();\r\n                        return;\r\n                    }\r\n\r\n                    if (!this.isTextHighlightOn) {\r\n                        this.isTextHighlightOn = true;\r\n                        this._cursorIndex = this._cursorOffset <= 0 ? 0 : this._cursorOffset + 1;\r\n                    }\r\n                    //if text is already highlighted\r\n                    else if (this._cursorIndex === -1) {\r\n                        this._cursorIndex = this._textWrapper.length - this._startHighlightIndex;\r\n                        this._cursorOffset = this._textWrapper.length === this._endHighlightIndex ? 0 : this._textWrapper.length - this._endHighlightIndex - 1;\r\n                    }\r\n                    //set the highlight indexes\r\n                    if (this._cursorIndex < this._cursorOffset) {\r\n                        this._endHighlightIndex = this._textWrapper.length - this._cursorIndex;\r\n                        this._startHighlightIndex = this._textWrapper.length - this._cursorOffset;\r\n                    } else if (this._cursorIndex > this._cursorOffset) {\r\n                        this._endHighlightIndex = this._textWrapper.length - this._cursorOffset;\r\n                        this._startHighlightIndex = this._textWrapper.length - this._cursorIndex;\r\n                    } else {\r\n                        this.isTextHighlightOn = false;\r\n                    }\r\n                    this._markAsDirty();\r\n                    return;\r\n                }\r\n                if (this.isTextHighlightOn) {\r\n                    this._cursorOffset = this._textWrapper.length - this._endHighlightIndex;\r\n                    this.isTextHighlightOn = false;\r\n                }\r\n                //ctr + ->\r\n                if (evt && (evt.ctrlKey || evt.metaKey)) {\r\n                    this._cursorOffset = 0;\r\n                    evt.preventDefault();\r\n                }\r\n                this._blinkIsEven = false;\r\n                this.isTextHighlightOn = false;\r\n                this._cursorIndex = -1;\r\n                this._markAsDirty();\r\n                return;\r\n        }\r\n        if (keyCode === 32) {\r\n            key = evt?.key ?? \" \";\r\n        }\r\n        this._deadKey = key === \"Dead\";\r\n        // Printable characters\r\n        if (\r\n            key &&\r\n            (keyCode === -1 || // Direct access\r\n                keyCode === 32 || // Space\r\n                keyCode === 34 || // \"    add support for single and double quotes\r\n                keyCode === 39 || // '\r\n                (keyCode > 47 && keyCode < 64) || // Numbers\r\n                (keyCode > 64 && keyCode < 91) || // Letters\r\n                (keyCode > 159 && keyCode < 193) || // Special characters\r\n                (keyCode > 218 && keyCode < 223) || // Special characters\r\n                (keyCode > 95 && keyCode < 112))\r\n        ) {\r\n            // Numpad\r\n            this._currentKey = key;\r\n            this.onBeforeKeyAddObservable.notifyObservers(this);\r\n            key = this._currentKey;\r\n            if (this._addKey && !this._deadKey) {\r\n                if (this.isTextHighlightOn) {\r\n                    this._textWrapper.removePart(this._startHighlightIndex, this._endHighlightIndex, key);\r\n                    this._textHasChanged();\r\n                    this._cursorOffset = this._textWrapper.length - (this._startHighlightIndex + 1);\r\n                    this.isTextHighlightOn = false;\r\n                    this._blinkIsEven = false;\r\n                    this._markAsDirty();\r\n                } else if (this._cursorOffset === 0) {\r\n                    this.text += this._deadKey && evt?.key ? evt.key : key;\r\n                } else {\r\n                    const insertPosition = this._textWrapper.length - this._cursorOffset;\r\n                    this._textWrapper.removePart(insertPosition, insertPosition, key);\r\n                    this._textHasChanged();\r\n                }\r\n            }\r\n        }\r\n    }\r\n\r\n    /**\r\n     * @internal\r\n     */\r\n    protected _updateValueFromCursorIndex(offset: number) {\r\n        //update the cursor\r\n        this._blinkIsEven = false;\r\n\r\n        if (this._cursorIndex === -1) {\r\n            this._cursorIndex = offset;\r\n        } else {\r\n            if (this._cursorIndex < this._cursorOffset) {\r\n                this._endHighlightIndex = this._textWrapper.length - this._cursorIndex;\r\n                this._startHighlightIndex = this._textWrapper.length - this._cursorOffset;\r\n            } else if (this._cursorIndex > this._cursorOffset) {\r\n                this._endHighlightIndex = this._textWrapper.length - this._cursorOffset;\r\n                this._startHighlightIndex = this._textWrapper.length - this._cursorIndex;\r\n            } else {\r\n                this.isTextHighlightOn = false;\r\n                this._markAsDirty();\r\n                return;\r\n            }\r\n        }\r\n        this.isTextHighlightOn = true;\r\n        this._markAsDirty();\r\n    }\r\n    /**\r\n     * @internal\r\n     */\r\n    // eslint-disable-next-line @typescript-eslint/no-unused-vars\r\n    protected _processDblClick(evt: PointerInfo) {\r\n        //pre-find the start and end index of the word under cursor, speeds up the rendering\r\n        this._startHighlightIndex = this._textWrapper.length - this._cursorOffset;\r\n        this._endHighlightIndex = this._startHighlightIndex;\r\n        let moveLeft, moveRight;\r\n        do {\r\n            moveRight = this._endHighlightIndex < this._textWrapper.length && this._textWrapper.isWord(this._endHighlightIndex) ? ++this._endHighlightIndex : 0;\r\n            moveLeft = this._startHighlightIndex > 0 && this._textWrapper.isWord(this._startHighlightIndex - 1) ? --this._startHighlightIndex : 0;\r\n        } while (moveLeft || moveRight);\r\n\r\n        this._cursorOffset = this._textWrapper.length - this._startHighlightIndex;\r\n\r\n        this.isTextHighlightOn = true;\r\n        this._clickedCoordinate = null;\r\n        this._blinkIsEven = true;\r\n        this._cursorIndex = -1;\r\n        this._markAsDirty();\r\n    }\r\n\r\n    /**\r\n     * Allow the user to select all text\r\n     */\r\n    public selectAllText() {\r\n        this._blinkIsEven = true;\r\n        this.isTextHighlightOn = true;\r\n\r\n        this._startHighlightIndex = 0;\r\n        this._endHighlightIndex = this._textWrapper.length;\r\n        this._cursorOffset = this._textWrapper.length;\r\n        this._cursorIndex = -1;\r\n        this._markAsDirty();\r\n    }\r\n\r\n    /**\r\n     * Handles the keyboard event\r\n     * @param evt Defines the KeyboardEvent\r\n     */\r\n    public override processKeyboard(evt: IKeyboardEvent): void {\r\n        // process pressed key\r\n        this.processKey(evt.keyCode, evt.key, evt);\r\n\r\n        super.processKeyboard(evt);\r\n    }\r\n\r\n    /**\r\n     * @internal\r\n     */\r\n    protected _onCopyText(ev: ClipboardEvent): void {\r\n        this.isTextHighlightOn = false;\r\n        //when write permission to clipbaord data is denied\r\n        try {\r\n            ev.clipboardData && ev.clipboardData.setData(\"text/plain\", this._highlightedText);\r\n        } catch {} //pass\r\n        this._host.clipboardData = this._highlightedText;\r\n    }\r\n    /**\r\n     * @internal\r\n     */\r\n    protected _onCutText(ev: ClipboardEvent): void {\r\n        if (!this._highlightedText) {\r\n            return;\r\n        }\r\n        this._textWrapper.removePart(this._startHighlightIndex, this._endHighlightIndex);\r\n        this._textHasChanged();\r\n        this.isTextHighlightOn = false;\r\n        this._cursorOffset = this._textWrapper.length - this._startHighlightIndex;\r\n        //when write permission to clipbaord data is denied\r\n        try {\r\n            ev.clipboardData && ev.clipboardData.setData(\"text/plain\", this._highlightedText);\r\n        } catch {} //pass\r\n\r\n        this._host.clipboardData = this._highlightedText;\r\n        this._highlightedText = \"\";\r\n    }\r\n    /**\r\n     * @internal\r\n     */\r\n    protected _onPasteText(ev: ClipboardEvent): void {\r\n        let data: string = \"\";\r\n        if (ev.clipboardData && ev.clipboardData.types.indexOf(\"text/plain\") !== -1) {\r\n            data = ev.clipboardData.getData(\"text/plain\");\r\n        } else {\r\n            //get the cached data; returns blank string by default\r\n            data = this._host.clipboardData;\r\n        }\r\n        const insertPosition = this._textWrapper.length - this._cursorOffset;\r\n        this._textWrapper.removePart(insertPosition, insertPosition, data);\r\n        this._textHasChanged();\r\n    }\r\n\r\n    public override _draw(context: ICanvasRenderingContext): void {\r\n        context.save();\r\n\r\n        this._applyStates(context);\r\n        if (this.shadowBlur || this.shadowOffsetX || this.shadowOffsetY) {\r\n            context.shadowColor = this.shadowColor;\r\n            context.shadowBlur = this.shadowBlur;\r\n            context.shadowOffsetX = this.shadowOffsetX * this._host.idealRatio;\r\n            context.shadowOffsetY = this.shadowOffsetY * this._host.idealRatio;\r\n        }\r\n\r\n        // Background\r\n        if (this._isFocused) {\r\n            if (this._focusedBackground) {\r\n                context.fillStyle = this._isEnabled ? this._focusedBackground : this._disabledColor;\r\n\r\n                context.fillRect(this._currentMeasure.left, this._currentMeasure.top, this._currentMeasure.width, this._currentMeasure.height);\r\n            }\r\n        } else if (this._background) {\r\n            context.fillStyle = this._isEnabled ? this._background : this._disabledColor;\r\n\r\n            context.fillRect(this._currentMeasure.left, this._currentMeasure.top, this._currentMeasure.width, this._currentMeasure.height);\r\n        }\r\n\r\n        if (this.shadowBlur || this.shadowOffsetX || this.shadowOffsetY) {\r\n            context.shadowBlur = 0;\r\n            context.shadowOffsetX = 0;\r\n            context.shadowOffsetY = 0;\r\n        }\r\n\r\n        if (!this._fontOffset || this._wasDirty) {\r\n            this._fontOffset = Control._GetFontOffset(context.font, this._host.getScene()?.getEngine());\r\n        }\r\n\r\n        // Text\r\n        const clipTextLeft = this._currentMeasure.left + this._margin.getValueInPixel(this._host, this._tempParentMeasure.width);\r\n        if (this.color) {\r\n            context.fillStyle = this.color;\r\n        }\r\n\r\n        let text = this._beforeRenderText(this._textWrapper);\r\n\r\n        if (!this._isFocused && !this._textWrapper.text && this._placeholderText) {\r\n            text = new TextWrapper();\r\n            text.text = this._placeholderText;\r\n\r\n            if (this._placeholderColor) {\r\n                context.fillStyle = this._placeholderColor;\r\n            }\r\n        }\r\n\r\n        this._textWidth = context.measureText(text.text).width;\r\n        const marginWidth = this._margin.getValueInPixel(this._host, this._tempParentMeasure.width) * 2;\r\n        if (this._autoStretchWidth) {\r\n            this.width = Math.min(this._maxWidth.getValueInPixel(this._host, this._tempParentMeasure.width), this._textWidth + marginWidth) + \"px\";\r\n            this._autoStretchWidth = true; // setting the width will have reset _autoStretchWidth to false!\r\n        }\r\n\r\n        const rootY = this._fontOffset.ascent + (this._currentMeasure.height - this._fontOffset.height) / 2;\r\n        const availableWidth = this._width.getValueInPixel(this._host, this._tempParentMeasure.width) - marginWidth;\r\n\r\n        context.save();\r\n        context.beginPath();\r\n        context.rect(clipTextLeft, this._currentMeasure.top + (this._currentMeasure.height - this._fontOffset.height) / 2, availableWidth + 2, this._currentMeasure.height);\r\n        context.clip();\r\n\r\n        if (this._isFocused && this._textWidth > availableWidth) {\r\n            const textLeft = clipTextLeft - this._textWidth + availableWidth;\r\n            if (!this._scrollLeft) {\r\n                this._scrollLeft = textLeft;\r\n            }\r\n        } else {\r\n            this._scrollLeft = clipTextLeft;\r\n        }\r\n\r\n        if (this.outlineWidth) {\r\n            context.strokeText(text.text, this._scrollLeft, this._currentMeasure.top + rootY);\r\n        }\r\n\r\n        context.fillText(text.text, this._scrollLeft, this._currentMeasure.top + rootY);\r\n\r\n        // Cursor\r\n        if (this._isFocused) {\r\n            // Need to move cursor\r\n            if (this._clickedCoordinate) {\r\n                const rightPosition = this._scrollLeft + this._textWidth;\r\n                const absoluteCursorPosition = rightPosition - this._clickedCoordinate;\r\n                let currentSize = 0;\r\n                this._cursorOffset = 0;\r\n                let previousDist = 0;\r\n                do {\r\n                    if (this._cursorOffset) {\r\n                        previousDist = Math.abs(absoluteCursorPosition - currentSize);\r\n                    }\r\n                    this._cursorOffset++;\r\n                    currentSize = context.measureText(text.substr(text.length - this._cursorOffset, this._cursorOffset)).width;\r\n                } while (currentSize < absoluteCursorPosition && text.length >= this._cursorOffset);\r\n\r\n                // Find closest move\r\n                if (Math.abs(absoluteCursorPosition - currentSize) > previousDist) {\r\n                    this._cursorOffset--;\r\n                }\r\n\r\n                this._blinkIsEven = false;\r\n                this._clickedCoordinate = null;\r\n            }\r\n\r\n            // Render cursor\r\n            if (!this._blinkIsEven) {\r\n                const cursorOffsetText = text.substr(text.length - this._cursorOffset);\r\n                const cursorOffsetWidth = context.measureText(cursorOffsetText).width;\r\n                let cursorLeft = this._scrollLeft + this._textWidth - cursorOffsetWidth;\r\n\r\n                if (cursorLeft < clipTextLeft) {\r\n                    this._scrollLeft += clipTextLeft - cursorLeft;\r\n                    cursorLeft = clipTextLeft;\r\n                    this._markAsDirty();\r\n                } else if (cursorLeft > clipTextLeft + availableWidth) {\r\n                    this._scrollLeft += clipTextLeft + availableWidth - cursorLeft;\r\n                    cursorLeft = clipTextLeft + availableWidth;\r\n                    this._markAsDirty();\r\n                }\r\n                if (!this.isTextHighlightOn) {\r\n                    context.fillRect(cursorLeft, this._currentMeasure.top + (this._currentMeasure.height - this._fontOffset.height) / 2, 2, this._fontOffset.height);\r\n                }\r\n            }\r\n\r\n            clearTimeout(this._blinkTimeout);\r\n            this._blinkTimeout = <any>setTimeout(() => {\r\n                this._blinkIsEven = !this._blinkIsEven;\r\n                this._markAsDirty();\r\n            }, 500);\r\n\r\n            //show the highlighted text\r\n            if (this.isTextHighlightOn) {\r\n                clearTimeout(this._blinkTimeout);\r\n                const highlightCursorOffsetWidth = context.measureText(text.substring(this._startHighlightIndex)).width;\r\n                let highlightCursorLeft = this._scrollLeft + this._textWidth - highlightCursorOffsetWidth;\r\n                this._highlightedText = text.substring(this._startHighlightIndex, this._endHighlightIndex);\r\n                let width = context.measureText(text.substring(this._startHighlightIndex, this._endHighlightIndex)).width;\r\n                if (highlightCursorLeft < clipTextLeft) {\r\n                    width = width - (clipTextLeft - highlightCursorLeft);\r\n                    if (!width) {\r\n                        // when using left arrow on text.length > availableWidth;\r\n                        // assigns the width of the first letter after clipTextLeft\r\n                        width = context.measureText(text.charAt(text.length - this._cursorOffset)).width;\r\n                    }\r\n                    highlightCursorLeft = clipTextLeft;\r\n                }\r\n                //for transparancy\r\n                context.globalAlpha = this._highlighterOpacity;\r\n                context.fillStyle = this._textHighlightColor;\r\n                context.fillRect(highlightCursorLeft, this._currentMeasure.top + (this._currentMeasure.height - this._fontOffset.height) / 2, width, this._fontOffset.height);\r\n                context.globalAlpha = 1.0;\r\n            }\r\n        }\r\n        context.restore();\r\n\r\n        // Border\r\n        if (this._thickness) {\r\n            if (this._isFocused) {\r\n                if (this.focusedColor) {\r\n                    context.strokeStyle = this.focusedColor;\r\n                }\r\n            } else {\r\n                if (this.color) {\r\n                    context.strokeStyle = this.color;\r\n                }\r\n            }\r\n\r\n            context.lineWidth = this._thickness;\r\n\r\n            context.strokeRect(\r\n                this._currentMeasure.left + this._thickness / 2,\r\n                this._currentMeasure.top + this._thickness / 2,\r\n                this._currentMeasure.width - this._thickness,\r\n                this._currentMeasure.height - this._thickness\r\n            );\r\n        }\r\n\r\n        context.restore();\r\n    }\r\n\r\n    public override _onPointerDown(target: Control, coordinates: Vector2, pointerId: number, buttonIndex: number, pi: PointerInfoBase): boolean {\r\n        if (!super._onPointerDown(target, coordinates, pointerId, buttonIndex, pi)) {\r\n            return false;\r\n        }\r\n\r\n        if (this.isReadOnly) {\r\n            return true;\r\n        }\r\n\r\n        this._clickedCoordinate = coordinates.x;\r\n        this.isTextHighlightOn = false;\r\n        this._highlightedText = \"\";\r\n        this._cursorIndex = -1;\r\n        this._isPointerDown = true;\r\n        this._host._capturingControl[pointerId] = this;\r\n        this._focusedBy = (pi.event as IPointerEvent).pointerType;\r\n        if (this._host.focusedControl === this) {\r\n            // Move cursor\r\n            clearTimeout(this._blinkTimeout);\r\n            this._markAsDirty();\r\n            return true;\r\n        }\r\n        if (!this._isEnabled) {\r\n            return false;\r\n        }\r\n        this._host.focusedControl = this;\r\n\r\n        return true;\r\n    }\r\n    public override _onPointerMove(target: Control, coordinates: Vector2, pointerId: number, pi: PointerInfoBase): void {\r\n        if (this._host.focusedControl === this && this._isPointerDown && !this.isReadOnly) {\r\n            this._clickedCoordinate = coordinates.x;\r\n            this._markAsDirty();\r\n            this._updateValueFromCursorIndex(this._cursorOffset);\r\n        }\r\n        super._onPointerMove(target, coordinates, pointerId, pi);\r\n    }\r\n\r\n    public override _onPointerUp(target: Control, coordinates: Vector2, pointerId: number, buttonIndex: number, notifyClick: boolean): void {\r\n        this._isPointerDown = false;\r\n        delete this._host._capturingControl[pointerId];\r\n        super._onPointerUp(target, coordinates, pointerId, buttonIndex, notifyClick);\r\n    }\r\n\r\n    protected _beforeRenderText(textWrapper: TextWrapper): TextWrapper {\r\n        return textWrapper;\r\n    }\r\n\r\n    /** @internal */\r\n    // eslint-disable-next-line @typescript-eslint/naming-convention\r\n    private set isTextHighlightOn(value: boolean) {\r\n        if (this._isTextHighlightOn === value) {\r\n            return;\r\n        }\r\n        if (value) {\r\n            this.onTextHighlightObservable.notifyObservers(this);\r\n        }\r\n        this._isTextHighlightOn = value;\r\n    }\r\n\r\n    /** @internal */\r\n    // eslint-disable-next-line @typescript-eslint/naming-convention\r\n    private get isTextHighlightOn(): boolean {\r\n        return this._isTextHighlightOn;\r\n    }\r\n\r\n    public override dispose() {\r\n        super.dispose();\r\n\r\n        this.onBlurObservable.clear();\r\n        this.onFocusObservable.clear();\r\n        this.onTextChangedObservable.clear();\r\n        this.onTextCopyObservable.clear();\r\n        this.onTextCutObservable.clear();\r\n        this.onTextPasteObservable.clear();\r\n        this.onTextHighlightObservable.clear();\r\n        this.onKeyboardEventProcessedObservable.clear();\r\n    }\r\n}\r\nRegisterClass(\"BABYLON.GUI.InputText\", InputText);\r\n","import type { Nullable } from \"core/types\";\r\n\r\nimport { Container } from \"./container\";\r\nimport { ValueAndUnit } from \"../valueAndUnit\";\r\nimport { Control } from \"./control\";\r\nimport type { Measure } from \"../measure\";\r\nimport { Tools } from \"core/Misc/tools\";\r\nimport { RegisterClass } from \"core/Misc/typeStore\";\r\nimport type { ICanvasRenderingContext } from \"core/Engines/ICanvas\";\r\nimport type { AdvancedDynamicTexture } from \"../advancedDynamicTexture\";\r\nimport type { Observer } from \"core/Misc/observable\";\r\nimport { serialize } from \"core/Misc/decorators\";\r\n\r\n/**\r\n * Class used to create a 2D grid container\r\n */\r\nexport class Grid extends Container {\r\n    private _rowDefinitions = new Array<ValueAndUnit>();\r\n    private _rowDefinitionObservers: Observer<void>[] = [];\r\n    private _columnDefinitions = new Array<ValueAndUnit>();\r\n    private _columnDefinitionObservers: Observer<void>[] = [];\r\n    private _cells: { [key: string]: Container } = {};\r\n    private _childControls = new Array<Control>();\r\n\r\n    /**\r\n     * Sets/Gets a boolean indicating that control content must be clipped\r\n     * Please note that not clipping content may generate issues with adt.useInvalidateRectOptimization so it is recommended to turn this optimization off if you want to use unclipped children\r\n     */\r\n    public override set clipContent(value: boolean) {\r\n        this._clipContent = value;\r\n\r\n        // This value has to be replicated on all of the container cells\r\n        for (const key in this._cells) {\r\n            this._cells[key].clipContent = value;\r\n        }\r\n    }\r\n\r\n    @serialize()\r\n    public override get clipContent(): boolean {\r\n        return this._clipContent;\r\n    }\r\n\r\n    /**\r\n     * Sets/Gets a boolean indicating if the children are clipped to the current control bounds.\r\n     * Please note that not clipping children may generate issues with adt.useInvalidateRectOptimization so it is recommended to turn this optimization off if you want to use unclipped children\r\n     */\r\n    public override set clipChildren(value: boolean) {\r\n        this._clipChildren = value;\r\n\r\n        // This value has to be replicated on all of the container cells\r\n        for (const key in this._cells) {\r\n            this._cells[key].clipChildren = value;\r\n        }\r\n    }\r\n\r\n    public override get clipChildren(): boolean {\r\n        return this._clipChildren;\r\n    }\r\n\r\n    /**\r\n     * Gets the number of columns\r\n     */\r\n    public get columnCount(): number {\r\n        return this._columnDefinitions.length;\r\n    }\r\n\r\n    /**\r\n     * Gets the number of rows\r\n     */\r\n    public get rowCount(): number {\r\n        return this._rowDefinitions.length;\r\n    }\r\n\r\n    /** Gets the list of children */\r\n    public override get children(): Control[] {\r\n        return this._childControls;\r\n    }\r\n\r\n    /** Gets the list of cells (e.g. the containers) */\r\n    public get cells(): { [key: string]: Container } {\r\n        return this._cells;\r\n    }\r\n\r\n    /**\r\n     * Gets the definition of a specific row\r\n     * @param index defines the index of the row\r\n     * @returns the row definition\r\n     */\r\n    public getRowDefinition(index: number): Nullable<ValueAndUnit> {\r\n        if (index < 0 || index >= this._rowDefinitions.length) {\r\n            return null;\r\n        }\r\n\r\n        return this._rowDefinitions[index];\r\n    }\r\n\r\n    /**\r\n     * Gets the definition of a specific column\r\n     * @param index defines the index of the column\r\n     * @returns the column definition\r\n     */\r\n    public getColumnDefinition(index: number): Nullable<ValueAndUnit> {\r\n        if (index < 0 || index >= this._columnDefinitions.length) {\r\n            return null;\r\n        }\r\n\r\n        return this._columnDefinitions[index];\r\n    }\r\n\r\n    /**\r\n     * Adds a new row to the grid\r\n     * @param height defines the height of the row (either in pixel or a value between 0 and 1)\r\n     * @param isPixel defines if the height is expressed in pixel (or in percentage)\r\n     * @returns the current grid\r\n     */\r\n    public addRowDefinition(height: number, isPixel = false): Grid {\r\n        this._rowDefinitions.push(new ValueAndUnit(height, isPixel ? ValueAndUnit.UNITMODE_PIXEL : ValueAndUnit.UNITMODE_PERCENTAGE));\r\n        this._rowDefinitionObservers.push(this._rowDefinitions[this.rowCount - 1].onChangedObservable.add(() => this._markAsDirty()));\r\n        this._markAsDirty();\r\n\r\n        return this;\r\n    }\r\n\r\n    /**\r\n     * Adds a new column to the grid\r\n     * @param width defines the width of the column (either in pixel or a value between 0 and 1)\r\n     * @param isPixel defines if the width is expressed in pixel (or in percentage)\r\n     * @returns the current grid\r\n     */\r\n    public addColumnDefinition(width: number, isPixel = false): Grid {\r\n        this._columnDefinitions.push(new ValueAndUnit(width, isPixel ? ValueAndUnit.UNITMODE_PIXEL : ValueAndUnit.UNITMODE_PERCENTAGE));\r\n        this._columnDefinitionObservers.push(this._columnDefinitions[this.columnCount - 1].onChangedObservable.add(() => this._markAsDirty()));\r\n        this._markAsDirty();\r\n\r\n        return this;\r\n    }\r\n\r\n    /**\r\n     * Update a row definition\r\n     * @param index defines the index of the row to update\r\n     * @param height defines the height of the row (either in pixel or a value between 0 and 1)\r\n     * @param isPixel defines if the weight is expressed in pixel (or in percentage)\r\n     * @returns the current grid\r\n     */\r\n    public setRowDefinition(index: number, height: number, isPixel = false): Grid {\r\n        if (index < 0 || index >= this._rowDefinitions.length) {\r\n            return this;\r\n        }\r\n\r\n        const current = this._rowDefinitions[index];\r\n        if (current && current.isPixel === isPixel && current.value === height) {\r\n            return this;\r\n        }\r\n\r\n        this._rowDefinitions[index].onChangedObservable.remove(this._rowDefinitionObservers[index]);\r\n        this._rowDefinitions[index] = new ValueAndUnit(height, isPixel ? ValueAndUnit.UNITMODE_PIXEL : ValueAndUnit.UNITMODE_PERCENTAGE);\r\n        this._rowDefinitionObservers[index] = this._rowDefinitions[index].onChangedObservable.add(() => this._markAsDirty())!;\r\n\r\n        this._markAsDirty();\r\n\r\n        return this;\r\n    }\r\n\r\n    /**\r\n     * Update a column definition\r\n     * @param index defines the index of the column to update\r\n     * @param width defines the width of the column (either in pixel or a value between 0 and 1)\r\n     * @param isPixel defines if the width is expressed in pixel (or in percentage)\r\n     * @returns the current grid\r\n     */\r\n    public setColumnDefinition(index: number, width: number, isPixel = false): Grid {\r\n        if (index < 0 || index >= this._columnDefinitions.length) {\r\n            return this;\r\n        }\r\n\r\n        const current = this._columnDefinitions[index];\r\n        if (current && current.isPixel === isPixel && current.value === width) {\r\n            return this;\r\n        }\r\n\r\n        this._columnDefinitions[index].onChangedObservable.remove(this._columnDefinitionObservers[index]);\r\n        this._columnDefinitions[index] = new ValueAndUnit(width, isPixel ? ValueAndUnit.UNITMODE_PIXEL : ValueAndUnit.UNITMODE_PERCENTAGE);\r\n        this._columnDefinitionObservers[index] = this._columnDefinitions[index].onChangedObservable.add(() => this._markAsDirty())!;\r\n\r\n        this._markAsDirty();\r\n\r\n        return this;\r\n    }\r\n\r\n    /**\r\n     * Gets the list of children stored in a specific cell\r\n     * @param row defines the row to check\r\n     * @param column defines the column to check\r\n     * @returns the list of controls\r\n     */\r\n    public getChildrenAt(row: number, column: number): Nullable<Array<Control>> {\r\n        const cell = this._cells[`${row}:${column}`];\r\n\r\n        if (!cell) {\r\n            return null;\r\n        }\r\n\r\n        return cell.children;\r\n    }\r\n\r\n    /**\r\n     * Gets a string representing the child cell info (row x column)\r\n     * @param child defines the control to get info from\r\n     * @returns a string containing the child cell info (row x column)\r\n     */\r\n    public getChildCellInfo(child: Control): string {\r\n        return child._tag;\r\n    }\r\n\r\n    private _removeCell(cell: Container, key: string) {\r\n        if (!cell) {\r\n            return;\r\n        }\r\n\r\n        super.removeControl(cell);\r\n\r\n        for (const control of cell.children) {\r\n            const childIndex = this._childControls.indexOf(control);\r\n\r\n            if (childIndex !== -1) {\r\n                this._childControls.splice(childIndex, 1);\r\n            }\r\n        }\r\n\r\n        delete this._cells[key];\r\n    }\r\n\r\n    private _offsetCell(previousKey: string, key: string) {\r\n        if (!this._cells[key]) {\r\n            return;\r\n        }\r\n\r\n        this._cells[previousKey] = this._cells[key];\r\n\r\n        for (const control of this._cells[previousKey].children) {\r\n            control._tag = previousKey;\r\n        }\r\n\r\n        delete this._cells[key];\r\n    }\r\n\r\n    /**\r\n     * Remove a column definition at specified index\r\n     * @param index defines the index of the column to remove\r\n     * @returns the current grid\r\n     */\r\n    public removeColumnDefinition(index: number): Grid {\r\n        if (index < 0 || index >= this._columnDefinitions.length) {\r\n            return this;\r\n        }\r\n\r\n        for (let x = 0; x < this._rowDefinitions.length; x++) {\r\n            const key = `${x}:${index}`;\r\n            const cell = this._cells[key];\r\n\r\n            this._removeCell(cell, key);\r\n        }\r\n\r\n        for (let x = 0; x < this._rowDefinitions.length; x++) {\r\n            for (let y = index + 1; y < this._columnDefinitions.length; y++) {\r\n                const previousKey = `${x}:${y - 1}`;\r\n                const key = `${x}:${y}`;\r\n\r\n                this._offsetCell(previousKey, key);\r\n            }\r\n        }\r\n\r\n        this._columnDefinitions[index].onChangedObservable.remove(this._columnDefinitionObservers[index]);\r\n        this._columnDefinitions.splice(index, 1);\r\n        this._columnDefinitionObservers.splice(index, 1);\r\n\r\n        this._markAsDirty();\r\n\r\n        return this;\r\n    }\r\n\r\n    /**\r\n     * Remove a row definition at specified index\r\n     * @param index defines the index of the row to remove\r\n     * @returns the current grid\r\n     */\r\n    public removeRowDefinition(index: number): Grid {\r\n        if (index < 0 || index >= this._rowDefinitions.length) {\r\n            return this;\r\n        }\r\n\r\n        for (let y = 0; y < this._columnDefinitions.length; y++) {\r\n            const key = `${index}:${y}`;\r\n            const cell = this._cells[key];\r\n\r\n            this._removeCell(cell, key);\r\n        }\r\n\r\n        for (let y = 0; y < this._columnDefinitions.length; y++) {\r\n            for (let x = index + 1; x < this._rowDefinitions.length; x++) {\r\n                const previousKey = `${x - 1}:${y}`;\r\n                const key = `${x}:${y}`;\r\n\r\n                this._offsetCell(previousKey, key);\r\n            }\r\n        }\r\n\r\n        this._rowDefinitions[index].onChangedObservable.remove(this._rowDefinitionObservers[index]);\r\n        this._rowDefinitions.splice(index, 1);\r\n        this._rowDefinitionObservers.splice(index, 1);\r\n\r\n        this._markAsDirty();\r\n\r\n        return this;\r\n    }\r\n\r\n    /**\r\n     * Adds a new control to the current grid\r\n     * @param control defines the control to add\r\n     * @param row defines the row where to add the control (0 by default)\r\n     * @param column defines the column where to add the control (0 by default)\r\n     * @returns the current grid\r\n     */\r\n    public override addControl(control: Control, row: number = 0, column: number = 0): Grid {\r\n        if (this._rowDefinitions.length === 0) {\r\n            // Add default row definition\r\n            this.addRowDefinition(1, false);\r\n        }\r\n\r\n        if (this._columnDefinitions.length === 0) {\r\n            // Add default column definition\r\n            this.addColumnDefinition(1, false);\r\n        }\r\n\r\n        if (this._childControls.indexOf(control) !== -1) {\r\n            Tools.Warn(`Control (Name:${control.name}, UniqueId:${control.uniqueId}) is already associated with this grid. You must remove it before reattaching it`);\r\n            return this;\r\n        }\r\n\r\n        const x = Math.min(row, this._rowDefinitions.length - 1);\r\n        const y = Math.min(column, this._columnDefinitions.length - 1);\r\n        const key = `${x}:${y}`;\r\n        let goodContainer = this._cells[key];\r\n\r\n        if (!goodContainer) {\r\n            goodContainer = new Container(key);\r\n            this._cells[key] = goodContainer;\r\n            goodContainer.horizontalAlignment = Control.HORIZONTAL_ALIGNMENT_LEFT;\r\n            goodContainer.verticalAlignment = Control.VERTICAL_ALIGNMENT_TOP;\r\n            goodContainer.clipContent = this.clipContent;\r\n            goodContainer.clipChildren = this.clipChildren;\r\n            super.addControl(goodContainer);\r\n        }\r\n\r\n        goodContainer.addControl(control);\r\n        this._childControls.push(control);\r\n        control._tag = key;\r\n        control.parent = this;\r\n\r\n        this._markAsDirty();\r\n\r\n        return this;\r\n    }\r\n\r\n    /**\r\n     * Removes a control from the current container\r\n     * @param control defines the control to remove\r\n     * @returns the current container\r\n     */\r\n    public override removeControl(control: Control): Container {\r\n        const index = this._childControls.indexOf(control);\r\n\r\n        if (index !== -1) {\r\n            this._childControls.splice(index, 1);\r\n        }\r\n\r\n        const cell = this._cells[control._tag];\r\n\r\n        if (cell) {\r\n            cell.removeControl(control);\r\n            control._tag = null;\r\n        }\r\n\r\n        this._markAsDirty();\r\n        return this;\r\n    }\r\n\r\n    /**\r\n     * Creates a new Grid\r\n     * @param name defines control name\r\n     */\r\n    constructor(public override name?: string) {\r\n        super(name);\r\n    }\r\n\r\n    protected override _getTypeName(): string {\r\n        return \"Grid\";\r\n    }\r\n\r\n    protected _getGridDefinitions(definitionCallback: (lefts: number[], tops: number[], widths: number[], heights: number[]) => void) {\r\n        const widths = [];\r\n        const heights = [];\r\n        const lefts = [];\r\n        const tops = [];\r\n\r\n        let availableWidth = this._currentMeasure.width;\r\n        let globalWidthPercentage = 0;\r\n        let availableHeight = this._currentMeasure.height;\r\n        let globalHeightPercentage = 0;\r\n\r\n        // Heights\r\n        let index = 0;\r\n        for (const rowDefinition of this._rowDefinitions) {\r\n            if (rowDefinition.isPixel) {\r\n                const height = rowDefinition.getValue(this._host);\r\n                availableHeight -= height;\r\n                heights[index] = height;\r\n            } else {\r\n                globalHeightPercentage += rowDefinition.value;\r\n            }\r\n            index++;\r\n        }\r\n\r\n        let top = 0;\r\n        index = 0;\r\n        for (const rowDefinition of this._rowDefinitions) {\r\n            tops.push(top);\r\n\r\n            if (!rowDefinition.isPixel) {\r\n                const height = Math.round((rowDefinition.value / globalHeightPercentage) * availableHeight);\r\n                top += height;\r\n                heights[index] = height;\r\n            } else {\r\n                top += rowDefinition.getValue(this._host);\r\n            }\r\n            index++;\r\n        }\r\n\r\n        // Widths\r\n        index = 0;\r\n        for (const columnDefinition of this._columnDefinitions) {\r\n            if (columnDefinition.isPixel) {\r\n                const width = columnDefinition.getValue(this._host);\r\n                availableWidth -= width;\r\n                widths[index] = width;\r\n            } else {\r\n                globalWidthPercentage += columnDefinition.value;\r\n            }\r\n            index++;\r\n        }\r\n\r\n        let left = 0;\r\n        index = 0;\r\n        for (const columnDefinition of this._columnDefinitions) {\r\n            lefts.push(left);\r\n            if (!columnDefinition.isPixel) {\r\n                const width = Math.round((columnDefinition.value / globalWidthPercentage) * availableWidth);\r\n                left += width;\r\n                widths[index] = width;\r\n            } else {\r\n                left += columnDefinition.getValue(this._host);\r\n            }\r\n            index++;\r\n        }\r\n\r\n        definitionCallback(lefts, tops, widths, heights);\r\n    }\r\n\r\n    protected override _additionalProcessing(parentMeasure: Measure, context: ICanvasRenderingContext): void {\r\n        this._getGridDefinitions((lefts: number[], tops: number[], widths: number[], heights: number[]) => {\r\n            // Setting child sizes\r\n            for (const key in this._cells) {\r\n                if (!Object.prototype.hasOwnProperty.call(this._cells, key)) {\r\n                    continue;\r\n                }\r\n                const split = key.split(\":\");\r\n                const x = parseInt(split[0]);\r\n                const y = parseInt(split[1]);\r\n                const cell = this._cells[key];\r\n\r\n                cell.leftInPixels = lefts[y];\r\n                cell.topInPixels = tops[x];\r\n                cell.widthInPixels = widths[y];\r\n                cell.heightInPixels = heights[x];\r\n                cell._left.ignoreAdaptiveScaling = true;\r\n                cell._top.ignoreAdaptiveScaling = true;\r\n                cell._width.ignoreAdaptiveScaling = true;\r\n                cell._height.ignoreAdaptiveScaling = true;\r\n            }\r\n        });\r\n\r\n        super._additionalProcessing(parentMeasure, context);\r\n    }\r\n\r\n    public override _flagDescendantsAsMatrixDirty(): void {\r\n        for (const key in this._cells) {\r\n            if (!Object.prototype.hasOwnProperty.call(this._cells, key)) {\r\n                continue;\r\n            }\r\n\r\n            const child = this._cells[key];\r\n            child._markMatrixAsDirty();\r\n        }\r\n    }\r\n\r\n    public override _renderHighlightSpecific(context: ICanvasRenderingContext): void {\r\n        super._renderHighlightSpecific(context);\r\n\r\n        this._getGridDefinitions((lefts: number[], tops: number[], widths: number[], heights: number[]) => {\r\n            // Columns\r\n            for (let index = 0; index < lefts.length; index++) {\r\n                const left = this._currentMeasure.left + lefts[index] + widths[index];\r\n                context.beginPath();\r\n                context.moveTo(left, this._currentMeasure.top);\r\n                context.lineTo(left, this._currentMeasure.top + this._currentMeasure.height);\r\n                context.stroke();\r\n            }\r\n\r\n            // Rows\r\n            for (let index = 0; index < tops.length; index++) {\r\n                const top = this._currentMeasure.top + tops[index] + heights[index];\r\n                context.beginPath();\r\n                context.moveTo(this._currentMeasure.left, top);\r\n                context.lineTo(this._currentMeasure.left + this._currentMeasure.width, top);\r\n                context.stroke();\r\n            }\r\n        });\r\n\r\n        context.restore();\r\n    }\r\n\r\n    /** Releases associated resources */\r\n    public override dispose() {\r\n        super.dispose();\r\n\r\n        for (const control of this._childControls) {\r\n            control.dispose();\r\n        }\r\n        for (let index = 0; index < this._rowDefinitions.length; index++) {\r\n            this._rowDefinitions[index].onChangedObservable.remove(this._rowDefinitionObservers[index]);\r\n        }\r\n        for (let index = 0; index < this._columnDefinitions.length; index++) {\r\n            this._columnDefinitions[index].onChangedObservable.remove(this._columnDefinitionObservers[index]);\r\n        }\r\n        this._rowDefinitionObservers.length = 0;\r\n        this._rowDefinitions.length = 0;\r\n        this._columnDefinitionObservers.length = 0;\r\n        this._columnDefinitions.length = 0;\r\n        this._cells = {};\r\n        this._childControls.length = 0;\r\n    }\r\n\r\n    /**\r\n     * Serializes the current control\r\n     * @param serializationObject defined the JSON serialized object\r\n     * @param force force serialization even if isSerializable === false\r\n     * @param allowCanvas defines if the control is allowed to use a Canvas2D object to serialize\r\n     */\r\n    public override serialize(serializationObject: any, force: boolean, allowCanvas: boolean) {\r\n        super.serialize(serializationObject, force, allowCanvas);\r\n        if (!this.isSerializable && !force) {\r\n            return;\r\n        }\r\n        serializationObject.columnCount = this.columnCount;\r\n        serializationObject.rowCount = this.rowCount;\r\n        serializationObject.columns = [];\r\n        serializationObject.rows = [];\r\n        serializationObject.tags = [];\r\n        for (let i = 0; i < this.columnCount; ++i) {\r\n            const cd = this.getColumnDefinition(i);\r\n            const childSerializationObject = { value: cd?.getValue(this.host), unit: cd?.unit };\r\n            serializationObject.columns.push(childSerializationObject);\r\n        }\r\n        for (let i = 0; i < this.rowCount; ++i) {\r\n            const rd = this.getRowDefinition(i);\r\n            const childSerializationObject = { value: rd?.getValue(this.host), unit: rd?.unit };\r\n            serializationObject.rows.push(childSerializationObject);\r\n        }\r\n        for (const child of this.children) {\r\n            serializationObject.tags.push(child._tag);\r\n        }\r\n    }\r\n\r\n    /**\r\n     * @internal\r\n     */\r\n    public override _parseFromContent(serializedObject: any, host: AdvancedDynamicTexture) {\r\n        super._parseFromContent(serializedObject, host);\r\n        const children: Control[] = [];\r\n        for (const child of this.children) {\r\n            children.push(child);\r\n        }\r\n        this.removeRowDefinition(0);\r\n        this.removeColumnDefinition(0);\r\n        for (let i = 0; i < serializedObject.columnCount; ++i) {\r\n            const columnValue = serializedObject.columns[i].value;\r\n            const unit = serializedObject.columns[i].unit;\r\n            this.addColumnDefinition(columnValue, unit === 1 ? true : false);\r\n        }\r\n        for (let i = 0; i < serializedObject.rowCount; ++i) {\r\n            const rowValue = serializedObject.rows[i].value;\r\n            const unit = serializedObject.rows[i].unit;\r\n            this.addRowDefinition(rowValue, unit === 1 ? true : false);\r\n        }\r\n\r\n        for (let i = 0; i < children.length; ++i) {\r\n            const cellInfo = serializedObject.tags[i];\r\n            let rowNumber = parseInt(cellInfo.substring(0, cellInfo.search(\":\")));\r\n            if (isNaN(rowNumber)) {\r\n                rowNumber = 0;\r\n            }\r\n            let columnNumber = parseInt(cellInfo.substring(cellInfo.search(\":\") + 1));\r\n            if (isNaN(columnNumber)) {\r\n                columnNumber = 0;\r\n            }\r\n            this.addControl(children[i], rowNumber, columnNumber);\r\n        }\r\n    }\r\n}\r\nRegisterClass(\"BABYLON.GUI.Grid\", Grid);\r\n","import { Observable } from \"core/Misc/observable\";\r\nimport type { Vector2 } from \"core/Maths/math.vector\";\r\n\r\nimport { Control } from \"./control\";\r\nimport type { Measure } from \"../measure\";\r\nimport { InputText } from \"./inputText\";\r\nimport { Rectangle } from \"./rectangle\";\r\nimport { Button } from \"./button\";\r\nimport { Grid } from \"./grid\";\r\nimport type { AdvancedDynamicTexture } from \"../advancedDynamicTexture\";\r\nimport { TextBlock } from \"../controls/textBlock\";\r\nimport { RegisterClass } from \"core/Misc/typeStore\";\r\nimport { Color3 } from \"core/Maths/math.color\";\r\nimport type { PointerInfoBase } from \"core/Events/pointerEvents\";\r\nimport { serialize } from \"core/Misc/decorators\";\r\nimport type { ICanvas, ICanvasRenderingContext } from \"core/Engines/ICanvas\";\r\nimport { EngineStore } from \"core/Engines/engineStore\";\r\n\r\n/** Class used to create color pickers */\r\nexport class ColorPicker extends Control {\r\n    private static _Epsilon = 0.000001;\r\n    private _colorWheelCanvas: ICanvas;\r\n\r\n    private _value: Color3 = Color3.Red();\r\n    private _tmpColor = new Color3();\r\n\r\n    private _pointerStartedOnSquare = false;\r\n    private _pointerStartedOnWheel = false;\r\n\r\n    private _squareLeft = 0;\r\n    private _squareTop = 0;\r\n    private _squareSize = 0;\r\n\r\n    private _h = 360;\r\n    private _s = 1;\r\n    private _v = 1;\r\n\r\n    private _lastPointerDownId = -1;\r\n\r\n    /**\r\n     * Observable raised when the value changes\r\n     */\r\n    public onValueChangedObservable = new Observable<Color3>();\r\n\r\n    /** Gets or sets the color of the color picker */\r\n    @serialize()\r\n    public get value(): Color3 {\r\n        return this._value;\r\n    }\r\n\r\n    public set value(value: Color3) {\r\n        if (this._value.equals(value)) {\r\n            return;\r\n        }\r\n\r\n        this._value.copyFrom(value);\r\n\r\n        this._value.toHSVToRef(this._tmpColor);\r\n\r\n        this._h = this._tmpColor.r;\r\n        this._s = Math.max(this._tmpColor.g, 0.00001);\r\n        this._v = Math.max(this._tmpColor.b, 0.00001);\r\n\r\n        this._markAsDirty();\r\n\r\n        if (this._value.r <= ColorPicker._Epsilon) {\r\n            this._value.r = 0;\r\n        }\r\n\r\n        if (this._value.g <= ColorPicker._Epsilon) {\r\n            this._value.g = 0;\r\n        }\r\n\r\n        if (this._value.b <= ColorPicker._Epsilon) {\r\n            this._value.b = 0;\r\n        }\r\n\r\n        if (this._value.r >= 1.0 - ColorPicker._Epsilon) {\r\n            this._value.r = 1.0;\r\n        }\r\n\r\n        if (this._value.g >= 1.0 - ColorPicker._Epsilon) {\r\n            this._value.g = 1.0;\r\n        }\r\n\r\n        if (this._value.b >= 1.0 - ColorPicker._Epsilon) {\r\n            this._value.b = 1.0;\r\n        }\r\n\r\n        this.onValueChangedObservable.notifyObservers(this._value, undefined, this, this);\r\n    }\r\n\r\n    /**\r\n     * Gets or sets control width\r\n     * @see https://doc.babylonjs.com/features/featuresDeepDive/gui/gui#position-and-size\r\n     */\r\n    @serialize()\r\n    public override get width(): string | number {\r\n        return this._width.toString(this._host);\r\n    }\r\n\r\n    public override set width(value: string | number) {\r\n        if (this._width.toString(this._host) === value) {\r\n            return;\r\n        }\r\n\r\n        if (this._width.fromString(value)) {\r\n            if (this._width.getValue(this._host) === 0) {\r\n                value = \"1px\";\r\n                this._width.fromString(value);\r\n            }\r\n            this._height.fromString(value);\r\n            this._markAsDirty();\r\n        }\r\n    }\r\n\r\n    /**\r\n     * Gets or sets control height\r\n     * @see https://doc.babylonjs.com/features/featuresDeepDive/gui/gui#position-and-size\r\n     */\r\n    @serialize()\r\n    public override get height(): string | number {\r\n        return this._height.toString(this._host);\r\n    }\r\n\r\n    /** Gets or sets control height */\r\n    public override set height(value: string | number) {\r\n        if (this._height.toString(this._host) === value) {\r\n            return;\r\n        }\r\n\r\n        if (this._height.fromString(value)) {\r\n            if (this._height.getValue(this._host) === 0) {\r\n                value = \"1px\";\r\n                this._height.fromString(value);\r\n            }\r\n            this._width.fromString(value);\r\n            this._markAsDirty();\r\n        }\r\n    }\r\n\r\n    /** Gets or sets control size */\r\n    @serialize()\r\n    public get size(): string | number {\r\n        return this.width;\r\n    }\r\n\r\n    public set size(value: string | number) {\r\n        this.width = value;\r\n    }\r\n\r\n    /**\r\n     * Creates a new ColorPicker\r\n     * @param name defines the control name\r\n     */\r\n    constructor(public override name?: string) {\r\n        super(name);\r\n        this.value = new Color3(0.88, 0.1, 0.1);\r\n        this.size = \"200px\";\r\n        this.isPointerBlocker = true;\r\n    }\r\n\r\n    protected override _getTypeName(): string {\r\n        return \"ColorPicker\";\r\n    }\r\n\r\n    /**\r\n     * @internal\r\n     */\r\n    protected override _preMeasure(parentMeasure: Measure): void {\r\n        if (parentMeasure.width < parentMeasure.height) {\r\n            this._currentMeasure.height = parentMeasure.width;\r\n        } else {\r\n            this._currentMeasure.width = parentMeasure.height;\r\n        }\r\n    }\r\n\r\n    private _updateSquareProps(): void {\r\n        const radius = Math.min(this._currentMeasure.width, this._currentMeasure.height) * 0.5;\r\n        const wheelThickness = radius * 0.2;\r\n        const innerDiameter = (radius - wheelThickness) * 2;\r\n        const squareSize = innerDiameter / Math.sqrt(2);\r\n        const offset = radius - squareSize * 0.5;\r\n\r\n        this._squareLeft = this._currentMeasure.left + offset;\r\n        this._squareTop = this._currentMeasure.top + offset;\r\n        this._squareSize = squareSize;\r\n    }\r\n\r\n    private _drawGradientSquare(hueValue: number, left: number, top: number, width: number, height: number, context: ICanvasRenderingContext) {\r\n        const lgh = context.createLinearGradient(left, top, width + left, top);\r\n        lgh.addColorStop(0, \"#fff\");\r\n        lgh.addColorStop(1, \"hsl(\" + hueValue + \", 100%, 50%)\");\r\n\r\n        context.fillStyle = lgh;\r\n        context.fillRect(left, top, width, height);\r\n\r\n        const lgv = context.createLinearGradient(left, top, left, height + top);\r\n        lgv.addColorStop(0, \"rgba(0,0,0,0)\");\r\n        lgv.addColorStop(1, \"#000\");\r\n\r\n        context.fillStyle = lgv;\r\n        context.fillRect(left, top, width, height);\r\n    }\r\n\r\n    private _drawCircle(centerX: number, centerY: number, radius: number, context: ICanvasRenderingContext) {\r\n        context.beginPath();\r\n        context.arc(centerX, centerY, radius + 1, 0, 2 * Math.PI, false);\r\n        context.lineWidth = 3;\r\n        context.strokeStyle = \"#333333\";\r\n        context.stroke();\r\n        context.beginPath();\r\n        context.arc(centerX, centerY, radius, 0, 2 * Math.PI, false);\r\n        context.lineWidth = 3;\r\n        context.strokeStyle = \"#ffffff\";\r\n        context.stroke();\r\n    }\r\n\r\n    private _createColorWheelCanvas(radius: number, thickness: number): ICanvas {\r\n        // Shoudl abstract platform instead of using LastCreatedEngine\r\n        const engine = EngineStore.LastCreatedEngine;\r\n        if (!engine) {\r\n            throw new Error(\"Invalid engine. Unable to create a canvas.\");\r\n        }\r\n        const canvas = engine.createCanvas(radius * 2, radius * 2);\r\n        const context = canvas.getContext(\"2d\");\r\n        const image = context.getImageData(0, 0, radius * 2, radius * 2);\r\n        const data = image.data;\r\n\r\n        const color = this._tmpColor;\r\n        const maxDistSq = radius * radius;\r\n        const innerRadius = radius - thickness;\r\n        const minDistSq = innerRadius * innerRadius;\r\n\r\n        for (let x = -radius; x < radius; x++) {\r\n            for (let y = -radius; y < radius; y++) {\r\n                const distSq = x * x + y * y;\r\n\r\n                if (distSq > maxDistSq || distSq < minDistSq) {\r\n                    continue;\r\n                }\r\n\r\n                const dist = Math.sqrt(distSq);\r\n                const ang = Math.atan2(y, x);\r\n\r\n                Color3.HSVtoRGBToRef((ang * 180) / Math.PI + 180, dist / radius, 1, color);\r\n\r\n                const index = (x + radius + (y + radius) * 2 * radius) * 4;\r\n\r\n                data[index] = color.r * 255;\r\n                data[index + 1] = color.g * 255;\r\n                data[index + 2] = color.b * 255;\r\n                let alphaRatio = (dist - innerRadius) / (radius - innerRadius);\r\n\r\n                //apply less alpha to bigger color pickers\r\n                let alphaAmount = 0.2;\r\n                const maxAlpha = 0.2;\r\n                const minAlpha = 0.04;\r\n                const lowerRadius = 50;\r\n                const upperRadius = 150;\r\n\r\n                if (radius < lowerRadius) {\r\n                    alphaAmount = maxAlpha;\r\n                } else if (radius > upperRadius) {\r\n                    alphaAmount = minAlpha;\r\n                } else {\r\n                    alphaAmount = ((minAlpha - maxAlpha) * (radius - lowerRadius)) / (upperRadius - lowerRadius) + maxAlpha;\r\n                }\r\n\r\n                alphaRatio = (dist - innerRadius) / (radius - innerRadius);\r\n\r\n                if (alphaRatio < alphaAmount) {\r\n                    data[index + 3] = 255 * (alphaRatio / alphaAmount);\r\n                } else if (alphaRatio > 1 - alphaAmount) {\r\n                    data[index + 3] = 255 * (1.0 - (alphaRatio - (1 - alphaAmount)) / alphaAmount);\r\n                } else {\r\n                    data[index + 3] = 255;\r\n                }\r\n            }\r\n        }\r\n\r\n        context.putImageData(image, 0, 0);\r\n\r\n        return canvas;\r\n    }\r\n\r\n    /**\r\n     * @internal\r\n     */\r\n    public override _draw(context: ICanvasRenderingContext): void {\r\n        context.save();\r\n\r\n        this._applyStates(context);\r\n\r\n        const radius = Math.min(this._currentMeasure.width, this._currentMeasure.height) * 0.5;\r\n        const wheelThickness = radius * 0.2;\r\n        const left = this._currentMeasure.left;\r\n        const top = this._currentMeasure.top;\r\n\r\n        if (!this._colorWheelCanvas || this._colorWheelCanvas.width != radius * 2) {\r\n            this._colorWheelCanvas = this._createColorWheelCanvas(radius, wheelThickness);\r\n        }\r\n\r\n        this._updateSquareProps();\r\n\r\n        if (this.shadowBlur || this.shadowOffsetX || this.shadowOffsetY) {\r\n            context.shadowColor = this.shadowColor;\r\n            context.shadowBlur = this.shadowBlur;\r\n            context.shadowOffsetX = this.shadowOffsetX * this._host.idealRatio;\r\n            context.shadowOffsetY = this.shadowOffsetY * this._host.idealRatio;\r\n\r\n            context.fillRect(this._squareLeft, this._squareTop, this._squareSize, this._squareSize);\r\n        }\r\n\r\n        context.drawImage(this._colorWheelCanvas, left, top);\r\n\r\n        if (this.shadowBlur || this.shadowOffsetX || this.shadowOffsetY) {\r\n            context.shadowBlur = 0;\r\n            context.shadowOffsetX = 0;\r\n            context.shadowOffsetY = 0;\r\n        }\r\n\r\n        this._drawGradientSquare(this._h, this._squareLeft, this._squareTop, this._squareSize, this._squareSize, context);\r\n\r\n        let cx = this._squareLeft + this._squareSize * this._s;\r\n        let cy = this._squareTop + this._squareSize * (1 - this._v);\r\n\r\n        this._drawCircle(cx, cy, radius * 0.04, context);\r\n\r\n        const dist = radius - wheelThickness * 0.5;\r\n        cx = left + radius + Math.cos(((this._h - 180) * Math.PI) / 180) * dist;\r\n        cy = top + radius + Math.sin(((this._h - 180) * Math.PI) / 180) * dist;\r\n        this._drawCircle(cx, cy, wheelThickness * 0.35, context);\r\n\r\n        context.restore();\r\n    }\r\n\r\n    // Events\r\n    private _pointerIsDown = false;\r\n\r\n    private _updateValueFromPointer(x: number, y: number): void {\r\n        if (this._pointerStartedOnWheel) {\r\n            const radius = Math.min(this._currentMeasure.width, this._currentMeasure.height) * 0.5;\r\n            const centerX = radius + this._currentMeasure.left;\r\n            const centerY = radius + this._currentMeasure.top;\r\n            this._h = (Math.atan2(y - centerY, x - centerX) * 180) / Math.PI + 180;\r\n        } else if (this._pointerStartedOnSquare) {\r\n            this._updateSquareProps();\r\n            this._s = (x - this._squareLeft) / this._squareSize;\r\n            this._v = 1 - (y - this._squareTop) / this._squareSize;\r\n            this._s = Math.min(this._s, 1);\r\n            this._s = Math.max(this._s, ColorPicker._Epsilon);\r\n            this._v = Math.min(this._v, 1);\r\n            this._v = Math.max(this._v, ColorPicker._Epsilon);\r\n        }\r\n\r\n        Color3.HSVtoRGBToRef(this._h, this._s, this._v, this._tmpColor);\r\n\r\n        this.value = this._tmpColor;\r\n    }\r\n\r\n    private _isPointOnSquare(x: number, y: number): boolean {\r\n        this._updateSquareProps();\r\n\r\n        const left = this._squareLeft;\r\n        const top = this._squareTop;\r\n        const size = this._squareSize;\r\n\r\n        if (x >= left && x <= left + size && y >= top && y <= top + size) {\r\n            return true;\r\n        }\r\n\r\n        return false;\r\n    }\r\n\r\n    private _isPointOnWheel(x: number, y: number): boolean {\r\n        const radius = Math.min(this._currentMeasure.width, this._currentMeasure.height) * 0.5;\r\n        const centerX = radius + this._currentMeasure.left;\r\n        const centerY = radius + this._currentMeasure.top;\r\n        const wheelThickness = radius * 0.2;\r\n        const innerRadius = radius - wheelThickness;\r\n        const radiusSq = radius * radius;\r\n        const innerRadiusSq = innerRadius * innerRadius;\r\n\r\n        const dx = x - centerX;\r\n        const dy = y - centerY;\r\n\r\n        const distSq = dx * dx + dy * dy;\r\n\r\n        if (distSq <= radiusSq && distSq >= innerRadiusSq) {\r\n            return true;\r\n        }\r\n\r\n        return false;\r\n    }\r\n\r\n    public override _onPointerDown(target: Control, coordinates: Vector2, pointerId: number, buttonIndex: number, pi: PointerInfoBase): boolean {\r\n        if (!super._onPointerDown(target, coordinates, pointerId, buttonIndex, pi)) {\r\n            return false;\r\n        }\r\n\r\n        if (this.isReadOnly) {\r\n            return true;\r\n        }\r\n\r\n        this._pointerIsDown = true;\r\n\r\n        this._pointerStartedOnSquare = false;\r\n        this._pointerStartedOnWheel = false;\r\n\r\n        // Invert transform\r\n        this._invertTransformMatrix.transformCoordinates(coordinates.x, coordinates.y, this._transformedPosition);\r\n\r\n        const x = this._transformedPosition.x;\r\n        const y = this._transformedPosition.y;\r\n\r\n        if (this._isPointOnSquare(x, y)) {\r\n            this._pointerStartedOnSquare = true;\r\n        } else if (this._isPointOnWheel(x, y)) {\r\n            this._pointerStartedOnWheel = true;\r\n        }\r\n\r\n        this._updateValueFromPointer(x, y);\r\n        this._host._capturingControl[pointerId] = this;\r\n        this._lastPointerDownId = pointerId;\r\n        return true;\r\n    }\r\n\r\n    public override _onPointerMove(target: Control, coordinates: Vector2, pointerId: number, pi: PointerInfoBase): void {\r\n        // Only listen to pointer move events coming from the last pointer to click on the element (To support dual vr controller interaction)\r\n        if (pointerId != this._lastPointerDownId) {\r\n            return;\r\n        }\r\n\r\n        if (!this.isReadOnly) {\r\n            // Invert transform\r\n            this._invertTransformMatrix.transformCoordinates(coordinates.x, coordinates.y, this._transformedPosition);\r\n\r\n            const x = this._transformedPosition.x;\r\n            const y = this._transformedPosition.y;\r\n\r\n            if (this._pointerIsDown) {\r\n                this._updateValueFromPointer(x, y);\r\n            }\r\n        }\r\n\r\n        super._onPointerMove(target, coordinates, pointerId, pi);\r\n    }\r\n\r\n    public override _onPointerUp(target: Control, coordinates: Vector2, pointerId: number, buttonIndex: number, notifyClick: boolean, pi: PointerInfoBase): void {\r\n        this._pointerIsDown = false;\r\n\r\n        delete this._host._capturingControl[pointerId];\r\n        super._onPointerUp(target, coordinates, pointerId, buttonIndex, notifyClick, pi);\r\n    }\r\n\r\n    public override _onCanvasBlur() {\r\n        this._forcePointerUp();\r\n        super._onCanvasBlur();\r\n    }\r\n\r\n    /**\r\n     * This function expands the color picker by creating a color picker dialog with manual\r\n     * color value input and the ability to save colors into an array to be used later in\r\n     * subsequent launches of the dialogue.\r\n     * @param advancedTexture defines the AdvancedDynamicTexture the dialog is assigned to\r\n     * @param options defines size for dialog and options for saved colors. Also accepts last color picked as hex string and saved colors array as hex strings.\r\n     * @param options.pickerWidth\r\n     * @param options.pickerHeight\r\n     * @param options.headerHeight\r\n     * @param options.lastColor\r\n     * @param options.swatchLimit\r\n     * @param options.numSwatchesPerLine\r\n     * @param options.savedColors\r\n     * @returns picked color as a hex string and the saved colors array as hex strings.\r\n     */\r\n    public static async ShowPickerDialogAsync(\r\n        advancedTexture: AdvancedDynamicTexture,\r\n        options: {\r\n            pickerWidth?: string;\r\n            pickerHeight?: string;\r\n            headerHeight?: string;\r\n            lastColor?: string;\r\n            swatchLimit?: number;\r\n            numSwatchesPerLine?: number;\r\n            savedColors?: Array<string>;\r\n        }\r\n    ): Promise<{\r\n        savedColors?: string[];\r\n        pickedColor: string;\r\n    }> {\r\n        return await new Promise((resolve) => {\r\n            // Default options\r\n            options.pickerWidth = options.pickerWidth || \"640px\";\r\n            options.pickerHeight = options.pickerHeight || \"400px\";\r\n            options.headerHeight = options.headerHeight || \"35px\";\r\n            options.lastColor = options.lastColor || \"#000000\";\r\n            options.swatchLimit = options.swatchLimit || 20;\r\n            options.numSwatchesPerLine = options.numSwatchesPerLine || 10;\r\n\r\n            // Window size settings\r\n            const drawerMaxRows: number = options.swatchLimit / options.numSwatchesPerLine;\r\n            const rawSwatchSize: number = parseFloat(options.pickerWidth) / options.numSwatchesPerLine;\r\n            const gutterSize: number = Math.floor(rawSwatchSize * 0.25);\r\n            const colGutters: number = gutterSize * (options.numSwatchesPerLine + 1);\r\n            const swatchSize: number = Math.floor((parseFloat(options.pickerWidth) - colGutters) / options.numSwatchesPerLine);\r\n            const drawerMaxSize: number = swatchSize * drawerMaxRows + gutterSize * (drawerMaxRows + 1);\r\n            const containerSize: string = (parseInt(options.pickerHeight) + drawerMaxSize + Math.floor(swatchSize * 0.25)).toString() + \"px\";\r\n\r\n            // Button Colors\r\n            const buttonColor: string = \"#c0c0c0\";\r\n            const buttonBackgroundColor: string = \"#535353\";\r\n            const buttonBackgroundHoverColor: string = \"#414141\";\r\n            const buttonBackgroundClickColor: string = \"515151\";\r\n            const buttonDisabledColor: string = \"#555555\";\r\n            const buttonDisabledBackgroundColor: string = \"#454545\";\r\n            const currentSwatchesOutlineColor: string = \"#404040\";\r\n            const luminanceLimitColor: Color3 = Color3.FromHexString(\"#dddddd\");\r\n            const luminanceLimit: number = luminanceLimitColor.r + luminanceLimitColor.g + luminanceLimitColor.b;\r\n            const iconColorDark: string = \"#aaaaaa\";\r\n            const iconColorLight: string = \"#ffffff\";\r\n\r\n            // Button settings\r\n            let buttonFontSize: number;\r\n            let butEdit: Button;\r\n\r\n            // Input Text Colors\r\n            const inputFieldLabels: string[] = [\"R\", \"G\", \"B\"];\r\n            const inputTextBackgroundColor: string = \"#454545\";\r\n            const inputTextColor: string = \"#f0f0f0\";\r\n\r\n            // This int is used for naming swatches and serves as the index for calling them from the list\r\n            let swatchNumber: number;\r\n\r\n            // Menu Panel options. We need to know if the swatchDrawer exists so we can create it if needed.\r\n            let swatchDrawer: Grid;\r\n            let editSwatchMode: boolean = false;\r\n\r\n            // Color InputText fields that will be updated upon value change\r\n            let butSave: Button;\r\n            let lastVal: string;\r\n            let activeField: string;\r\n\r\n            // Dialog menu container which will contain both the main dialogue window and the swatch drawer which opens once a color is saved.\r\n            const dialogContainer: Grid = new Grid();\r\n            dialogContainer.name = \"Dialog Container\";\r\n            dialogContainer.width = options.pickerWidth;\r\n            if (options.savedColors) {\r\n                dialogContainer.height = containerSize;\r\n                const topRow: number = parseInt(options.pickerHeight) / parseInt(containerSize);\r\n                dialogContainer.addRowDefinition(topRow, false);\r\n                dialogContainer.addRowDefinition(1.0 - topRow, false);\r\n            } else {\r\n                dialogContainer.height = options.pickerHeight;\r\n                dialogContainer.addRowDefinition(1.0, false);\r\n            }\r\n            advancedTexture.addControl(dialogContainer);\r\n\r\n            // Swatch drawer which contains all saved color buttons\r\n            if (options.savedColors) {\r\n                swatchDrawer = new Grid();\r\n                swatchDrawer.name = \"Swatch Drawer\";\r\n                swatchDrawer.verticalAlignment = Control.VERTICAL_ALIGNMENT_TOP;\r\n                swatchDrawer.background = buttonBackgroundColor;\r\n                swatchDrawer.width = options.pickerWidth!;\r\n                const initialRows: number = options.savedColors.length / options.numSwatchesPerLine;\r\n                let gutterCount: number;\r\n                if (initialRows == 0) {\r\n                    gutterCount = 0;\r\n                } else {\r\n                    gutterCount = initialRows + 1;\r\n                }\r\n                swatchDrawer.height = (swatchSize * initialRows + gutterCount * gutterSize).toString() + \"px\";\r\n                swatchDrawer.top = Math.floor(swatchSize * 0.25).toString() + \"px\";\r\n                for (let i = 0; i < Math.ceil(options.savedColors.length / options.numSwatchesPerLine) * 2 + 1; i++) {\r\n                    if (i % 2 != 0) {\r\n                        swatchDrawer.addRowDefinition(swatchSize, true);\r\n                    } else {\r\n                        swatchDrawer.addRowDefinition(gutterSize, true);\r\n                    }\r\n                }\r\n                for (let i = 0; i < options.numSwatchesPerLine * 2 + 1; i++) {\r\n                    if (i % 2 != 0) {\r\n                        swatchDrawer.addColumnDefinition(swatchSize, true);\r\n                    } else {\r\n                        swatchDrawer.addColumnDefinition(gutterSize, true);\r\n                    }\r\n                }\r\n                dialogContainer.addControl(swatchDrawer, 1, 0);\r\n            }\r\n\r\n            // Picker container\r\n            const pickerPanel: Grid = new Grid();\r\n            pickerPanel.name = \"Picker Panel\";\r\n            pickerPanel.height = options.pickerHeight;\r\n            const panelHead: number = parseInt(options.headerHeight) / parseInt(options.pickerHeight);\r\n            const pickerPanelRows: number[] = [panelHead, 1.0 - panelHead];\r\n            pickerPanel.addRowDefinition(pickerPanelRows[0], false);\r\n            pickerPanel.addRowDefinition(pickerPanelRows[1], false);\r\n            dialogContainer.addControl(pickerPanel, 0, 0);\r\n\r\n            // Picker container header\r\n            const header: Rectangle = new Rectangle();\r\n            header.name = \"Dialogue Header Bar\";\r\n            header.background = \"#cccccc\";\r\n            header.thickness = 0;\r\n            pickerPanel.addControl(header, 0, 0);\r\n\r\n            // Header close button\r\n            const closeButton: Button = Button.CreateSimpleButton(\"closeButton\", \"a\");\r\n            closeButton.fontFamily = \"coreglyphs\";\r\n            const headerColor3: Color3 = Color3.FromHexString(header.background);\r\n            const closeIconColor = new Color3(1.0 - headerColor3.r, 1.0 - headerColor3.g, 1.0 - headerColor3.b);\r\n            closeButton.color = closeIconColor.toHexString();\r\n            closeButton.fontSize = Math.floor(parseInt(options.headerHeight) * 0.6);\r\n            closeButton.textBlock!.textVerticalAlignment = Control.VERTICAL_ALIGNMENT_CENTER;\r\n            closeButton.horizontalAlignment = Control.HORIZONTAL_ALIGNMENT_RIGHT;\r\n            closeButton.height = closeButton.width = options.headerHeight;\r\n            closeButton.background = header.background;\r\n            closeButton.thickness = 0;\r\n            closeButton.pointerDownAnimation = () => {};\r\n            closeButton.pointerUpAnimation = () => {\r\n                closeButton.background = header.background;\r\n            };\r\n            closeButton.pointerEnterAnimation = () => {\r\n                closeButton.color = header.background;\r\n                closeButton.background = \"red\";\r\n            };\r\n            closeButton.pointerOutAnimation = () => {\r\n                closeButton.color = closeIconColor.toHexString();\r\n                closeButton.background = header.background;\r\n            };\r\n            closeButton.onPointerClickObservable.add(() => {\r\n                closePicker(currentSwatch.background);\r\n            });\r\n            pickerPanel.addControl(closeButton, 0, 0);\r\n\r\n            // Dialog container body\r\n            const dialogBody: Grid = new Grid();\r\n            dialogBody.name = \"Dialogue Body\";\r\n            dialogBody.background = buttonBackgroundColor;\r\n            const dialogBodyCols: number[] = [0.4375, 0.5625];\r\n            dialogBody.addRowDefinition(1.0, false);\r\n            dialogBody.addColumnDefinition(dialogBodyCols[0], false);\r\n            dialogBody.addColumnDefinition(dialogBodyCols[1], false);\r\n            pickerPanel.addControl(dialogBody, 1, 0);\r\n\r\n            // Picker grid\r\n            const pickerGrid: Grid = new Grid();\r\n            pickerGrid.name = \"Picker Grid\";\r\n            pickerGrid.addRowDefinition(0.85, false);\r\n            pickerGrid.addRowDefinition(0.15, false);\r\n            dialogBody.addControl(pickerGrid, 0, 0);\r\n\r\n            //  Picker control\r\n            const picker = new ColorPicker();\r\n            picker.name = \"GUI Color Picker\";\r\n            if (options.pickerHeight < options.pickerWidth) {\r\n                picker.width = 0.89;\r\n            } else {\r\n                picker.height = 0.89;\r\n            }\r\n            picker.value = Color3.FromHexString(options.lastColor);\r\n            picker.horizontalAlignment = Control.HORIZONTAL_ALIGNMENT_CENTER;\r\n            picker.verticalAlignment = Control.VERTICAL_ALIGNMENT_CENTER;\r\n            picker.onPointerDownObservable.add(() => {\r\n                activeField = picker.name!;\r\n                lastVal = \"\";\r\n                editSwatches(false);\r\n            });\r\n            picker.onValueChangedObservable.add(function (value) {\r\n                // value is a color3\r\n                if (activeField == picker.name) {\r\n                    updateValues(value, picker.name);\r\n                }\r\n            });\r\n            pickerGrid.addControl(picker, 0, 0);\r\n\r\n            // Picker body right quarant\r\n            const pickerBodyRight: Grid = new Grid();\r\n            pickerBodyRight.name = \"Dialogue Right Half\";\r\n            pickerBodyRight.horizontalAlignment = Control.HORIZONTAL_ALIGNMENT_LEFT;\r\n            const pickerBodyRightRows: number[] = [0.514, 0.486];\r\n            pickerBodyRight.addRowDefinition(pickerBodyRightRows[0], false);\r\n            pickerBodyRight.addRowDefinition(pickerBodyRightRows[1], false);\r\n            dialogBody.addControl(pickerBodyRight, 1, 1);\r\n\r\n            // Picker container swatches and buttons\r\n            const pickerSwatchesButtons: Grid = new Grid();\r\n            pickerSwatchesButtons.name = \"Swatches and Buttons\";\r\n            const pickerButtonsCol: number[] = [0.417, 0.583];\r\n            pickerSwatchesButtons.addRowDefinition(1.0, false);\r\n            pickerSwatchesButtons.addColumnDefinition(pickerButtonsCol[0], false);\r\n            pickerSwatchesButtons.addColumnDefinition(pickerButtonsCol[1], false);\r\n            pickerBodyRight.addControl(pickerSwatchesButtons, 0, 0);\r\n\r\n            // Picker Swatches quadrant\r\n            const pickerSwatches: Grid = new Grid();\r\n            pickerSwatches.name = \"New and Current Swatches\";\r\n            const pickeSwatchesRows: number[] = [0.04, 0.16, 0.64, 0.16];\r\n            pickerSwatches.addRowDefinition(pickeSwatchesRows[0], false);\r\n            pickerSwatches.addRowDefinition(pickeSwatchesRows[1], false);\r\n            pickerSwatches.addRowDefinition(pickeSwatchesRows[2], false);\r\n            pickerSwatches.addRowDefinition(pickeSwatchesRows[3], false);\r\n            pickerSwatchesButtons.addControl(pickerSwatches, 0, 0);\r\n\r\n            // Active swatches\r\n            const activeSwatches: Grid = new Grid();\r\n            activeSwatches.name = \"Active Swatches\";\r\n            activeSwatches.width = 0.67;\r\n            activeSwatches.addRowDefinition(0.5, false);\r\n            activeSwatches.addRowDefinition(0.5, false);\r\n            pickerSwatches.addControl(activeSwatches, 2, 0);\r\n\r\n            const labelWidth: number = Math.floor(parseInt(options.pickerWidth) * dialogBodyCols[1] * pickerButtonsCol[0] * 0.11);\r\n            const labelHeight: number = Math.floor(parseInt(options.pickerHeight) * pickerPanelRows[1] * pickerBodyRightRows[0] * pickeSwatchesRows[1] * 0.5);\r\n\r\n            let labelTextSize: number;\r\n            if (options.pickerWidth > options.pickerHeight) {\r\n                labelTextSize = labelHeight;\r\n            } else {\r\n                labelTextSize = labelWidth;\r\n            }\r\n            // New color swatch and previous color button\r\n            const newText: TextBlock = new TextBlock();\r\n            newText.text = \"new\";\r\n            newText.name = \"New Color Label\";\r\n            newText.color = buttonColor;\r\n            newText.fontSize = labelTextSize;\r\n            pickerSwatches.addControl(newText, 1, 0);\r\n\r\n            const newSwatch = new Rectangle();\r\n            newSwatch.name = \"New Color Swatch\";\r\n            newSwatch.background = options.lastColor;\r\n            newSwatch.thickness = 0;\r\n            activeSwatches.addControl(newSwatch, 0, 0);\r\n\r\n            const currentSwatch: Button = Button.CreateSimpleButton(\"currentSwatch\", \"\");\r\n            currentSwatch.background = options.lastColor;\r\n            currentSwatch.thickness = 0;\r\n            currentSwatch.onPointerClickObservable.add(() => {\r\n                const revertColor = Color3.FromHexString(currentSwatch.background);\r\n                updateValues(revertColor, currentSwatch.name!);\r\n                editSwatches(false);\r\n            });\r\n            currentSwatch.pointerDownAnimation = () => {};\r\n            currentSwatch.pointerUpAnimation = () => {};\r\n            currentSwatch.pointerEnterAnimation = () => {};\r\n            currentSwatch.pointerOutAnimation = () => {};\r\n            activeSwatches.addControl(currentSwatch, 1, 0);\r\n\r\n            const swatchOutline: Rectangle = new Rectangle();\r\n            swatchOutline.name = \"Swatch Outline\";\r\n            swatchOutline.width = 0.67;\r\n            swatchOutline.thickness = 2;\r\n            swatchOutline.color = currentSwatchesOutlineColor;\r\n            swatchOutline.isHitTestVisible = false;\r\n            pickerSwatches.addControl(swatchOutline, 2, 0);\r\n\r\n            const currentText: TextBlock = new TextBlock();\r\n            currentText.name = \"Current Color Label\";\r\n            currentText.text = \"current\";\r\n            currentText.color = buttonColor;\r\n            currentText.fontSize = labelTextSize;\r\n            pickerSwatches.addControl(currentText, 3, 0);\r\n\r\n            // Buttons grid\r\n            const buttonGrid: Grid = new Grid();\r\n            buttonGrid.name = \"Button Grid\";\r\n            buttonGrid.height = 0.8;\r\n            const buttonGridRows: number = 1 / 3;\r\n            buttonGrid.addRowDefinition(buttonGridRows, false);\r\n            buttonGrid.addRowDefinition(buttonGridRows, false);\r\n            buttonGrid.addRowDefinition(buttonGridRows, false);\r\n            pickerSwatchesButtons.addControl(buttonGrid, 0, 1);\r\n\r\n            // Determine pixel width and height for all buttons from overall panel dimensions\r\n            const buttonWidth = Math.floor(parseInt(options.pickerWidth) * dialogBodyCols[1] * pickerButtonsCol[1] * 0.67).toString() + \"px\";\r\n            const buttonHeight =\r\n                Math.floor(\r\n                    parseInt(options.pickerHeight) * pickerPanelRows[1] * pickerBodyRightRows[0] * (parseFloat(buttonGrid.height.toString()) / 100) * buttonGridRows * 0.7\r\n                ).toString() + \"px\";\r\n\r\n            // Determine button type size\r\n            if (parseFloat(buttonWidth) > parseFloat(buttonHeight)) {\r\n                buttonFontSize = Math.floor(parseFloat(buttonHeight) * 0.45);\r\n            } else {\r\n                buttonFontSize = Math.floor(parseFloat(buttonWidth) * 0.11);\r\n            }\r\n\r\n            // Panel Buttons\r\n            const butOK: Button = Button.CreateSimpleButton(\"butOK\", \"OK\");\r\n            butOK.width = buttonWidth;\r\n            butOK.height = buttonHeight;\r\n            butOK.verticalAlignment = Control.VERTICAL_ALIGNMENT_CENTER;\r\n            butOK.thickness = 2;\r\n            butOK.color = buttonColor;\r\n            butOK.fontSize = buttonFontSize;\r\n            butOK.background = buttonBackgroundColor;\r\n            butOK.onPointerEnterObservable.add(() => {\r\n                butOK.background = buttonBackgroundHoverColor;\r\n            });\r\n            butOK.onPointerOutObservable.add(() => {\r\n                butOK.background = buttonBackgroundColor;\r\n            });\r\n            butOK.pointerDownAnimation = () => {\r\n                butOK.background = buttonBackgroundClickColor;\r\n            };\r\n            butOK.pointerUpAnimation = () => {\r\n                butOK.background = buttonBackgroundHoverColor;\r\n            };\r\n            butOK.onPointerClickObservable.add(() => {\r\n                editSwatches(false);\r\n                closePicker(newSwatch.background);\r\n            });\r\n            buttonGrid.addControl(butOK, 0, 0);\r\n\r\n            const butCancel: Button = Button.CreateSimpleButton(\"butCancel\", \"Cancel\");\r\n            butCancel.width = buttonWidth;\r\n            butCancel.height = buttonHeight;\r\n            butCancel.verticalAlignment = Control.VERTICAL_ALIGNMENT_CENTER;\r\n            butCancel.thickness = 2;\r\n            butCancel.color = buttonColor;\r\n            butCancel.fontSize = buttonFontSize;\r\n            butCancel.background = buttonBackgroundColor;\r\n            butCancel.onPointerEnterObservable.add(() => {\r\n                butCancel.background = buttonBackgroundHoverColor;\r\n            });\r\n            butCancel.onPointerOutObservable.add(() => {\r\n                butCancel.background = buttonBackgroundColor;\r\n            });\r\n            butCancel.pointerDownAnimation = () => {\r\n                butCancel.background = buttonBackgroundClickColor;\r\n            };\r\n            butCancel.pointerUpAnimation = () => {\r\n                butCancel.background = buttonBackgroundHoverColor;\r\n            };\r\n            butCancel.onPointerClickObservable.add(() => {\r\n                editSwatches(false);\r\n                closePicker(currentSwatch.background);\r\n            });\r\n            buttonGrid.addControl(butCancel, 1, 0);\r\n\r\n            if (options.savedColors) {\r\n                butSave = Button.CreateSimpleButton(\"butSave\", \"Save\");\r\n                butSave.width = buttonWidth;\r\n                butSave.height = buttonHeight;\r\n                butSave.verticalAlignment = Control.VERTICAL_ALIGNMENT_CENTER;\r\n                butSave.thickness = 2;\r\n                butSave.fontSize = buttonFontSize;\r\n                if (options.savedColors.length < options.swatchLimit) {\r\n                    butSave.color = buttonColor;\r\n                    butSave.background = buttonBackgroundColor;\r\n                } else {\r\n                    disableButton(butSave, true);\r\n                }\r\n                butSave.onPointerEnterObservable.add(() => {\r\n                    if (options.savedColors) {\r\n                        if (options.savedColors.length < options.swatchLimit!) {\r\n                            butSave.background = buttonBackgroundHoverColor;\r\n                        }\r\n                    }\r\n                });\r\n                butSave.onPointerOutObservable.add(() => {\r\n                    if (options.savedColors) {\r\n                        if (options.savedColors.length < options.swatchLimit!) {\r\n                            butSave.background = buttonBackgroundColor;\r\n                        }\r\n                    }\r\n                });\r\n                butSave.pointerDownAnimation = () => {\r\n                    if (options.savedColors) {\r\n                        if (options.savedColors.length < options.swatchLimit!) {\r\n                            butSave.background = buttonBackgroundClickColor;\r\n                        }\r\n                    }\r\n                };\r\n                butSave.pointerUpAnimation = () => {\r\n                    if (options.savedColors) {\r\n                        if (options.savedColors.length < options.swatchLimit!) {\r\n                            butSave.background = buttonBackgroundHoverColor;\r\n                        }\r\n                    }\r\n                };\r\n                butSave.onPointerClickObservable.add(() => {\r\n                    if (options.savedColors) {\r\n                        if (options.savedColors.length == 0) {\r\n                            setEditButtonVisibility(true);\r\n                        }\r\n                        if (options.savedColors.length < options.swatchLimit!) {\r\n                            updateSwatches(newSwatch.background, butSave);\r\n                        }\r\n                        editSwatches(false);\r\n                    }\r\n                });\r\n                if (options.savedColors.length > 0) {\r\n                    setEditButtonVisibility(true);\r\n                }\r\n                buttonGrid.addControl(butSave, 2, 0);\r\n            }\r\n\r\n            // Picker color values input\r\n            const pickerColorValues: Grid = new Grid();\r\n            pickerColorValues.name = \"Dialog Lower Right\";\r\n            pickerColorValues.addRowDefinition(0.02, false);\r\n            pickerColorValues.addRowDefinition(0.63, false);\r\n            pickerColorValues.addRowDefinition(0.21, false);\r\n            pickerColorValues.addRowDefinition(0.14, false);\r\n            pickerBodyRight.addControl(pickerColorValues, 1, 0);\r\n\r\n            // RGB values text boxes\r\n            const currentColor = Color3.FromHexString(options.lastColor);\r\n            const rgbValuesQuadrant: Grid = new Grid();\r\n            rgbValuesQuadrant.name = \"RGB Values\";\r\n            rgbValuesQuadrant.width = 0.82;\r\n            rgbValuesQuadrant.verticalAlignment = Control.VERTICAL_ALIGNMENT_CENTER;\r\n            rgbValuesQuadrant.addRowDefinition(1 / 3, false);\r\n            rgbValuesQuadrant.addRowDefinition(1 / 3, false);\r\n            rgbValuesQuadrant.addRowDefinition(1 / 3, false);\r\n            rgbValuesQuadrant.addColumnDefinition(0.1, false);\r\n            rgbValuesQuadrant.addColumnDefinition(0.2, false);\r\n            rgbValuesQuadrant.addColumnDefinition(0.7, false);\r\n            pickerColorValues.addControl(rgbValuesQuadrant, 1, 0);\r\n\r\n            for (let i = 0; i < inputFieldLabels.length; i++) {\r\n                const labelText: TextBlock = new TextBlock();\r\n                labelText.text = inputFieldLabels[i];\r\n                labelText.color = buttonColor;\r\n                labelText.fontSize = buttonFontSize;\r\n                rgbValuesQuadrant.addControl(labelText, i, 0);\r\n            }\r\n\r\n            // Input fields for RGB values\r\n            const rValInt = new InputText();\r\n            rValInt.width = 0.83;\r\n            rValInt.height = 0.72;\r\n            rValInt.name = \"rIntField\";\r\n            rValInt.fontSize = buttonFontSize;\r\n            rValInt.text = (currentColor.r * 255).toString();\r\n            rValInt.color = inputTextColor;\r\n            rValInt.background = inputTextBackgroundColor;\r\n            rValInt.onFocusObservable.add(() => {\r\n                activeField = rValInt.name!;\r\n                lastVal = rValInt.text;\r\n                editSwatches(false);\r\n            });\r\n            rValInt.onBlurObservable.add(() => {\r\n                if (rValInt.text == \"\") {\r\n                    rValInt.text = \"0\";\r\n                }\r\n                updateInt(rValInt, \"r\");\r\n                if (activeField == rValInt.name) {\r\n                    activeField = \"\";\r\n                }\r\n            });\r\n            rValInt.onTextChangedObservable.add(() => {\r\n                if (activeField == rValInt.name) {\r\n                    updateInt(rValInt, \"r\");\r\n                }\r\n            });\r\n            rgbValuesQuadrant.addControl(rValInt, 0, 1);\r\n\r\n            const gValInt = new InputText();\r\n            gValInt.width = 0.83;\r\n            gValInt.height = 0.72;\r\n            gValInt.name = \"gIntField\";\r\n            gValInt.fontSize = buttonFontSize;\r\n            gValInt.text = (currentColor.g * 255).toString();\r\n            gValInt.color = inputTextColor;\r\n            gValInt.background = inputTextBackgroundColor;\r\n            gValInt.onFocusObservable.add(() => {\r\n                activeField = gValInt.name!;\r\n                lastVal = gValInt.text;\r\n                editSwatches(false);\r\n            });\r\n            gValInt.onBlurObservable.add(() => {\r\n                if (gValInt.text == \"\") {\r\n                    gValInt.text = \"0\";\r\n                }\r\n                updateInt(gValInt, \"g\");\r\n                if (activeField == gValInt.name) {\r\n                    activeField = \"\";\r\n                }\r\n            });\r\n            gValInt.onTextChangedObservable.add(() => {\r\n                if (activeField == gValInt.name) {\r\n                    updateInt(gValInt, \"g\");\r\n                }\r\n            });\r\n            rgbValuesQuadrant.addControl(gValInt, 1, 1);\r\n\r\n            const bValInt = new InputText();\r\n            bValInt.width = 0.83;\r\n            bValInt.height = 0.72;\r\n            bValInt.name = \"bIntField\";\r\n            bValInt.fontSize = buttonFontSize;\r\n            bValInt.text = (currentColor.b * 255).toString();\r\n            bValInt.color = inputTextColor;\r\n            bValInt.background = inputTextBackgroundColor;\r\n            bValInt.onFocusObservable.add(() => {\r\n                activeField = bValInt.name!;\r\n                lastVal = bValInt.text;\r\n                editSwatches(false);\r\n            });\r\n            bValInt.onBlurObservable.add(() => {\r\n                if (bValInt.text == \"\") {\r\n                    bValInt.text = \"0\";\r\n                }\r\n                updateInt(bValInt, \"b\");\r\n                if (activeField == bValInt.name) {\r\n                    activeField = \"\";\r\n                }\r\n            });\r\n            bValInt.onTextChangedObservable.add(() => {\r\n                if (activeField == bValInt.name) {\r\n                    updateInt(bValInt, \"b\");\r\n                }\r\n            });\r\n            rgbValuesQuadrant.addControl(bValInt, 2, 1);\r\n\r\n            const rValDec = new InputText();\r\n            rValDec.width = 0.95;\r\n            rValDec.height = 0.72;\r\n            rValDec.name = \"rDecField\";\r\n            rValDec.fontSize = buttonFontSize;\r\n            rValDec.text = currentColor.r.toString();\r\n            rValDec.color = inputTextColor;\r\n            rValDec.background = inputTextBackgroundColor;\r\n            rValDec.onFocusObservable.add(() => {\r\n                activeField = rValDec.name!;\r\n                lastVal = rValDec.text;\r\n                editSwatches(false);\r\n            });\r\n            rValDec.onBlurObservable.add(() => {\r\n                if (parseFloat(rValDec.text) == 0 || rValDec.text == \"\") {\r\n                    rValDec.text = \"0\";\r\n                    updateFloat(rValDec, \"r\");\r\n                }\r\n                if (activeField == rValDec.name) {\r\n                    activeField = \"\";\r\n                }\r\n            });\r\n            rValDec.onTextChangedObservable.add(() => {\r\n                if (activeField == rValDec.name) {\r\n                    updateFloat(rValDec, \"r\");\r\n                }\r\n            });\r\n            rgbValuesQuadrant.addControl(rValDec, 0, 2);\r\n\r\n            const gValDec = new InputText();\r\n            gValDec.width = 0.95;\r\n            gValDec.height = 0.72;\r\n            gValDec.name = \"gDecField\";\r\n            gValDec.fontSize = buttonFontSize;\r\n            gValDec.text = currentColor.g.toString();\r\n            gValDec.color = inputTextColor;\r\n            gValDec.background = inputTextBackgroundColor;\r\n            gValDec.onFocusObservable.add(() => {\r\n                activeField = gValDec.name!;\r\n                lastVal = gValDec.text;\r\n                editSwatches(false);\r\n            });\r\n            gValDec.onBlurObservable.add(() => {\r\n                if (parseFloat(gValDec.text) == 0 || gValDec.text == \"\") {\r\n                    gValDec.text = \"0\";\r\n                    updateFloat(gValDec, \"g\");\r\n                }\r\n                if (activeField == gValDec.name) {\r\n                    activeField = \"\";\r\n                }\r\n            });\r\n            gValDec.onTextChangedObservable.add(() => {\r\n                if (activeField == gValDec.name) {\r\n                    updateFloat(gValDec, \"g\");\r\n                }\r\n            });\r\n            rgbValuesQuadrant.addControl(gValDec, 1, 2);\r\n\r\n            const bValDec = new InputText();\r\n            bValDec.width = 0.95;\r\n            bValDec.height = 0.72;\r\n            bValDec.name = \"bDecField\";\r\n            bValDec.fontSize = buttonFontSize;\r\n            bValDec.text = currentColor.b.toString();\r\n            bValDec.color = inputTextColor;\r\n            bValDec.background = inputTextBackgroundColor;\r\n            bValDec.onFocusObservable.add(() => {\r\n                activeField = bValDec.name!;\r\n                lastVal = bValDec.text;\r\n                editSwatches(false);\r\n            });\r\n            bValDec.onBlurObservable.add(() => {\r\n                if (parseFloat(bValDec.text) == 0 || bValDec.text == \"\") {\r\n                    bValDec.text = \"0\";\r\n                    updateFloat(bValDec, \"b\");\r\n                }\r\n                if (activeField == bValDec.name) {\r\n                    activeField = \"\";\r\n                }\r\n            });\r\n            bValDec.onTextChangedObservable.add(() => {\r\n                if (activeField == bValDec.name) {\r\n                    updateFloat(bValDec, \"b\");\r\n                }\r\n            });\r\n            rgbValuesQuadrant.addControl(bValDec, 2, 2);\r\n\r\n            // Hex value input\r\n            const hexValueQuadrant: Grid = new Grid();\r\n            hexValueQuadrant.name = \"Hex Value\";\r\n            hexValueQuadrant.width = 0.82;\r\n            hexValueQuadrant.addRowDefinition(1.0, false);\r\n            hexValueQuadrant.addColumnDefinition(0.1, false);\r\n            hexValueQuadrant.addColumnDefinition(0.9, false);\r\n            pickerColorValues.addControl(hexValueQuadrant, 2, 0);\r\n\r\n            const labelText: TextBlock = new TextBlock();\r\n            labelText.text = \"#\";\r\n            labelText.color = buttonColor;\r\n            labelText.fontSize = buttonFontSize;\r\n            hexValueQuadrant.addControl(labelText, 0, 0);\r\n\r\n            const hexVal = new InputText();\r\n            hexVal.width = 0.96;\r\n            hexVal.height = 0.72;\r\n            hexVal.name = \"hexField\";\r\n            hexVal.horizontalAlignment = Control.HORIZONTAL_ALIGNMENT_CENTER;\r\n            hexVal.fontSize = buttonFontSize;\r\n            const minusPound = options.lastColor.split(\"#\");\r\n            hexVal.text = minusPound[1];\r\n            hexVal.color = inputTextColor;\r\n            hexVal.background = inputTextBackgroundColor;\r\n            hexVal.onFocusObservable.add(() => {\r\n                activeField = hexVal.name!;\r\n                lastVal = hexVal.text;\r\n                editSwatches(false);\r\n            });\r\n            hexVal.onBlurObservable.add(() => {\r\n                if (hexVal.text.length == 3) {\r\n                    const val = hexVal.text.split(\"\");\r\n                    hexVal.text = val[0] + val[0] + val[1] + val[1] + val[2] + val[2];\r\n                }\r\n                if (hexVal.text == \"\") {\r\n                    hexVal.text = \"000000\";\r\n                    updateValues(Color3.FromHexString(hexVal.text), \"b\");\r\n                }\r\n                if (activeField == hexVal.name) {\r\n                    activeField = \"\";\r\n                }\r\n            });\r\n            hexVal.onTextChangedObservable.add(() => {\r\n                let newHexValue: string = hexVal.text;\r\n                const checkHex: boolean = /[^0-9A-F]/i.test(newHexValue);\r\n                if ((hexVal.text.length > 6 || checkHex) && activeField == hexVal.name) {\r\n                    hexVal.text = lastVal;\r\n                } else {\r\n                    if (hexVal.text.length < 6) {\r\n                        const leadingZero: number = 6 - hexVal.text.length;\r\n                        for (let i = 0; i < leadingZero; i++) {\r\n                            newHexValue = \"0\" + newHexValue;\r\n                        }\r\n                    }\r\n                    if (hexVal.text.length == 3) {\r\n                        const val: string[] = hexVal.text.split(\"\");\r\n                        newHexValue = val[0] + val[0] + val[1] + val[1] + val[2] + val[2];\r\n                    }\r\n                    newHexValue = \"#\" + newHexValue;\r\n                    if (activeField == hexVal.name) {\r\n                        lastVal = hexVal.text;\r\n                        updateValues(Color3.FromHexString(newHexValue), hexVal.name);\r\n                    }\r\n                }\r\n            });\r\n            hexValueQuadrant.addControl(hexVal, 0, 1);\r\n\r\n            if (options.savedColors && options.savedColors.length > 0) {\r\n                updateSwatches(\"\", butSave!);\r\n            }\r\n\r\n            /**\r\n             * Will update all values for InputText and ColorPicker controls based on the BABYLON.Color3 passed to this function.\r\n             * Each InputText control and the ColorPicker control will be tested to see if they are the activeField and if they\r\n             * are will receive no update. This is to prevent the input from the user being overwritten.\r\n             * @param value\r\n             * @param inputField\r\n             */\r\n            function updateValues(value: Color3, inputField: string) {\r\n                activeField = inputField;\r\n                const pickedColor: string = value.toHexString();\r\n                newSwatch.background = pickedColor;\r\n                if (rValInt.name != activeField) {\r\n                    rValInt.text = Math.floor(value.r * 255).toString();\r\n                }\r\n                if (gValInt.name != activeField) {\r\n                    gValInt.text = Math.floor(value.g * 255).toString();\r\n                }\r\n                if (bValInt.name != activeField) {\r\n                    bValInt.text = Math.floor(value.b * 255).toString();\r\n                }\r\n                if (rValDec.name != activeField) {\r\n                    rValDec.text = value.r.toString();\r\n                }\r\n                if (gValDec.name != activeField) {\r\n                    gValDec.text = value.g.toString();\r\n                }\r\n                if (bValDec.name != activeField) {\r\n                    bValDec.text = value.b.toString();\r\n                }\r\n                if (hexVal.name != activeField) {\r\n                    const minusPound: string[] = pickedColor.split(\"#\");\r\n                    hexVal.text = minusPound[1];\r\n                }\r\n                if (picker.name != activeField) {\r\n                    picker.value = value;\r\n                }\r\n            }\r\n\r\n            // When the user enters an integer for R, G, or B we check to make sure it is a valid number and replace if not.\r\n            function updateInt(field: InputText, channel: string) {\r\n                let newValue: string = field.text;\r\n                const checkVal: boolean = /[^0-9]/g.test(newValue);\r\n                if (checkVal) {\r\n                    field.text = lastVal;\r\n                    return;\r\n                } else {\r\n                    if (newValue != \"\") {\r\n                        if (Math.floor(parseInt(newValue)) < 0) {\r\n                            newValue = \"0\";\r\n                        } else if (Math.floor(parseInt(newValue)) > 255) {\r\n                            newValue = \"255\";\r\n                        } else if (isNaN(parseInt(newValue))) {\r\n                            newValue = \"0\";\r\n                        }\r\n                    }\r\n                    if (activeField == field.name) {\r\n                        lastVal = newValue;\r\n                    }\r\n                }\r\n                if (newValue != \"\") {\r\n                    newValue = parseInt(newValue).toString();\r\n                    field.text = newValue;\r\n                    const newSwatchRGB: Color3 = Color3.FromHexString(newSwatch.background);\r\n                    if (activeField == field.name) {\r\n                        if (channel == \"r\") {\r\n                            updateValues(new Color3(parseInt(newValue) / 255, newSwatchRGB.g, newSwatchRGB.b), field.name);\r\n                        } else if (channel == \"g\") {\r\n                            updateValues(new Color3(newSwatchRGB.r, parseInt(newValue) / 255, newSwatchRGB.b), field.name);\r\n                        } else {\r\n                            updateValues(new Color3(newSwatchRGB.r, newSwatchRGB.g, parseInt(newValue) / 255), field.name);\r\n                        }\r\n                    }\r\n                }\r\n            }\r\n\r\n            // When the user enters a float for R, G, or B we check to make sure it is a valid number and replace if not.\r\n            function updateFloat(field: InputText, channel: string) {\r\n                let newValue: string = field.text;\r\n                const checkVal: boolean = /[^0-9.]/g.test(newValue);\r\n                if (checkVal) {\r\n                    field.text = lastVal;\r\n                    return;\r\n                } else {\r\n                    if (newValue != \"\" && newValue != \".\" && parseFloat(newValue) != 0) {\r\n                        if (parseFloat(newValue) < 0.0) {\r\n                            newValue = \"0.0\";\r\n                        } else if (parseFloat(newValue) > 1.0) {\r\n                            newValue = \"1.0\";\r\n                        } else if (isNaN(parseFloat(newValue))) {\r\n                            newValue = \"0.0\";\r\n                        }\r\n                    }\r\n                    if (activeField == field.name) {\r\n                        lastVal = newValue;\r\n                    }\r\n                }\r\n                if (newValue != \"\" && newValue != \".\" && parseFloat(newValue) != 0) {\r\n                    newValue = parseFloat(newValue).toString();\r\n                    field.text = newValue;\r\n                } else {\r\n                    newValue = \"0.0\";\r\n                }\r\n                const newSwatchRGB = Color3.FromHexString(newSwatch.background);\r\n                if (activeField == field.name) {\r\n                    if (channel == \"r\") {\r\n                        updateValues(new Color3(parseFloat(newValue), newSwatchRGB.g, newSwatchRGB.b), field.name);\r\n                    } else if (channel == \"g\") {\r\n                        updateValues(new Color3(newSwatchRGB.r, parseFloat(newValue), newSwatchRGB.b), field.name);\r\n                    } else {\r\n                        updateValues(new Color3(newSwatchRGB.r, newSwatchRGB.g, parseFloat(newValue)), field.name);\r\n                    }\r\n                }\r\n            }\r\n\r\n            // Removes the current index from the savedColors array. Drawer can then be regenerated.\r\n            function deleteSwatch(index: number) {\r\n                if (options.savedColors) {\r\n                    options.savedColors.splice(index, 1);\r\n                }\r\n                if (options.savedColors && options.savedColors.length == 0) {\r\n                    setEditButtonVisibility(false);\r\n                    editSwatchMode = false;\r\n                }\r\n            }\r\n\r\n            // Creates and styles an individual swatch when updateSwatches is called.\r\n            function createSwatch() {\r\n                if (options.savedColors && options.savedColors[swatchNumber]) {\r\n                    let icon: string;\r\n                    if (editSwatchMode) {\r\n                        icon = \"b\";\r\n                    } else {\r\n                        icon = \"\";\r\n                    }\r\n                    const swatch: Button = Button.CreateSimpleButton(\"Swatch_\" + swatchNumber, icon);\r\n                    swatch.fontFamily = \"coreglyphs\";\r\n                    const swatchColor: Color3 = Color3.FromHexString(options.savedColors[swatchNumber]);\r\n                    const swatchLuminence: number = swatchColor.r + swatchColor.g + swatchColor.b;\r\n\r\n                    // Set color of outline and textBlock based on luminance of the color swatch so feedback always visible\r\n                    if (swatchLuminence > luminanceLimit) {\r\n                        swatch.color = iconColorDark;\r\n                    } else {\r\n                        swatch.color = iconColorLight;\r\n                    }\r\n                    swatch.fontSize = Math.floor(swatchSize * 0.7);\r\n                    swatch.textBlock!.verticalAlignment = Control.VERTICAL_ALIGNMENT_CENTER;\r\n                    swatch.height = swatch.width = swatchSize.toString() + \"px\";\r\n                    swatch.background = options.savedColors[swatchNumber];\r\n                    swatch.thickness = 2;\r\n                    const metadata = swatchNumber;\r\n                    swatch.pointerDownAnimation = () => {\r\n                        swatch.thickness = 4;\r\n                    };\r\n                    swatch.pointerUpAnimation = () => {\r\n                        swatch.thickness = 3;\r\n                    };\r\n                    swatch.pointerEnterAnimation = () => {\r\n                        swatch.thickness = 3;\r\n                    };\r\n                    swatch.pointerOutAnimation = () => {\r\n                        swatch.thickness = 2;\r\n                    };\r\n                    swatch.onPointerClickObservable.add(() => {\r\n                        if (!editSwatchMode) {\r\n                            if (options.savedColors) {\r\n                                updateValues(Color3.FromHexString(options.savedColors[metadata]), swatch.name!);\r\n                            }\r\n                        } else {\r\n                            deleteSwatch(metadata);\r\n                            updateSwatches(\"\", butSave);\r\n                        }\r\n                    });\r\n                    return swatch;\r\n                } else {\r\n                    return null;\r\n                }\r\n            }\r\n\r\n            // Mode switch to render button text and close symbols on swatch controls\r\n            function editSwatches(mode?: boolean) {\r\n                if (mode !== undefined) {\r\n                    editSwatchMode = mode;\r\n                }\r\n                let thisButton: Button;\r\n                if (editSwatchMode) {\r\n                    for (let i = 0; i < swatchDrawer.children.length; i++) {\r\n                        thisButton = swatchDrawer.children[i] as Button;\r\n                        thisButton.textBlock!.text = \"b\";\r\n                    }\r\n                    if (butEdit !== undefined) {\r\n                        butEdit.textBlock!.text = \"Done\";\r\n                    }\r\n                } else {\r\n                    for (let i = 0; i < swatchDrawer.children.length; i++) {\r\n                        thisButton = swatchDrawer.children[i] as Button;\r\n                        thisButton.textBlock!.text = \"\";\r\n                    }\r\n                    if (butEdit !== undefined) {\r\n                        butEdit.textBlock!.text = \"Edit\";\r\n                    }\r\n                }\r\n            }\r\n\r\n            /**\r\n             * When Save Color button is pressed this function will first create a swatch drawer if one is not already\r\n             * made. Then all controls are removed from the drawer and we step through the savedColors array and\r\n             * creates one swatch per color. It will also set the height of the drawer control based on how many\r\n             * saved colors there are and how many can be stored per row.\r\n             * @param color\r\n             * @param button\r\n             */\r\n            function updateSwatches(color: string, button: Button) {\r\n                if (options.savedColors) {\r\n                    if (color != \"\") {\r\n                        options.savedColors.push(color);\r\n                    }\r\n                    swatchNumber = 0;\r\n                    swatchDrawer.clearControls();\r\n                    const rowCount: number = Math.ceil(options.savedColors.length / options.numSwatchesPerLine!);\r\n                    let gutterCount: number;\r\n                    if (rowCount == 0) {\r\n                        gutterCount = 0;\r\n                    } else {\r\n                        gutterCount = rowCount + 1;\r\n                    }\r\n                    if (swatchDrawer.rowCount != rowCount + gutterCount) {\r\n                        const currentRows: number = swatchDrawer.rowCount;\r\n                        for (let i = 0; i < currentRows; i++) {\r\n                            swatchDrawer.removeRowDefinition(0);\r\n                        }\r\n                        for (let i = 0; i < rowCount + gutterCount; i++) {\r\n                            if (i % 2) {\r\n                                swatchDrawer.addRowDefinition(swatchSize, true);\r\n                            } else {\r\n                                swatchDrawer.addRowDefinition(gutterSize, true);\r\n                            }\r\n                        }\r\n                    }\r\n                    swatchDrawer.height = (swatchSize * rowCount + gutterCount * gutterSize).toString() + \"px\";\r\n\r\n                    for (let y = 1, thisRow = 1; y < rowCount + gutterCount; y += 2, thisRow++) {\r\n                        // Determine number of buttons to create per row based on the button limit per row and number of saved colors\r\n                        let totalButtonsThisRow: number;\r\n                        if (options.savedColors.length > thisRow * options.numSwatchesPerLine!) {\r\n                            totalButtonsThisRow = options.numSwatchesPerLine!;\r\n                        } else {\r\n                            totalButtonsThisRow = options.savedColors.length - (thisRow - 1) * options.numSwatchesPerLine!;\r\n                        }\r\n                        const buttonIterations: number = Math.min(Math.max(totalButtonsThisRow, 0), options.numSwatchesPerLine!);\r\n                        for (let x = 0, w = 1; x < buttonIterations; x++) {\r\n                            if (x > options.numSwatchesPerLine!) {\r\n                                continue;\r\n                            }\r\n                            const swatch: Button | null = createSwatch();\r\n                            if (swatch != null) {\r\n                                swatchDrawer.addControl(swatch, y, w);\r\n                                w += 2;\r\n                                swatchNumber++;\r\n                            } else {\r\n                                continue;\r\n                            }\r\n                        }\r\n                    }\r\n                    if (options.savedColors.length >= options.swatchLimit!) {\r\n                        disableButton(button, true);\r\n                    } else {\r\n                        disableButton(button, false);\r\n                    }\r\n                }\r\n            }\r\n\r\n            // Shows or hides edit swatches button depending on if there are saved swatches\r\n            function setEditButtonVisibility(enableButton: boolean) {\r\n                if (enableButton) {\r\n                    butEdit = Button.CreateSimpleButton(\"butEdit\", \"Edit\");\r\n                    butEdit.width = buttonWidth;\r\n                    butEdit.height = buttonHeight;\r\n                    butEdit.left = Math.floor(parseInt(buttonWidth) * 0.1).toString() + \"px\";\r\n                    butEdit.top = (parseFloat(butEdit.left) * -1).toString() + \"px\";\r\n                    butEdit.verticalAlignment = Control.VERTICAL_ALIGNMENT_BOTTOM;\r\n                    butEdit.horizontalAlignment = Control.HORIZONTAL_ALIGNMENT_LEFT;\r\n                    butEdit.thickness = 2;\r\n                    butEdit.color = buttonColor;\r\n                    butEdit.fontSize = buttonFontSize;\r\n                    butEdit.background = buttonBackgroundColor;\r\n                    butEdit.onPointerEnterObservable.add(() => {\r\n                        butEdit.background = buttonBackgroundHoverColor;\r\n                    });\r\n                    butEdit.onPointerOutObservable.add(() => {\r\n                        butEdit.background = buttonBackgroundColor;\r\n                    });\r\n                    butEdit.pointerDownAnimation = () => {\r\n                        butEdit.background = buttonBackgroundClickColor;\r\n                    };\r\n                    butEdit.pointerUpAnimation = () => {\r\n                        butEdit.background = buttonBackgroundHoverColor;\r\n                    };\r\n                    butEdit.onPointerClickObservable.add(() => {\r\n                        if (editSwatchMode) {\r\n                            editSwatchMode = false;\r\n                        } else {\r\n                            editSwatchMode = true;\r\n                        }\r\n                        editSwatches();\r\n                    });\r\n                    pickerGrid.addControl(butEdit, 1, 0);\r\n                } else {\r\n                    pickerGrid.removeControl(butEdit);\r\n                }\r\n            }\r\n\r\n            // Called when the user hits the limit of saved colors in the drawer.\r\n            function disableButton(button: Button, disabled: boolean) {\r\n                if (disabled) {\r\n                    button.color = buttonDisabledColor;\r\n                    button.background = buttonDisabledBackgroundColor;\r\n                } else {\r\n                    button.color = buttonColor;\r\n                    button.background = buttonBackgroundColor;\r\n                }\r\n            }\r\n\r\n            // Passes last chosen color back to scene and kills dialog by removing from AdvancedDynamicTexture\r\n            function closePicker(color: string) {\r\n                if (options.savedColors && options.savedColors.length > 0) {\r\n                    resolve({\r\n                        savedColors: options.savedColors,\r\n                        pickedColor: color,\r\n                    });\r\n                } else {\r\n                    resolve({\r\n                        pickedColor: color,\r\n                    });\r\n                }\r\n                advancedTexture.removeControl(dialogContainer);\r\n            }\r\n        });\r\n    }\r\n}\r\nRegisterClass(\"BABYLON.GUI.ColorPicker\", ColorPicker);\r\n","import { Container } from \"./container\";\r\nimport { Control } from \"./control\";\r\nimport type { Measure } from \"../measure\";\r\nimport { RegisterClass } from \"core/Misc/typeStore\";\r\nimport { serialize } from \"core/Misc/decorators\";\r\nimport type { ICanvasRenderingContext } from \"core/Engines/ICanvas\";\r\n\r\n/** Class used to create 2D ellipse containers */\r\nexport class Ellipse extends Container {\r\n    private _thickness = 1;\r\n\r\n    /** Gets or sets border thickness */\r\n    @serialize()\r\n    public get thickness(): number {\r\n        return this._thickness;\r\n    }\r\n\r\n    public set thickness(value: number) {\r\n        if (this._thickness === value) {\r\n            return;\r\n        }\r\n\r\n        this._thickness = value;\r\n        this._markAsDirty();\r\n    }\r\n\r\n    private _arc = 1;\r\n\r\n    /** Gets or sets arcing of the ellipse (ratio of the circumference between 0 and 1) */\r\n    @serialize()\r\n    public get arc(): number {\r\n        return this._arc;\r\n    }\r\n\r\n    public set arc(value: number) {\r\n        if (this._arc === value) {\r\n            return;\r\n        }\r\n\r\n        this._arc = value;\r\n        this._markAsDirty();\r\n    }\r\n\r\n    /**\r\n     * Creates a new Ellipse\r\n     * @param name defines the control name\r\n     */\r\n    constructor(public override name?: string) {\r\n        super(name);\r\n    }\r\n\r\n    protected override _getTypeName(): string {\r\n        return \"Ellipse\";\r\n    }\r\n\r\n    protected override _localDraw(context: ICanvasRenderingContext): void {\r\n        context.save();\r\n\r\n        if (this.shadowBlur || this.shadowOffsetX || this.shadowOffsetY) {\r\n            context.shadowColor = this.shadowColor;\r\n            context.shadowBlur = this.shadowBlur;\r\n            context.shadowOffsetX = this.shadowOffsetX * this._host.idealRatio;\r\n            context.shadowOffsetY = this.shadowOffsetY * this._host.idealRatio;\r\n        }\r\n\r\n        Control.drawEllipse(\r\n            this._currentMeasure.left + this._currentMeasure.width / 2,\r\n            this._currentMeasure.top + this._currentMeasure.height / 2,\r\n            this._currentMeasure.width / 2 - this._thickness / 2,\r\n            this._currentMeasure.height / 2 - this._thickness / 2,\r\n            this._arc,\r\n            context\r\n        );\r\n\r\n        if (this._backgroundGradient || this._background) {\r\n            context.fillStyle = this._getBackgroundColor(context);\r\n\r\n            context.fill();\r\n        }\r\n\r\n        if (this.shadowBlur || this.shadowOffsetX || this.shadowOffsetY) {\r\n            context.shadowBlur = 0;\r\n            context.shadowOffsetX = 0;\r\n            context.shadowOffsetY = 0;\r\n        }\r\n\r\n        if (this._thickness) {\r\n            if (this.color) {\r\n                context.strokeStyle = this.color;\r\n            }\r\n            context.lineWidth = this._thickness;\r\n\r\n            context.stroke();\r\n        }\r\n\r\n        context.restore();\r\n    }\r\n\r\n    protected override _additionalProcessing(parentMeasure: Measure, context: ICanvasRenderingContext): void {\r\n        super._additionalProcessing(parentMeasure, context);\r\n\r\n        this._measureForChildren.width -= 2 * this._thickness;\r\n        this._measureForChildren.height -= 2 * this._thickness;\r\n        this._measureForChildren.left += this._thickness;\r\n        this._measureForChildren.top += this._thickness;\r\n    }\r\n\r\n    protected override _clipForChildren(context: ICanvasRenderingContext) {\r\n        Control.drawEllipse(\r\n            this._currentMeasure.left + this._currentMeasure.width / 2,\r\n            this._currentMeasure.top + this._currentMeasure.height / 2,\r\n            this._currentMeasure.width / 2,\r\n            this._currentMeasure.height / 2,\r\n            this._arc,\r\n            context\r\n        );\r\n\r\n        context.clip();\r\n    }\r\n\r\n    public override _renderHighlightSpecific(context: ICanvasRenderingContext): void {\r\n        Control.drawEllipse(\r\n            this._currentMeasure.left + this._currentMeasure.width / 2,\r\n            this._currentMeasure.top + this._currentMeasure.height / 2,\r\n            this._currentMeasure.width / 2 - this._highlightLineWidth / 2,\r\n            this._currentMeasure.height / 2 - this._highlightLineWidth / 2,\r\n            this._arc,\r\n            context\r\n        );\r\n        context.stroke();\r\n    }\r\n}\r\nRegisterClass(\"BABYLON.GUI.Ellipse\", Ellipse);\r\n","import type { Nullable } from \"core/types\";\r\nimport type { Observer } from \"core/Misc/observable\";\r\nimport { Vector3, Matrix } from \"core/Maths/math.vector\";\r\nimport { Tools } from \"core/Misc/tools\";\r\nimport type { Scene } from \"core/scene\";\r\n\r\nimport { Control } from \"./control\";\r\nimport { ValueAndUnit } from \"../valueAndUnit\";\r\nimport type { Measure } from \"../measure\";\r\nimport { RegisterClass } from \"core/Misc/typeStore\";\r\nimport { serialize } from \"core/Misc/decorators\";\r\nimport type { ICanvasRenderingContext } from \"core/Engines/ICanvas\";\r\n\r\n/** Class used to render 2D lines */\r\nexport class Line extends Control {\r\n    private _lineWidth = 1;\r\n    /** @internal */\r\n    public _x1 = new ValueAndUnit(0);\r\n    /** @internal */\r\n    public _y1 = new ValueAndUnit(0);\r\n    /** @internal */\r\n    public _x2 = new ValueAndUnit(0);\r\n    /** @internal */\r\n    public _y2 = new ValueAndUnit(0);\r\n    private _dash = new Array<number>();\r\n    private _connectedControl: Control;\r\n    private _connectedControlDirtyObserver: Nullable<Observer<Control>>;\r\n\r\n    /** Gets or sets the dash pattern */\r\n    @serialize()\r\n    public get dash(): Array<number> {\r\n        return this._dash;\r\n    }\r\n\r\n    public set dash(value: Array<number>) {\r\n        if (this._dash === value) {\r\n            return;\r\n        }\r\n\r\n        this._dash = value;\r\n        this._markAsDirty();\r\n    }\r\n\r\n    /** Gets or sets the control connected with the line end */\r\n    public get connectedControl(): Control {\r\n        return this._connectedControl;\r\n    }\r\n\r\n    public set connectedControl(value: Control) {\r\n        // Don't allow circular references, and no-op if the same control is assigned\r\n        if (this._connectedControl === value || (value instanceof Line && value._connectedControl === (this as Control))) {\r\n            return;\r\n        }\r\n\r\n        if (this._connectedControlDirtyObserver && this._connectedControl) {\r\n            this._connectedControl.onDirtyObservable.remove(this._connectedControlDirtyObserver);\r\n            this._connectedControlDirtyObserver = null;\r\n        }\r\n\r\n        if (value) {\r\n            this._connectedControlDirtyObserver = value.onDirtyObservable.add(() => this._markAsDirty());\r\n        }\r\n\r\n        this._connectedControl = value;\r\n        this._markAsDirty();\r\n    }\r\n\r\n    /** Gets or sets start coordinates on X axis */\r\n    @serialize()\r\n    public get x1(): string | number {\r\n        return this._x1.toString(this._host);\r\n    }\r\n\r\n    public set x1(value: string | number) {\r\n        if (this._x1.toString(this._host) === value) {\r\n            return;\r\n        }\r\n\r\n        if (this._x1.fromString(value)) {\r\n            this._markAsDirty();\r\n        }\r\n    }\r\n\r\n    /** Gets or sets start coordinates on Y axis */\r\n    @serialize()\r\n    public get y1(): string | number {\r\n        return this._y1.toString(this._host);\r\n    }\r\n\r\n    public set y1(value: string | number) {\r\n        if (this._y1.toString(this._host) === value) {\r\n            return;\r\n        }\r\n\r\n        if (this._y1.fromString(value)) {\r\n            this._markAsDirty();\r\n        }\r\n    }\r\n\r\n    /** Gets or sets end coordinates on X axis */\r\n    @serialize()\r\n    public get x2(): string | number {\r\n        return this._x2.toString(this._host);\r\n    }\r\n\r\n    public set x2(value: string | number) {\r\n        if (this._x2.toString(this._host) === value) {\r\n            return;\r\n        }\r\n\r\n        if (this._x2.fromString(value)) {\r\n            this._markAsDirty();\r\n        }\r\n    }\r\n\r\n    /** Gets or sets end coordinates on Y axis */\r\n    @serialize()\r\n    public get y2(): string | number {\r\n        return this._y2.toString(this._host);\r\n    }\r\n\r\n    public set y2(value: string | number) {\r\n        if (this._y2.toString(this._host) === value) {\r\n            return;\r\n        }\r\n\r\n        if (this._y2.fromString(value)) {\r\n            this._markAsDirty();\r\n        }\r\n    }\r\n\r\n    /** Gets or sets line width */\r\n    @serialize()\r\n    public get lineWidth(): number {\r\n        return this._lineWidth;\r\n    }\r\n\r\n    public set lineWidth(value: number) {\r\n        if (this._lineWidth === value) {\r\n            return;\r\n        }\r\n\r\n        this._lineWidth = value;\r\n        this._markAsDirty();\r\n    }\r\n\r\n    /** Gets or sets horizontal alignment */\r\n    public override set horizontalAlignment(value: number) {\r\n        return;\r\n    }\r\n\r\n    /** Gets or sets vertical alignment */\r\n    public override set verticalAlignment(value: number) {\r\n        return;\r\n    }\r\n\r\n    /** @internal */\r\n    public get _effectiveX2(): number {\r\n        return (this._connectedControl ? this._connectedControl.centerX : 0) + this._x2.getValue(this._host);\r\n    }\r\n\r\n    /** @internal */\r\n    public get _effectiveY2(): number {\r\n        return (this._connectedControl ? this._connectedControl.centerY : 0) + this._y2.getValue(this._host);\r\n    }\r\n\r\n    /**\r\n     * Creates a new Line\r\n     * @param name defines the control name\r\n     */\r\n    constructor(public override name?: string) {\r\n        super(name);\r\n\r\n        this._automaticSize = true;\r\n\r\n        this.isHitTestVisible = false;\r\n        this._horizontalAlignment = Control.HORIZONTAL_ALIGNMENT_LEFT;\r\n        this._verticalAlignment = Control.VERTICAL_ALIGNMENT_TOP;\r\n    }\r\n\r\n    protected override _getTypeName(): string {\r\n        return \"Line\";\r\n    }\r\n\r\n    public override _draw(context: ICanvasRenderingContext): void {\r\n        context.save();\r\n\r\n        if (this.shadowBlur || this.shadowOffsetX || this.shadowOffsetY) {\r\n            context.shadowColor = this.shadowColor;\r\n            context.shadowBlur = this.shadowBlur;\r\n            context.shadowOffsetX = this.shadowOffsetX * this._host.idealRatio;\r\n            context.shadowOffsetY = this.shadowOffsetY * this._host.idealRatio;\r\n        }\r\n\r\n        this._applyStates(context);\r\n        context.strokeStyle = this._getColor(context);\r\n        context.lineWidth = this._lineWidth;\r\n        context.setLineDash(this._dash);\r\n\r\n        context.beginPath();\r\n        context.moveTo(this._cachedParentMeasure.left + this._x1.getValue(this._host), this._cachedParentMeasure.top + this._y1.getValue(this._host));\r\n\r\n        context.lineTo(this._cachedParentMeasure.left + this._effectiveX2, this._cachedParentMeasure.top + this._effectiveY2);\r\n        context.stroke();\r\n\r\n        context.restore();\r\n    }\r\n\r\n    public override _measure(): void {\r\n        // Width / Height\r\n        this._currentMeasure.width = Math.abs(this._x1.getValue(this._host) - this._effectiveX2) + this._lineWidth;\r\n        this._currentMeasure.height = Math.abs(this._y1.getValue(this._host) - this._effectiveY2) + this._lineWidth;\r\n    }\r\n\r\n    public override _layout(parentMeasure: Measure, context: ICanvasRenderingContext): boolean {\r\n        if (this._connectedControl) {\r\n            // If we have a connected control, we need to let it layout first so we can ensure our layout math uses its latest position\r\n            this._connectedControl._layout(parentMeasure, context);\r\n        }\r\n        return super._layout(parentMeasure, context);\r\n    }\r\n\r\n    protected override _computeAlignment(parentMeasure: Measure): void {\r\n        this._currentMeasure.left = parentMeasure.left + Math.min(this._x1.getValue(this._host), this._effectiveX2) - this._lineWidth / 2;\r\n        this._currentMeasure.top = parentMeasure.top + Math.min(this._y1.getValue(this._host), this._effectiveY2) - this._lineWidth / 2;\r\n    }\r\n\r\n    /**\r\n     * Move one end of the line given 3D cartesian coordinates.\r\n     * @param position Targeted world position\r\n     * @param scene Scene\r\n     * @param end (opt) Set to true to assign x2 and y2 coordinates of the line. Default assign to x1 and y1.\r\n     */\r\n    public override moveToVector3(position: Vector3, scene: Scene, end: boolean = false): void {\r\n        if (!this._host || this.parent !== this._host._rootContainer) {\r\n            Tools.Error(\"Cannot move a control to a vector3 if the control is not at root level\");\r\n            return;\r\n        }\r\n\r\n        const globalViewport = this._host._getGlobalViewport();\r\n        const projectedPosition = Vector3.Project(position, Matrix.IdentityReadOnly, scene.getTransformMatrix(), globalViewport);\r\n\r\n        this._moveToProjectedPosition(projectedPosition, end);\r\n\r\n        if (projectedPosition.z < 0 || projectedPosition.z > 1) {\r\n            this.notRenderable = true;\r\n            return;\r\n        }\r\n        this.notRenderable = false;\r\n    }\r\n\r\n    /**\r\n     * Move one end of the line to a position in screen absolute space.\r\n     * @param projectedPosition Position in screen absolute space (X, Y)\r\n     * @param end (opt) Set to true to assign x2 and y2 coordinates of the line. Default assign to x1 and y1.\r\n     */\r\n    public override _moveToProjectedPosition(projectedPosition: Vector3, end: boolean = false): void {\r\n        const x: string = projectedPosition.x + this._linkOffsetX.getValue(this._host) + \"px\";\r\n        const y: string = projectedPosition.y + this._linkOffsetY.getValue(this._host) + \"px\";\r\n\r\n        if (end) {\r\n            this.x2 = x;\r\n            this.y2 = y;\r\n            this._x2.ignoreAdaptiveScaling = true;\r\n            this._y2.ignoreAdaptiveScaling = true;\r\n        } else {\r\n            this.x1 = x;\r\n            this.y1 = y;\r\n            this._x1.ignoreAdaptiveScaling = true;\r\n            this._y1.ignoreAdaptiveScaling = true;\r\n        }\r\n    }\r\n}\r\nRegisterClass(\"BABYLON.GUI.Line\", Line);\r\n","import { Observable } from \"core/Misc/observable\";\r\nimport type { Vector2 } from \"core/Maths/math.vector\";\r\n\r\nimport { Control } from \"../control\";\r\nimport { ValueAndUnit } from \"../../valueAndUnit\";\r\nimport type { PointerInfoBase } from \"core/Events/pointerEvents\";\r\nimport { serialize } from \"core/Misc/decorators\";\r\nimport { Logger } from \"core/Misc/logger\";\r\n\r\n/**\r\n * Class used to create slider controls\r\n */\r\nexport class BaseSlider extends Control {\r\n    protected _thumbWidth = new ValueAndUnit(20, ValueAndUnit.UNITMODE_PIXEL, false);\r\n    private _minimum = 0;\r\n    private _maximum = 100;\r\n    private _value = 50;\r\n    private _isVertical = false;\r\n    protected _barOffset = new ValueAndUnit(5, ValueAndUnit.UNITMODE_PIXEL, false);\r\n    private _isThumbClamped = false;\r\n    protected _displayThumb = true;\r\n    private _step = 0;\r\n\r\n    private _lastPointerDownId = -1;\r\n\r\n    // Shared rendering info\r\n    protected _effectiveBarOffset = 0;\r\n    protected _renderLeft: number;\r\n    protected _renderTop: number;\r\n    protected _renderWidth: number;\r\n    protected _renderHeight: number;\r\n    protected _backgroundBoxLength: number;\r\n    protected _backgroundBoxThickness: number;\r\n    protected _effectiveThumbThickness: number;\r\n\r\n    /** Observable raised when the slider value changes */\r\n    public onValueChangedObservable = new Observable<number>();\r\n\r\n    /** Gets or sets a boolean indicating if the thumb must be rendered */\r\n    @serialize()\r\n    public get displayThumb(): boolean {\r\n        return this._displayThumb;\r\n    }\r\n\r\n    public set displayThumb(value: boolean) {\r\n        if (this._displayThumb === value) {\r\n            return;\r\n        }\r\n\r\n        this._displayThumb = value;\r\n        this._markAsDirty();\r\n    }\r\n\r\n    /** Gets or sets a step to apply to values (0 by default) */\r\n    @serialize()\r\n    public get step(): number {\r\n        return this._step;\r\n    }\r\n\r\n    public set step(value: number) {\r\n        if (this._step === value) {\r\n            return;\r\n        }\r\n\r\n        this._step = value;\r\n        this._markAsDirty();\r\n    }\r\n\r\n    /** Gets or sets main bar offset (ie. the margin applied to the value bar) */\r\n    @serialize()\r\n    public get barOffset(): string | number {\r\n        return this._barOffset.toString(this._host);\r\n    }\r\n\r\n    /** Gets main bar offset in pixels*/\r\n    public get barOffsetInPixels(): number {\r\n        return this._barOffset.getValueInPixel(this._host, this._cachedParentMeasure.width);\r\n    }\r\n\r\n    public set barOffset(value: string | number) {\r\n        if (this._barOffset.toString(this._host) === value) {\r\n            return;\r\n        }\r\n\r\n        if (this._barOffset.fromString(value)) {\r\n            this._markAsDirty();\r\n        }\r\n    }\r\n\r\n    /** Gets or sets thumb width */\r\n    @serialize()\r\n    public get thumbWidth(): string | number {\r\n        return this._thumbWidth.toString(this._host);\r\n    }\r\n\r\n    /** Gets thumb width in pixels */\r\n    public get thumbWidthInPixels(): number {\r\n        return this._thumbWidth.getValueInPixel(this._host, this._cachedParentMeasure.width);\r\n    }\r\n\r\n    public set thumbWidth(value: string | number) {\r\n        if (this._thumbWidth.toString(this._host) === value) {\r\n            return;\r\n        }\r\n\r\n        if (this._thumbWidth.fromString(value)) {\r\n            this._markAsDirty();\r\n        }\r\n    }\r\n\r\n    /** Gets or sets minimum value */\r\n    @serialize()\r\n    public get minimum(): number {\r\n        return this._minimum;\r\n    }\r\n\r\n    public set minimum(value: number) {\r\n        if (this._minimum === value) {\r\n            return;\r\n        }\r\n\r\n        this._minimum = value;\r\n        this._markAsDirty();\r\n\r\n        this.value = Math.max(Math.min(this.value, this._maximum), this._minimum);\r\n    }\r\n\r\n    /** Gets or sets maximum value */\r\n    @serialize()\r\n    public get maximum(): number {\r\n        return this._maximum;\r\n    }\r\n\r\n    public set maximum(value: number) {\r\n        if (this._maximum === value) {\r\n            return;\r\n        }\r\n\r\n        this._maximum = value;\r\n        this._markAsDirty();\r\n\r\n        this.value = Math.max(Math.min(this.value, this._maximum), this._minimum);\r\n    }\r\n\r\n    /** Gets or sets current value */\r\n    @serialize()\r\n    public get value(): number {\r\n        return this._value;\r\n    }\r\n\r\n    public set value(value: number) {\r\n        value = Math.max(Math.min(value, this._maximum), this._minimum);\r\n\r\n        if (this._value === value) {\r\n            return;\r\n        }\r\n\r\n        this._value = value;\r\n        this._markAsDirty();\r\n        this.onValueChangedObservable.notifyObservers(this._value, undefined, this, this);\r\n    }\r\n\r\n    /**Gets or sets a boolean indicating if the slider should be vertical or horizontal */\r\n    @serialize()\r\n    public get isVertical(): boolean {\r\n        return this._isVertical;\r\n    }\r\n\r\n    public set isVertical(value: boolean) {\r\n        if (this._isVertical === value) {\r\n            return;\r\n        }\r\n\r\n        this._isVertical = value;\r\n        this._markAsDirty();\r\n    }\r\n\r\n    /** Gets or sets a value indicating if the thumb can go over main bar extends */\r\n    @serialize()\r\n    public get isThumbClamped(): boolean {\r\n        return this._isThumbClamped;\r\n    }\r\n\r\n    public set isThumbClamped(value: boolean) {\r\n        if (this._isThumbClamped === value) {\r\n            return;\r\n        }\r\n\r\n        this._isThumbClamped = value;\r\n        this._markAsDirty();\r\n    }\r\n\r\n    /**\r\n     * Creates a new BaseSlider\r\n     * @param name defines the control name\r\n     */\r\n    constructor(public override name?: string) {\r\n        super(name);\r\n\r\n        this.isPointerBlocker = true;\r\n    }\r\n\r\n    protected override _getTypeName(): string {\r\n        return \"BaseSlider\";\r\n    }\r\n\r\n    protected _getThumbPosition() {\r\n        if (this.isVertical) {\r\n            return ((this.maximum - this.value) / (this.maximum - this.minimum)) * this._backgroundBoxLength;\r\n        }\r\n\r\n        return ((this.value - this.minimum) / (this.maximum - this.minimum)) * this._backgroundBoxLength;\r\n    }\r\n\r\n    protected _getThumbThickness(type: string): number {\r\n        let thumbThickness = 0;\r\n        switch (type) {\r\n            case \"circle\":\r\n                if (this._thumbWidth.isPixel) {\r\n                    thumbThickness = Math.max(this._thumbWidth.getValue(this._host), this._backgroundBoxThickness);\r\n                } else {\r\n                    thumbThickness = this._backgroundBoxThickness * this._thumbWidth.getValue(this._host);\r\n                }\r\n                break;\r\n            case \"rectangle\":\r\n                if (this._thumbWidth.isPixel) {\r\n                    thumbThickness = Math.min(this._thumbWidth.getValue(this._host), this._backgroundBoxThickness);\r\n                } else {\r\n                    thumbThickness = this._backgroundBoxThickness * this._thumbWidth.getValue(this._host);\r\n                }\r\n        }\r\n        return thumbThickness;\r\n    }\r\n\r\n    protected _prepareRenderingData(type: string) {\r\n        // Main bar\r\n        this._effectiveBarOffset = 0;\r\n        this._renderLeft = this._currentMeasure.left;\r\n        this._renderTop = this._currentMeasure.top;\r\n        this._renderWidth = this._currentMeasure.width;\r\n        this._renderHeight = this._currentMeasure.height;\r\n\r\n        this._backgroundBoxLength = Math.max(this._currentMeasure.width, this._currentMeasure.height);\r\n        this._backgroundBoxThickness = Math.min(this._currentMeasure.width, this._currentMeasure.height);\r\n        this._effectiveThumbThickness = this._getThumbThickness(type);\r\n\r\n        if (this.displayThumb) {\r\n            this._backgroundBoxLength -= this._effectiveThumbThickness;\r\n        }\r\n        //throw error when height is less than width for vertical slider\r\n        if (this.isVertical && this._currentMeasure.height < this._currentMeasure.width) {\r\n            Logger.Error(\"Height should be greater than width\");\r\n            return;\r\n        }\r\n        if (this._barOffset.isPixel) {\r\n            this._effectiveBarOffset = Math.min(this._barOffset.getValue(this._host), this._backgroundBoxThickness);\r\n        } else {\r\n            this._effectiveBarOffset = this._backgroundBoxThickness * this._barOffset.getValue(this._host);\r\n        }\r\n\r\n        this._backgroundBoxThickness -= this._effectiveBarOffset * 2;\r\n\r\n        if (this.isVertical) {\r\n            this._renderLeft += this._effectiveBarOffset;\r\n            if (!this.isThumbClamped && this.displayThumb) {\r\n                this._renderTop += this._effectiveThumbThickness / 2;\r\n            }\r\n\r\n            this._renderHeight = this._backgroundBoxLength;\r\n            this._renderWidth = this._backgroundBoxThickness;\r\n        } else {\r\n            this._renderTop += this._effectiveBarOffset;\r\n            if (!this.isThumbClamped && this.displayThumb) {\r\n                this._renderLeft += this._effectiveThumbThickness / 2;\r\n            }\r\n            this._renderHeight = this._backgroundBoxThickness;\r\n            this._renderWidth = this._backgroundBoxLength;\r\n        }\r\n    }\r\n\r\n    // Events\r\n    private _pointerIsDown = false;\r\n\r\n    /**\r\n     * @internal\r\n     */\r\n    protected _updateValueFromPointer(x: number, y: number): void {\r\n        if (this.rotation != 0) {\r\n            this._invertTransformMatrix.transformCoordinates(x, y, this._transformedPosition);\r\n            x = this._transformedPosition.x;\r\n            y = this._transformedPosition.y;\r\n        }\r\n\r\n        let value: number;\r\n        if (this._isVertical) {\r\n            value = this._minimum + (1 - (y - this._currentMeasure.top) / this._currentMeasure.height) * (this._maximum - this._minimum);\r\n        } else {\r\n            value = this._minimum + ((x - this._currentMeasure.left) / this._currentMeasure.width) * (this._maximum - this._minimum);\r\n        }\r\n        this.value = this._step ? Math.round(value / this._step) * this._step : value;\r\n    }\r\n\r\n    public override _onPointerDown(target: Control, coordinates: Vector2, pointerId: number, buttonIndex: number, pi: PointerInfoBase): boolean {\r\n        if (!super._onPointerDown(target, coordinates, pointerId, buttonIndex, pi)) {\r\n            return false;\r\n        }\r\n\r\n        if (this.isReadOnly) {\r\n            return true;\r\n        }\r\n\r\n        this._pointerIsDown = true;\r\n\r\n        this._updateValueFromPointer(coordinates.x, coordinates.y);\r\n        this._host._capturingControl[pointerId] = this;\r\n        this._lastPointerDownId = pointerId;\r\n        return true;\r\n    }\r\n\r\n    public override _onPointerMove(target: Control, coordinates: Vector2, pointerId: number, pi: PointerInfoBase): void {\r\n        // Only listen to pointer move events coming from the last pointer to click on the element (To support dual vr controller interaction)\r\n        if (pointerId != this._lastPointerDownId) {\r\n            return;\r\n        }\r\n\r\n        if (this._pointerIsDown && !this.isReadOnly) {\r\n            this._updateValueFromPointer(coordinates.x, coordinates.y);\r\n        }\r\n        super._onPointerMove(target, coordinates, pointerId, pi);\r\n    }\r\n\r\n    public override _onPointerUp(target: Control, coordinates: Vector2, pointerId: number, buttonIndex: number, notifyClick: boolean): void {\r\n        this._pointerIsDown = false;\r\n\r\n        delete this._host._capturingControl[pointerId];\r\n        super._onPointerUp(target, coordinates, pointerId, buttonIndex, notifyClick);\r\n    }\r\n\r\n    public override _onCanvasBlur(): void {\r\n        this._forcePointerUp();\r\n        super._onCanvasBlur();\r\n    }\r\n}\r\n","import { BaseSlider } from \"./baseSlider\";\r\nimport { RegisterClass } from \"core/Misc/typeStore\";\r\nimport { serialize } from \"core/Misc/decorators\";\r\nimport type { ICanvasRenderingContext } from \"core/Engines/ICanvas\";\r\nimport type { Nullable } from \"core/types\";\r\nimport type { BaseGradient } from \"../gradient/BaseGradient\";\r\nimport type { AdvancedDynamicTexture } from \"gui/2D/advancedDynamicTexture\";\r\nimport { Tools } from \"core/Misc/tools\";\r\n\r\n/**\r\n * Class used to create slider controls\r\n */\r\nexport class Slider extends BaseSlider {\r\n    private _background = \"black\";\r\n    private _borderColor = \"white\";\r\n    private _thumbColor = \"\";\r\n    private _isThumbCircle = false;\r\n    protected _displayValueBar = true;\r\n    private _backgroundGradient: Nullable<BaseGradient> = null;\r\n\r\n    /** Gets or sets a boolean indicating if the value bar must be rendered */\r\n    @serialize()\r\n    public get displayValueBar(): boolean {\r\n        return this._displayValueBar;\r\n    }\r\n\r\n    public set displayValueBar(value: boolean) {\r\n        if (this._displayValueBar === value) {\r\n            return;\r\n        }\r\n\r\n        this._displayValueBar = value;\r\n        this._markAsDirty();\r\n    }\r\n\r\n    /** Gets or sets border color */\r\n    @serialize()\r\n    public get borderColor(): string {\r\n        return this._borderColor;\r\n    }\r\n\r\n    public set borderColor(value: string) {\r\n        if (this._borderColor === value) {\r\n            return;\r\n        }\r\n\r\n        this._borderColor = value;\r\n        this._markAsDirty();\r\n    }\r\n\r\n    /** Gets or sets background color */\r\n    @serialize()\r\n    public get background(): string {\r\n        return this._background;\r\n    }\r\n\r\n    public set background(value: string) {\r\n        if (this._background === value) {\r\n            return;\r\n        }\r\n\r\n        this._background = value;\r\n        this._markAsDirty();\r\n    }\r\n\r\n    /** Gets or sets background gradient */\r\n    public get backgroundGradient(): Nullable<BaseGradient> {\r\n        return this._backgroundGradient;\r\n    }\r\n\r\n    public set backgroundGradient(value: Nullable<BaseGradient>) {\r\n        if (this._backgroundGradient === value) {\r\n            return;\r\n        }\r\n\r\n        this._backgroundGradient = value;\r\n        this._markAsDirty();\r\n    }\r\n\r\n    /** Gets or sets thumb's color */\r\n    @serialize()\r\n    public get thumbColor(): string {\r\n        return this._thumbColor;\r\n    }\r\n\r\n    public set thumbColor(value: string) {\r\n        if (this._thumbColor === value) {\r\n            return;\r\n        }\r\n\r\n        this._thumbColor = value;\r\n        this._markAsDirty();\r\n    }\r\n\r\n    /** Gets or sets a boolean indicating if the thumb should be round or square */\r\n    @serialize()\r\n    public get isThumbCircle(): boolean {\r\n        return this._isThumbCircle;\r\n    }\r\n\r\n    public set isThumbCircle(value: boolean) {\r\n        if (this._isThumbCircle === value) {\r\n            return;\r\n        }\r\n\r\n        this._isThumbCircle = value;\r\n        this._markAsDirty();\r\n    }\r\n\r\n    /**\r\n     * Creates a new Slider\r\n     * @param name defines the control name\r\n     */\r\n    constructor(public override name?: string) {\r\n        super(name);\r\n    }\r\n\r\n    protected override _getTypeName(): string {\r\n        return \"Slider\";\r\n    }\r\n\r\n    protected _getBackgroundColor(context: ICanvasRenderingContext) {\r\n        return this._backgroundGradient ? this._backgroundGradient.getCanvasGradient(context) : this._background;\r\n    }\r\n\r\n    public override _draw(context: ICanvasRenderingContext): void {\r\n        context.save();\r\n\r\n        this._applyStates(context);\r\n        this._prepareRenderingData(this.isThumbCircle ? \"circle\" : \"rectangle\");\r\n        let left = this._renderLeft;\r\n        let top = this._renderTop;\r\n        const width = this._renderWidth;\r\n        const height = this._renderHeight;\r\n\r\n        let radius = 0;\r\n\r\n        if (this.isThumbClamped && this.isThumbCircle) {\r\n            if (this.isVertical) {\r\n                top += this._effectiveThumbThickness / 2;\r\n            } else {\r\n                left += this._effectiveThumbThickness / 2;\r\n            }\r\n\r\n            radius = this._backgroundBoxThickness / 2;\r\n        } else {\r\n            radius = (this._effectiveThumbThickness - this._effectiveBarOffset) / 2;\r\n        }\r\n        radius = Math.max(0, radius);\r\n\r\n        if (this.shadowBlur || this.shadowOffsetX || this.shadowOffsetY) {\r\n            context.shadowColor = this.shadowColor;\r\n            context.shadowBlur = this.shadowBlur;\r\n            context.shadowOffsetX = this.shadowOffsetX * this._host.idealRatio;\r\n            context.shadowOffsetY = this.shadowOffsetY * this._host.idealRatio;\r\n        }\r\n\r\n        const thumbPosition = this._getThumbPosition();\r\n        context.fillStyle = this._getBackgroundColor(context);\r\n\r\n        if (this.isVertical) {\r\n            if (this.isThumbClamped) {\r\n                if (this.isThumbCircle) {\r\n                    context.beginPath();\r\n                    context.arc(left + this._backgroundBoxThickness / 2, top, radius, Math.PI, 2 * Math.PI);\r\n                    context.fill();\r\n                    context.fillRect(left, top, width, height);\r\n                } else {\r\n                    context.fillRect(left, top, width, height + this._effectiveThumbThickness);\r\n                }\r\n            } else {\r\n                context.fillRect(left, top, width, height);\r\n            }\r\n        } else {\r\n            if (this.isThumbClamped) {\r\n                if (this.isThumbCircle) {\r\n                    context.beginPath();\r\n                    context.arc(left + this._backgroundBoxLength, top + this._backgroundBoxThickness / 2, radius, 0, 2 * Math.PI);\r\n                    context.fill();\r\n                    context.fillRect(left, top, width, height);\r\n                } else {\r\n                    context.fillRect(left, top, width + this._effectiveThumbThickness, height);\r\n                }\r\n            } else {\r\n                context.fillRect(left, top, width, height);\r\n            }\r\n        }\r\n\r\n        if (this.shadowBlur || this.shadowOffsetX || this.shadowOffsetY) {\r\n            context.shadowBlur = 0;\r\n            context.shadowOffsetX = 0;\r\n            context.shadowOffsetY = 0;\r\n        }\r\n\r\n        // Value bar\r\n        context.fillStyle = this._getColor(context);\r\n        if (this._displayValueBar) {\r\n            if (this.isVertical) {\r\n                if (this.isThumbClamped) {\r\n                    if (this.isThumbCircle) {\r\n                        context.beginPath();\r\n                        context.arc(left + this._backgroundBoxThickness / 2, top + this._backgroundBoxLength, radius, 0, 2 * Math.PI);\r\n                        context.fill();\r\n                        context.fillRect(left, top + thumbPosition, width, height - thumbPosition);\r\n                    } else {\r\n                        context.fillRect(left, top + thumbPosition, width, height - thumbPosition + this._effectiveThumbThickness);\r\n                    }\r\n                } else {\r\n                    context.fillRect(left, top + thumbPosition, width, height - thumbPosition);\r\n                }\r\n            } else {\r\n                if (this.isThumbClamped) {\r\n                    if (this.isThumbCircle) {\r\n                        context.beginPath();\r\n                        context.arc(left, top + this._backgroundBoxThickness / 2, radius, 0, 2 * Math.PI);\r\n                        context.fill();\r\n                        context.fillRect(left, top, thumbPosition, height);\r\n                    } else {\r\n                        context.fillRect(left, top, thumbPosition, height);\r\n                    }\r\n                } else {\r\n                    context.fillRect(left, top, thumbPosition, height);\r\n                }\r\n            }\r\n        }\r\n\r\n        // Thumb\r\n        context.fillStyle = this._thumbColor || this._getColor(context);\r\n        if (this.displayThumb) {\r\n            if (this.shadowBlur || this.shadowOffsetX || this.shadowOffsetY) {\r\n                context.shadowColor = this.shadowColor;\r\n                context.shadowBlur = this.shadowBlur;\r\n                context.shadowOffsetX = this.shadowOffsetX * this._host.idealRatio;\r\n                context.shadowOffsetY = this.shadowOffsetY * this._host.idealRatio;\r\n            }\r\n            if (this._isThumbCircle) {\r\n                context.beginPath();\r\n                if (this.isVertical) {\r\n                    context.arc(left + this._backgroundBoxThickness / 2, top + thumbPosition, radius, 0, 2 * Math.PI);\r\n                } else {\r\n                    context.arc(left + thumbPosition, top + this._backgroundBoxThickness / 2, radius, 0, 2 * Math.PI);\r\n                }\r\n                context.fill();\r\n                if (this.shadowBlur || this.shadowOffsetX || this.shadowOffsetY) {\r\n                    context.shadowBlur = 0;\r\n                    context.shadowOffsetX = 0;\r\n                    context.shadowOffsetY = 0;\r\n                }\r\n                context.strokeStyle = this._borderColor;\r\n                context.stroke();\r\n            } else {\r\n                if (this.isVertical) {\r\n                    context.fillRect(left - this._effectiveBarOffset, this._currentMeasure.top + thumbPosition, this._currentMeasure.width, this._effectiveThumbThickness);\r\n                } else {\r\n                    context.fillRect(this._currentMeasure.left + thumbPosition, this._currentMeasure.top, this._effectiveThumbThickness, this._currentMeasure.height);\r\n                }\r\n                if (this.shadowBlur || this.shadowOffsetX || this.shadowOffsetY) {\r\n                    context.shadowBlur = 0;\r\n                    context.shadowOffsetX = 0;\r\n                    context.shadowOffsetY = 0;\r\n                }\r\n                context.strokeStyle = this._borderColor;\r\n                if (this.isVertical) {\r\n                    context.strokeRect(left - this._effectiveBarOffset, this._currentMeasure.top + thumbPosition, this._currentMeasure.width, this._effectiveThumbThickness);\r\n                } else {\r\n                    context.strokeRect(this._currentMeasure.left + thumbPosition, this._currentMeasure.top, this._effectiveThumbThickness, this._currentMeasure.height);\r\n                }\r\n            }\r\n        }\r\n        context.restore();\r\n    }\r\n\r\n    public override serialize(serializationObject: any) {\r\n        super.serialize(serializationObject);\r\n\r\n        if (this.backgroundGradient) {\r\n            serializationObject.backgroundGradient = {};\r\n            this.backgroundGradient.serialize(serializationObject.backgroundGradient);\r\n        }\r\n    }\r\n\r\n    /** @internal */\r\n    public override _parseFromContent(serializedObject: any, host: AdvancedDynamicTexture) {\r\n        super._parseFromContent(serializedObject, host);\r\n\r\n        if (serializedObject.backgroundGradient) {\r\n            const className = Tools.Instantiate(\"BABYLON.GUI.\" + serializedObject.backgroundGradient.className);\r\n            this.backgroundGradient = new className();\r\n            this.backgroundGradient!.parse(serializedObject.backgroundGradient);\r\n        }\r\n    }\r\n}\r\nRegisterClass(\"BABYLON.GUI.Slider\", Slider);\r\n","import type { Nullable } from \"core/types\";\r\nimport { Observable } from \"core/Misc/observable\";\r\nimport type { Vector2 } from \"core/Maths/math.vector\";\r\n\r\nimport { Control } from \"./control\";\r\nimport { ValueAndUnit } from \"../valueAndUnit\";\r\nimport type { VirtualKeyboard } from \"./virtualKeyboard\";\r\nimport { RegisterClass } from \"core/Misc/typeStore\";\r\nimport type { Measure } from \"../measure\";\r\nimport { InputText } from \"./inputText\";\r\nimport type { ICanvasRenderingContext } from \"core/Engines/ICanvas\";\r\nimport type { PointerInfo, PointerInfoBase } from \"core/Events/pointerEvents\";\r\nimport type { IKeyboardEvent } from \"core/Events/deviceInputEvents\";\r\n\r\nimport { serialize } from \"core/Misc/decorators\";\r\n\r\n/**\r\n * Class used to create input text control\r\n */\r\nexport class InputTextArea extends InputText {\r\n    private _textHorizontalAlignment = Control.HORIZONTAL_ALIGNMENT_LEFT;\r\n    private _textVerticalAlignment = Control.VERTICAL_ALIGNMENT_TOP;\r\n\r\n    private _prevText: string = this.text;\r\n\r\n    private _lines: any[];\r\n    private _lineSpacing: ValueAndUnit = new ValueAndUnit(0);\r\n    private _maxHeight = new ValueAndUnit(1, ValueAndUnit.UNITMODE_PERCENTAGE, false);\r\n\r\n    private _clipTextTop: number;\r\n    private _clipTextLeft: number;\r\n\r\n    private _cursorInfo: { globalStartIndex: number; globalEndIndex: number; relativeStartIndex: number; relativeEndIndex: number; currentLineIndex: number };\r\n    private _highlightCursorInfo: { initialStartIndex: number; initialRelativeStartIndex: number; initialLineIndex: number };\r\n\r\n    /**\r\n     * An event triggered after the text was broken up into lines\r\n     */\r\n    public onLinesReadyObservable = new Observable<InputTextArea>();\r\n\r\n    /** @internal */\r\n    public override _connectedVirtualKeyboard: Nullable<VirtualKeyboard>;\r\n    private _contextForBreakLines: ICanvasRenderingContext;\r\n    private _clickedCoordinateX: Nullable<number>;\r\n    private _clickedCoordinateY: Nullable<number>;\r\n\r\n    private _availableWidth: number;\r\n    private _availableHeight: number;\r\n\r\n    private _scrollTop: Nullable<number>;\r\n\r\n    private _autoStretchHeight: boolean;\r\n\r\n    /** Gets or sets a boolean indicating if the control can auto stretch its height to adapt to the text */\r\n    @serialize()\r\n    public get autoStretchHeight(): boolean {\r\n        return this._autoStretchHeight;\r\n    }\r\n\r\n    public set autoStretchHeight(value: boolean) {\r\n        if (this._autoStretchHeight === value) {\r\n            return;\r\n        }\r\n\r\n        this._autoStretchHeight = value;\r\n        this._markAsDirty();\r\n    }\r\n\r\n    public override set height(value: string | number) {\r\n        this.fixedRatioMasterIsWidth = false;\r\n\r\n        if (this._height.toString(this._host) === value) {\r\n            return;\r\n        }\r\n\r\n        if (this._height.fromString(value)) {\r\n            this._markAsDirty();\r\n        }\r\n\r\n        this._autoStretchHeight = false;\r\n    }\r\n\r\n    @serialize()\r\n    public get maxHeight(): string | number {\r\n        return this._maxHeight.toString(this._host);\r\n    }\r\n\r\n    /** Gets the maximum width allowed by the control in pixels */\r\n    public get maxHeightInPixels(): number {\r\n        return this._maxHeight.getValueInPixel(this._host, this._cachedParentMeasure.height);\r\n    }\r\n\r\n    public set maxHeight(value: string | number) {\r\n        if (this._maxHeight.toString(this._host) === value) {\r\n            return;\r\n        }\r\n\r\n        if (this._maxHeight.fromString(value)) {\r\n            this._markAsDirty();\r\n        }\r\n    }\r\n\r\n    /**\r\n     * Creates a new InputTextArea\r\n     * @param name defines the control name\r\n     * @param text defines the text of the control\r\n     */\r\n    constructor(\r\n        public override name?: string,\r\n        text: string = \"\"\r\n    ) {\r\n        super(name);\r\n\r\n        this.text = text;\r\n\r\n        this.isPointerBlocker = true;\r\n\r\n        this.onLinesReadyObservable.add(() => this._updateCursorPosition());\r\n\r\n        this._highlightCursorInfo = {\r\n            initialStartIndex: -1,\r\n            initialRelativeStartIndex: -1,\r\n            initialLineIndex: -1,\r\n        };\r\n\r\n        this._cursorInfo = {\r\n            globalStartIndex: 0,\r\n            globalEndIndex: 0,\r\n            relativeEndIndex: 0,\r\n            relativeStartIndex: 0,\r\n            currentLineIndex: 0,\r\n        };\r\n    }\r\n\r\n    protected override _getTypeName(): string {\r\n        return \"InputTextArea\";\r\n    }\r\n\r\n    /**\r\n     * Handles the keyboard event\r\n     * @param evt Defines the KeyboardEvent\r\n     */\r\n    public override processKeyboard(evt: IKeyboardEvent): void {\r\n        if (this.isReadOnly) {\r\n            return;\r\n        }\r\n\r\n        // process pressed key\r\n        this.alternativeProcessKey(evt.code, evt.key, evt);\r\n\r\n        this.onKeyboardEventProcessedObservable.notifyObservers(evt);\r\n    }\r\n\r\n    /**\r\n     * Process the last keyboard input\r\n     *\r\n     * @param code The ascii input number\r\n     * @param key The key string representation\r\n     * @param evt The keyboard event emits with input\r\n     * @internal\r\n     */\r\n    public alternativeProcessKey(code: string, key?: string, evt?: IKeyboardEvent) {\r\n        //return if clipboard event keys (i.e -ctr/cmd + c,v,x)\r\n        if (evt && (evt.ctrlKey || evt.metaKey) && (key === \"c\" || key === \"v\" || key === \"x\")) {\r\n            return;\r\n        }\r\n\r\n        // Specific cases\r\n        switch (code) {\r\n            case \"Period\": //SLASH\r\n                if (evt && evt.shiftKey) {\r\n                    evt.preventDefault();\r\n                }\r\n                break;\r\n            case \"Backspace\": // BACKSPACE\r\n                if (!this._isTextHighlightOn && this._cursorInfo.globalStartIndex > 0) {\r\n                    this._cursorInfo.globalEndIndex = this._cursorInfo.globalStartIndex;\r\n                    this._cursorInfo.globalStartIndex--;\r\n                }\r\n                this._prevText = this._textWrapper.text;\r\n                this._textWrapper.removePart(this._cursorInfo.globalStartIndex, this._cursorInfo.globalEndIndex);\r\n\r\n                this._cursorInfo.globalEndIndex = this._cursorInfo.globalStartIndex;\r\n\r\n                if (evt) {\r\n                    evt.preventDefault();\r\n                }\r\n\r\n                this._blinkIsEven = false;\r\n                this._isTextHighlightOn = false;\r\n\r\n                this._textHasChanged();\r\n                break;\r\n            case \"Delete\": // DELETE\r\n                if (!this._isTextHighlightOn && this._cursorInfo.globalEndIndex < this.text.length) {\r\n                    this._cursorInfo.globalEndIndex = this._cursorInfo.globalStartIndex + 1;\r\n                }\r\n                this._prevText = this._textWrapper.text;\r\n                this._textWrapper.removePart(this._cursorInfo.globalStartIndex, this._cursorInfo.globalEndIndex);\r\n\r\n                this._cursorInfo.globalEndIndex = this._cursorInfo.globalStartIndex;\r\n\r\n                if (evt) {\r\n                    evt.preventDefault();\r\n                }\r\n\r\n                this._blinkIsEven = false;\r\n                this._isTextHighlightOn = false;\r\n\r\n                this._textHasChanged();\r\n                break;\r\n            case \"NumpadEnter\": // NUMPAD ENTER\r\n            case \"Enter\": // RETURN\r\n                this._prevText = this._textWrapper.text;\r\n                this._textWrapper.removePart(this._cursorInfo.globalStartIndex, this._cursorInfo.globalEndIndex, \"\\n\");\r\n                this._cursorInfo.globalStartIndex++;\r\n                this._cursorInfo.globalEndIndex = this._cursorInfo.globalStartIndex;\r\n\r\n                this._blinkIsEven = false;\r\n                this._isTextHighlightOn = false;\r\n\r\n                this._textHasChanged();\r\n                return;\r\n            case \"End\": // END\r\n                this._cursorInfo.globalStartIndex = this.text.length;\r\n                this._blinkIsEven = false;\r\n                this._isTextHighlightOn = false;\r\n                this._markAsDirty();\r\n                return;\r\n            case \"Home\": // HOME\r\n                this._cursorInfo.globalStartIndex = 0;\r\n                this._blinkIsEven = false;\r\n                this._isTextHighlightOn = false;\r\n                this._markAsDirty();\r\n                return;\r\n            case \"ArrowLeft\": // LEFT\r\n                this._markAsDirty();\r\n\r\n                if (evt && evt.shiftKey) {\r\n                    // shift + ctrl/cmd + <-\r\n                    if (evt.ctrlKey || evt.metaKey) {\r\n                        // Go to line's start by substract the relativeStartIndex to the globalStartIndex\r\n                        this._cursorInfo.globalStartIndex -= this._cursorInfo.relativeStartIndex;\r\n                        this._cursorInfo.globalEndIndex = this._highlightCursorInfo.initialStartIndex;\r\n                    }\r\n                    // store the starting point\r\n                    if (!this._isTextHighlightOn) {\r\n                        this._highlightCursorInfo.initialLineIndex = this._cursorInfo.currentLineIndex;\r\n                        this._highlightCursorInfo.initialStartIndex = this._cursorInfo.globalStartIndex;\r\n                        this._highlightCursorInfo.initialRelativeStartIndex = this._cursorInfo.relativeStartIndex;\r\n\r\n                        this._cursorInfo.globalEndIndex = this._cursorInfo.globalStartIndex;\r\n                        this._cursorInfo.globalStartIndex--;\r\n                        this._isTextHighlightOn = true;\r\n                    } else {\r\n                        if (this._cursorInfo.globalEndIndex > this._highlightCursorInfo.initialStartIndex) {\r\n                            this._cursorInfo.globalEndIndex--;\r\n                        } else {\r\n                            this._cursorInfo.globalStartIndex--;\r\n                        }\r\n                    }\r\n                    this._blinkIsEven = true;\r\n                    evt.preventDefault();\r\n                    return;\r\n                }\r\n\r\n                if (this._isTextHighlightOn) {\r\n                    this._cursorInfo.globalEndIndex = this._cursorInfo.globalStartIndex;\r\n                } else if (evt && (evt.ctrlKey || evt.metaKey)) {\r\n                    // ctr + <-\r\n                    this._cursorInfo.globalStartIndex -= this._cursorInfo.relativeStartIndex;\r\n                    evt.preventDefault();\r\n                } else if (this._cursorInfo.globalStartIndex > 0) {\r\n                    this._cursorInfo.globalStartIndex--;\r\n                }\r\n\r\n                // update the cursor\r\n                this._blinkIsEven = false;\r\n                this._isTextHighlightOn = false;\r\n                return;\r\n            case \"ArrowRight\": // RIGHT\r\n                this._markAsDirty();\r\n\r\n                if (evt && evt.shiftKey) {\r\n                    // shift + ctrl/cmd + ->\r\n                    if (evt.ctrlKey || evt.metaKey) {\r\n                        const rightDelta = this._lines[this._cursorInfo.currentLineIndex].text.length - this._cursorInfo.relativeEndIndex - 1;\r\n                        this._cursorInfo.globalEndIndex += rightDelta;\r\n                        this._cursorInfo.globalStartIndex = this._highlightCursorInfo.initialStartIndex;\r\n                    }\r\n                    // store the starting point\r\n                    if (!this._isTextHighlightOn) {\r\n                        this._highlightCursorInfo.initialLineIndex = this._cursorInfo.currentLineIndex;\r\n                        this._highlightCursorInfo.initialStartIndex = this._cursorInfo.globalStartIndex;\r\n                        this._highlightCursorInfo.initialRelativeStartIndex = this._cursorInfo.relativeStartIndex;\r\n\r\n                        this._cursorInfo.globalEndIndex = this._cursorInfo.globalStartIndex;\r\n                        this._cursorInfo.globalEndIndex++;\r\n                        this._isTextHighlightOn = true;\r\n                    } else {\r\n                        if (this._cursorInfo.globalStartIndex < this._highlightCursorInfo.initialStartIndex) {\r\n                            this._cursorInfo.globalStartIndex++;\r\n                        } else {\r\n                            this._cursorInfo.globalEndIndex++;\r\n                        }\r\n                    }\r\n                    this._blinkIsEven = true;\r\n                    evt.preventDefault();\r\n                    return;\r\n                }\r\n                if (this._isTextHighlightOn) {\r\n                    this._cursorInfo.globalStartIndex = this._cursorInfo.globalEndIndex;\r\n                } else if (evt && (evt.ctrlKey || evt.metaKey)) {\r\n                    //ctr + ->\r\n                    const rightDelta = this._lines[this._cursorInfo.currentLineIndex].text.length - this._cursorInfo.relativeEndIndex;\r\n                    this._cursorInfo.globalStartIndex += rightDelta;\r\n                } else if (this._cursorInfo.globalStartIndex < this.text.length) {\r\n                    this._cursorInfo.globalStartIndex++;\r\n                }\r\n\r\n                // update the cursor\r\n                this._blinkIsEven = false;\r\n                this._isTextHighlightOn = false;\r\n                return;\r\n            case \"ArrowUp\": // UP\r\n                // update the cursor\r\n                this._blinkIsEven = false;\r\n\r\n                if (evt) {\r\n                    if (evt.shiftKey) {\r\n                        if (!this._isTextHighlightOn) {\r\n                            this._highlightCursorInfo.initialLineIndex = this._cursorInfo.currentLineIndex;\r\n                            this._highlightCursorInfo.initialStartIndex = this._cursorInfo.globalStartIndex;\r\n                            this._highlightCursorInfo.initialRelativeStartIndex = this._cursorInfo.relativeStartIndex;\r\n                        }\r\n                        this._isTextHighlightOn = true;\r\n                        this._blinkIsEven = true;\r\n                    } else {\r\n                        this._isTextHighlightOn = false;\r\n                    }\r\n                    evt.preventDefault();\r\n                }\r\n\r\n                if (this._cursorInfo.currentLineIndex === 0) {\r\n                    // First line\r\n                    this._cursorInfo.globalStartIndex = 0;\r\n                } else {\r\n                    const currentLine = this._lines[this._cursorInfo.currentLineIndex];\r\n                    const upperLine = this._lines[this._cursorInfo.currentLineIndex - 1];\r\n\r\n                    let tmpIndex = 0;\r\n                    let relativeIndex = 0;\r\n                    if (!this._isTextHighlightOn || this._cursorInfo.currentLineIndex < this._highlightCursorInfo.initialLineIndex) {\r\n                        tmpIndex = this._cursorInfo.globalStartIndex;\r\n                        relativeIndex = this._cursorInfo.relativeStartIndex;\r\n                    } else {\r\n                        tmpIndex = this._cursorInfo.globalEndIndex;\r\n                        relativeIndex = this._cursorInfo.relativeEndIndex;\r\n                    }\r\n\r\n                    const currentText = currentLine.text.substring(0, relativeIndex);\r\n                    const currentWidth = this._contextForBreakLines.measureText(currentText).width;\r\n\r\n                    let upperWidth = 0;\r\n                    let previousWidth = 0;\r\n\r\n                    tmpIndex -= relativeIndex; // Start of current line\r\n                    tmpIndex -= upperLine.text.length + upperLine.lineEnding.length; // Start of upper line\r\n                    let upperLineRelativeIndex = 0;\r\n\r\n                    while (upperWidth < currentWidth && upperLineRelativeIndex < upperLine.text.length) {\r\n                        tmpIndex++;\r\n                        upperLineRelativeIndex++;\r\n                        previousWidth = Math.abs(currentWidth - upperWidth);\r\n                        upperWidth = this._contextForBreakLines.measureText(upperLine.text.substring(0, upperLineRelativeIndex)).width;\r\n                    }\r\n\r\n                    // Find closest move\r\n                    if (Math.abs(currentWidth - upperWidth) > previousWidth && upperLineRelativeIndex > 0) {\r\n                        tmpIndex--;\r\n                    }\r\n\r\n                    if (!this._isTextHighlightOn) {\r\n                        this._cursorInfo.globalStartIndex = tmpIndex;\r\n                    } else if (this._cursorInfo.currentLineIndex <= this._highlightCursorInfo.initialLineIndex) {\r\n                        this._cursorInfo.globalStartIndex = tmpIndex;\r\n                        this._cursorInfo.globalEndIndex = this._highlightCursorInfo.initialStartIndex;\r\n                        this._cursorInfo.relativeEndIndex = this._highlightCursorInfo.initialRelativeStartIndex;\r\n                    } else {\r\n                        this._cursorInfo.globalEndIndex = tmpIndex;\r\n                    }\r\n                }\r\n\r\n                this._markAsDirty();\r\n                return;\r\n            case \"ArrowDown\": // DOWN\r\n                // update the cursor\r\n                this._blinkIsEven = false;\r\n\r\n                if (evt) {\r\n                    if (evt.shiftKey) {\r\n                        if (!this._isTextHighlightOn) {\r\n                            this._highlightCursorInfo.initialLineIndex = this._cursorInfo.currentLineIndex;\r\n                            this._highlightCursorInfo.initialStartIndex = this._cursorInfo.globalStartIndex;\r\n                            this._highlightCursorInfo.initialRelativeStartIndex = this._cursorInfo.relativeStartIndex;\r\n                        }\r\n\r\n                        this._isTextHighlightOn = true;\r\n                        this._blinkIsEven = true;\r\n                    } else {\r\n                        this._isTextHighlightOn = false;\r\n                    }\r\n                    evt.preventDefault();\r\n                }\r\n\r\n                if (this._cursorInfo.currentLineIndex === this._lines.length - 1) {\r\n                    // Last line\r\n                    this._cursorInfo.globalStartIndex = this.text.length;\r\n                } else {\r\n                    const currentLine = this._lines[this._cursorInfo.currentLineIndex];\r\n                    const underLine = this._lines[this._cursorInfo.currentLineIndex + 1];\r\n\r\n                    let tmpIndex = 0;\r\n                    let relativeIndex = 0;\r\n                    if (!this._isTextHighlightOn || this._cursorInfo.currentLineIndex < this._highlightCursorInfo.initialLineIndex) {\r\n                        tmpIndex = this._cursorInfo.globalStartIndex;\r\n                        relativeIndex = this._cursorInfo.relativeStartIndex;\r\n                    } else {\r\n                        tmpIndex = this._cursorInfo.globalEndIndex;\r\n                        relativeIndex = this._cursorInfo.relativeEndIndex;\r\n                    }\r\n\r\n                    const currentText = currentLine.text.substring(0, relativeIndex);\r\n                    const currentWidth = this._contextForBreakLines.measureText(currentText).width;\r\n\r\n                    let underWidth = 0;\r\n                    let previousWidth = 0;\r\n\r\n                    tmpIndex += currentLine.text.length - relativeIndex + currentLine.lineEnding.length; // Start of current line\r\n                    let underLineRelativeIndex = 0;\r\n\r\n                    while (underWidth < currentWidth && underLineRelativeIndex < underLine.text.length) {\r\n                        tmpIndex++;\r\n                        underLineRelativeIndex++;\r\n                        previousWidth = Math.abs(currentWidth - underWidth);\r\n                        underWidth = this._contextForBreakLines.measureText(underLine.text.substring(0, underLineRelativeIndex)).width;\r\n                    }\r\n\r\n                    // Find closest move\r\n                    if (Math.abs(currentWidth - underWidth) > previousWidth && underLineRelativeIndex > 0) {\r\n                        tmpIndex--;\r\n                    }\r\n\r\n                    if (!this._isTextHighlightOn) {\r\n                        this._cursorInfo.globalStartIndex = tmpIndex;\r\n                    } else if (this._cursorInfo.currentLineIndex < this._highlightCursorInfo.initialLineIndex) {\r\n                        this._cursorInfo.globalStartIndex = tmpIndex;\r\n                        if (this._cursorInfo.globalStartIndex > this._cursorInfo.globalEndIndex) {\r\n                            this._cursorInfo.globalEndIndex += this._cursorInfo.globalStartIndex;\r\n                            this._cursorInfo.globalStartIndex = this._cursorInfo.globalEndIndex - this._cursorInfo.globalStartIndex;\r\n                            this._cursorInfo.globalEndIndex -= this._cursorInfo.globalStartIndex;\r\n                        }\r\n                    } else {\r\n                        this._cursorInfo.globalEndIndex = tmpIndex;\r\n                        this._cursorInfo.globalStartIndex = this._highlightCursorInfo.initialStartIndex;\r\n                    }\r\n                }\r\n\r\n                this._markAsDirty();\r\n                return;\r\n        }\r\n\r\n        // special case - select all. Use key instead of code to support all keyboard layouts\r\n        if (key === \"a\" && evt && (evt.ctrlKey || evt.metaKey)) {\r\n            this.selectAllText();\r\n            evt.preventDefault();\r\n            return;\r\n        }\r\n\r\n        // Printable characters\r\n        if (key?.length === 1) {\r\n            evt?.preventDefault();\r\n            this._currentKey = key;\r\n            this.onBeforeKeyAddObservable.notifyObservers(this);\r\n            key = this._currentKey;\r\n            if (this._addKey) {\r\n                this._isTextHighlightOn = false;\r\n                this._blinkIsEven = false;\r\n                this._prevText = this._textWrapper.text;\r\n                this._textWrapper.removePart(this._cursorInfo.globalStartIndex, this._cursorInfo.globalEndIndex, key);\r\n                this._cursorInfo.globalStartIndex += key.length;\r\n                this._cursorInfo.globalEndIndex = this._cursorInfo.globalStartIndex;\r\n\r\n                this._textHasChanged();\r\n            }\r\n        }\r\n    }\r\n\r\n    protected _parseLineWordWrap(line: string = \"\", width: number, context: ICanvasRenderingContext): { text: string; width: number; lineEnding: string }[] {\r\n        const lines = [];\r\n        const words = line.split(\" \");\r\n        let lineWidth = 0;\r\n\r\n        for (let n = 0; n < words.length; n++) {\r\n            const testLine = n > 0 ? line + \" \" + words[n] : words[0];\r\n            const metrics = context.measureText(testLine);\r\n            const testWidth = metrics.width;\r\n            if (testWidth > width) {\r\n                if (n > 0) {\r\n                    // Avoid first word duplication if of too long\r\n                    lineWidth = context.measureText(line).width;\r\n                    lines.push({ text: line, width: lineWidth, lineEnding: \" \" });\r\n                }\r\n\r\n                line = words[n];\r\n\r\n                let flushedLine = \"\";\r\n\r\n                line.split(\"\").map((char) => {\r\n                    if (context.measureText(flushedLine + char).width > width) {\r\n                        lines.push({ text: flushedLine, width: context.measureText(flushedLine).width, lineEnding: \"\" });\r\n                        flushedLine = \"\";\r\n                    }\r\n                    flushedLine += char;\r\n                });\r\n\r\n                line = flushedLine;\r\n                // Measure remaining characters\r\n                lineWidth = context.measureText(line).width;\r\n            } else {\r\n                lineWidth = testWidth;\r\n                line = testLine;\r\n            }\r\n        }\r\n        lines.push({ text: line, width: lineWidth, lineEnding: \" \" });\r\n\r\n        return lines;\r\n    }\r\n\r\n    protected _breakLines(refWidth: number, context: ICanvasRenderingContext): object[] {\r\n        const lines: { text: string; width: number; lineEnding: string }[] = [];\r\n        const _lines = (this.text || this.placeholderText).split(\"\\n\");\r\n\r\n        if (this.clipContent) {\r\n            for (const _line of _lines) {\r\n                lines.push(...this._parseLineWordWrap(_line, refWidth, context));\r\n            }\r\n        } else {\r\n            for (const _line of _lines) {\r\n                lines.push(this._parseLine(_line, context));\r\n            }\r\n        }\r\n\r\n        lines[lines.length - 1].lineEnding = \"\\n\";\r\n\r\n        return lines;\r\n    }\r\n\r\n    protected _parseLine(line: string = \"\", context: ICanvasRenderingContext): { text: string; width: number; lineEnding: string } {\r\n        return { text: line, width: context.measureText(line).width, lineEnding: \" \" };\r\n    }\r\n\r\n    /**\r\n     * Processing of child right before the parent measurement update\r\n     *\r\n     * @param parentMeasure The parent measure\r\n     * @param context The rendering canvas\r\n     * @internal\r\n     */\r\n    protected override _preMeasure(parentMeasure: Measure, context: ICanvasRenderingContext): void {\r\n        if (!this._fontOffset || this._wasDirty) {\r\n            this._fontOffset = Control._GetFontOffset(context.font, this._host.getScene()?.getEngine());\r\n        }\r\n\r\n        let text = this._beforeRenderText(this._textWrapper).text;\r\n\r\n        // placeholder conditions and color setting\r\n        if (!this.text && this._placeholderText) {\r\n            text = this._placeholderText;\r\n        }\r\n\r\n        // measures the textlength -> this.measure.width\r\n        this._textWidth = context.measureText(text).width;\r\n        // we double up the margin width\r\n        const marginWidth = this._margin.getValueInPixel(this._host, parentMeasure.width) * 2;\r\n\r\n        if (this._autoStretchWidth) {\r\n            const tmpLines = text.split(\"\\n\");\r\n            const longerString = tmpLines.reduce((acc: string, val: string) => {\r\n                const valueLength = context.measureText(val).width;\r\n                const accLength = context.measureText(acc).width;\r\n                return valueLength > accLength ? val : acc;\r\n            }, \"\");\r\n\r\n            const longerStringWidth = context.measureText(longerString).width;\r\n            this.width = Math.min(this._maxWidth.getValueInPixel(this._host, parentMeasure.width), longerStringWidth + marginWidth) + \"px\";\r\n\r\n            this.autoStretchWidth = true;\r\n        }\r\n\r\n        this._availableWidth = this._width.getValueInPixel(this._host, parentMeasure.width) - marginWidth;\r\n\r\n        // Prepare lines\r\n        this._lines = this._breakLines(this._availableWidth, context);\r\n        // can we find a cleaner implementation here?\r\n        this._contextForBreakLines = context;\r\n\r\n        if (this._autoStretchHeight) {\r\n            const textHeight = this._lines.length * this._fontOffset.height;\r\n            const totalHeight = textHeight + this._margin.getValueInPixel(this._host, parentMeasure.height) * 2;\r\n            this.height = Math.min(this._maxHeight.getValueInPixel(this._host, parentMeasure.height), totalHeight) + \"px\";\r\n\r\n            this._autoStretchHeight = true;\r\n        }\r\n\r\n        this._availableHeight = this._height.getValueInPixel(this._host, parentMeasure.height) - marginWidth;\r\n\r\n        if (this._isFocused) {\r\n            this._cursorInfo.currentLineIndex = 0;\r\n\r\n            let lineLength = this._lines[this._cursorInfo.currentLineIndex].text.length + this._lines[this._cursorInfo.currentLineIndex].lineEnding.length;\r\n            let tmpLength = 0;\r\n\r\n            while (tmpLength + lineLength <= this._cursorInfo.globalStartIndex) {\r\n                tmpLength += lineLength;\r\n\r\n                if (this._cursorInfo.currentLineIndex < this._lines.length - 1) {\r\n                    this._cursorInfo.currentLineIndex++;\r\n                    lineLength = this._lines[this._cursorInfo.currentLineIndex].text.length + this._lines[this._cursorInfo.currentLineIndex].lineEnding.length;\r\n                }\r\n            }\r\n        }\r\n    }\r\n\r\n    protected override _textHasChanged() {\r\n        if (!this._prevText && this._textWrapper.text && this.placeholderText) {\r\n            this._cursorInfo.currentLineIndex = 0;\r\n            this._cursorInfo.globalStartIndex = 1;\r\n            this._cursorInfo.globalEndIndex = 1;\r\n            this._cursorInfo.relativeStartIndex = 1;\r\n            this._cursorInfo.relativeEndIndex = 1;\r\n        }\r\n        super._textHasChanged();\r\n    }\r\n\r\n    private _computeScroll() {\r\n        this._clipTextLeft = this._currentMeasure.left + this._margin.getValueInPixel(this._host, this._cachedParentMeasure.width);\r\n        this._clipTextTop = this._currentMeasure.top + this._margin.getValueInPixel(this._host, this._cachedParentMeasure.height);\r\n\r\n        if (this._isFocused && this._lines[this._cursorInfo.currentLineIndex].width > this._availableWidth) {\r\n            const textLeft = this._clipTextLeft - this._lines[this._cursorInfo.currentLineIndex].width + this._availableWidth;\r\n\r\n            if (!this._scrollLeft) {\r\n                this._scrollLeft = textLeft;\r\n            }\r\n        } else {\r\n            this._scrollLeft = this._clipTextLeft;\r\n        }\r\n\r\n        if (this._isFocused) {\r\n            const selectedHeight = (this._cursorInfo.currentLineIndex + 1) * this._fontOffset.height;\r\n            const textTop = this._clipTextTop - selectedHeight;\r\n\r\n            if (!this._scrollTop) {\r\n                this._scrollTop = textTop;\r\n            }\r\n        } else {\r\n            this._scrollTop = this._clipTextTop;\r\n        }\r\n    }\r\n\r\n    /**\r\n     * Processing of child after the parent measurement update\r\n     *\r\n     * @internal\r\n     */\r\n    protected override _additionalProcessing(): void {\r\n        // Flush the highlighted text each frame\r\n        this.highlightedText = \"\";\r\n\r\n        this.onLinesReadyObservable.notifyObservers(this);\r\n    }\r\n\r\n    private _drawText(text: string, textWidth: number, y: number, context: ICanvasRenderingContext): void {\r\n        const width = this._currentMeasure.width;\r\n        let x = this._scrollLeft as number;\r\n        switch (this._textHorizontalAlignment) {\r\n            case Control.HORIZONTAL_ALIGNMENT_LEFT:\r\n                x += 0;\r\n                break;\r\n            case Control.HORIZONTAL_ALIGNMENT_RIGHT:\r\n                x += width - textWidth;\r\n                break;\r\n            case Control.HORIZONTAL_ALIGNMENT_CENTER:\r\n                x += (width - textWidth) / 2;\r\n                break;\r\n        }\r\n\r\n        if (this.shadowBlur || this.shadowOffsetX || this.shadowOffsetY) {\r\n            context.shadowColor = this.shadowColor;\r\n            context.shadowBlur = this.shadowBlur;\r\n            context.shadowOffsetX = this.shadowOffsetX * this._host.idealRatio;\r\n            context.shadowOffsetY = this.shadowOffsetY * this._host.idealRatio;\r\n        }\r\n\r\n        if (this.outlineWidth) {\r\n            context.strokeText(text, this._currentMeasure.left + x, y);\r\n        }\r\n        context.fillText(text, x, y);\r\n    }\r\n\r\n    /**\r\n     * Copy the text in the clipboard\r\n     *\r\n     * @param ev The clipboard event\r\n     * @internal\r\n     */\r\n    protected override _onCopyText(ev: ClipboardEvent): void {\r\n        this._isTextHighlightOn = false;\r\n        //when write permission to clipbaord data is denied\r\n        try {\r\n            ev.clipboardData && ev.clipboardData.setData(\"text/plain\", this._highlightedText);\r\n        } catch {} //pass\r\n        this._host.clipboardData = this._highlightedText;\r\n    }\r\n\r\n    /**\r\n     * Cut the text and copy it in the clipboard\r\n     *\r\n     * @param ev The clipboard event\r\n     * @internal\r\n     */\r\n    protected override _onCutText(ev: ClipboardEvent): void {\r\n        if (!this._highlightedText) {\r\n            return;\r\n        }\r\n        //when write permission to clipbaord data is denied\r\n        try {\r\n            ev.clipboardData && ev.clipboardData.setData(\"text/plain\", this._highlightedText);\r\n        } catch {} //pass\r\n\r\n        this._host.clipboardData = this._highlightedText;\r\n        this._prevText = this._textWrapper.text;\r\n        this._textWrapper.removePart(this._cursorInfo.globalStartIndex, this._cursorInfo.globalEndIndex);\r\n\r\n        this._textHasChanged();\r\n    }\r\n\r\n    /**\r\n     * Paste the copied text from the clipboard\r\n     *\r\n     * @param ev The clipboard event\r\n     * @internal\r\n     */\r\n    protected override _onPasteText(ev: ClipboardEvent): void {\r\n        let data: string = \"\";\r\n        if (ev.clipboardData && ev.clipboardData.types.indexOf(\"text/plain\") !== -1) {\r\n            data = ev.clipboardData.getData(\"text/plain\");\r\n        } else {\r\n            //get the cached data; returns blank string by default\r\n            data = this._host.clipboardData;\r\n        }\r\n\r\n        this._isTextHighlightOn = false;\r\n        this._prevText = this._textWrapper.text;\r\n        this._textWrapper.removePart(this._cursorInfo.globalStartIndex, this._cursorInfo.globalEndIndex, data);\r\n\r\n        const deltaIndex = data.length - (this._cursorInfo.globalEndIndex - this._cursorInfo.globalStartIndex);\r\n\r\n        this._cursorInfo.globalStartIndex += deltaIndex;\r\n        this._cursorInfo.globalEndIndex = this._cursorInfo.globalStartIndex;\r\n        this._clickedCoordinateX = null;\r\n        this._clickedCoordinateY = null;\r\n\r\n        super._textHasChanged();\r\n    }\r\n\r\n    public override _draw(context: ICanvasRenderingContext): void {\r\n        this._computeScroll();\r\n\r\n        this._scrollLeft = this._scrollLeft ?? 0;\r\n        this._scrollTop = this._scrollTop ?? 0;\r\n\r\n        context.save();\r\n\r\n        this._applyStates(context);\r\n        if (this.shadowBlur || this.shadowOffsetX || this.shadowOffsetY) {\r\n            context.shadowColor = this.shadowColor;\r\n            context.shadowBlur = this.shadowBlur;\r\n            context.shadowOffsetX = this.shadowOffsetX * this._host.idealRatio;\r\n            context.shadowOffsetY = this.shadowOffsetY * this._host.idealRatio;\r\n        }\r\n\r\n        // Background\r\n        if (this._isFocused) {\r\n            if (this._focusedBackground) {\r\n                context.fillStyle = this._isEnabled ? this._focusedBackground : this._disabledColor;\r\n\r\n                context.fillRect(this._currentMeasure.left, this._currentMeasure.top, this._currentMeasure.width, this._currentMeasure.height);\r\n            }\r\n        } else if (this._background) {\r\n            context.fillStyle = this._isEnabled ? this._background : this._disabledColor;\r\n\r\n            context.fillRect(this._currentMeasure.left, this._currentMeasure.top, this._currentMeasure.width, this._currentMeasure.height);\r\n        }\r\n\r\n        if (this.shadowBlur || this.shadowOffsetX || this.shadowOffsetY) {\r\n            context.shadowBlur = 0;\r\n            context.shadowOffsetX = 0;\r\n            context.shadowOffsetY = 0;\r\n        }\r\n\r\n        // sets the color of the rectangle (border if background available)\r\n        if (this.color) {\r\n            context.fillStyle = this.color;\r\n        }\r\n\r\n        const height = this._currentMeasure.height;\r\n        const width = this._currentMeasure.width;\r\n        let rootY = 0;\r\n\r\n        switch (this._textVerticalAlignment) {\r\n            case Control.VERTICAL_ALIGNMENT_TOP:\r\n                rootY = this._fontOffset.ascent;\r\n                break;\r\n            case Control.VERTICAL_ALIGNMENT_BOTTOM:\r\n                rootY = height - this._fontOffset.height * (this._lines.length - 1) - this._fontOffset.descent;\r\n                break;\r\n            case Control.VERTICAL_ALIGNMENT_CENTER:\r\n                rootY = this._fontOffset.ascent + (height - this._fontOffset.height * this._lines.length) / 2;\r\n                break;\r\n        }\r\n\r\n        context.save();\r\n        context.beginPath();\r\n        context.fillStyle = this.fontStyle;\r\n        if (!this._textWrapper.text && this.placeholderText) {\r\n            context.fillStyle = this._placeholderColor;\r\n        }\r\n        // here we define the visible reactangle to clip it in next line\r\n        context.rect(this._clipTextLeft, this._clipTextTop, this._availableWidth + 2, this._availableHeight + 2);\r\n        context.clip();\r\n\r\n        // Text\r\n        rootY += this._scrollTop;\r\n\r\n        for (let i = 0; i < this._lines.length; i++) {\r\n            const line = this._lines[i];\r\n\r\n            if (i !== 0 && this._lineSpacing.internalValue !== 0) {\r\n                if (this._lineSpacing.isPixel) {\r\n                    rootY += this._lineSpacing.getValue(this._host);\r\n                } else {\r\n                    rootY = rootY + this._lineSpacing.getValue(this._host) * this._height.getValueInPixel(this._host, this._cachedParentMeasure.height);\r\n                }\r\n            }\r\n\r\n            this._drawText(line.text, line.width, rootY, context);\r\n            rootY += this._fontOffset.height;\r\n        }\r\n\r\n        context.restore();\r\n\r\n        // Cursor\r\n        if (this._isFocused) {\r\n            // Render cursor\r\n            if (!this._blinkIsEven || this._isTextHighlightOn) {\r\n                let cursorLeft =\r\n                    this._scrollLeft + context.measureText(this._lines[this._cursorInfo.currentLineIndex].text.substring(0, this._cursorInfo.relativeStartIndex)).width;\r\n\r\n                if (cursorLeft < this._clipTextLeft) {\r\n                    this._scrollLeft += this._clipTextLeft - cursorLeft;\r\n                    cursorLeft = this._clipTextLeft;\r\n                    this._markAsDirty();\r\n                } else if (cursorLeft > this._clipTextLeft + this._availableWidth) {\r\n                    this._scrollLeft += this._clipTextLeft + this._availableWidth - cursorLeft;\r\n                    cursorLeft = this._clipTextLeft + this._availableWidth;\r\n                    this._markAsDirty();\r\n                }\r\n\r\n                let cursorTop = this._scrollTop + this._cursorInfo.currentLineIndex * this._fontOffset.height; //cursorTop distance from top to cursor start\r\n\r\n                if (cursorTop < this._clipTextTop) {\r\n                    this._scrollTop += this._clipTextTop - cursorTop;\r\n                    cursorTop = this._clipTextTop;\r\n                    this._markAsDirty();\r\n                } else if (cursorTop + this._fontOffset.height > this._clipTextTop + this._availableHeight && this._availableHeight > this._fontOffset.height) {\r\n                    this._scrollTop += this._clipTextTop + this._availableHeight - cursorTop - this._fontOffset.height;\r\n                    cursorTop = this._clipTextTop + this._availableHeight - this._fontOffset.height;\r\n                    this._markAsDirty();\r\n                }\r\n\r\n                if (!this._isTextHighlightOn) {\r\n                    context.fillRect(cursorLeft, cursorTop, 2, this._fontOffset.height);\r\n                }\r\n            }\r\n\r\n            this._resetBlinking();\r\n\r\n            //show the highlighted text\r\n            if (this._isTextHighlightOn) {\r\n                clearTimeout(this._blinkTimeout);\r\n\r\n                this._highlightedText = this.text.substring(this._cursorInfo.globalStartIndex, this._cursorInfo.globalEndIndex);\r\n\r\n                context.globalAlpha = this._highlighterOpacity;\r\n                context.fillStyle = this._textHighlightColor;\r\n\r\n                const startLineIndex = Math.min(this._cursorInfo.currentLineIndex, this._highlightCursorInfo.initialLineIndex);\r\n                const endLineIndex = Math.max(this._cursorInfo.currentLineIndex, this._highlightCursorInfo.initialLineIndex);\r\n\r\n                let highlightRootY = this._scrollTop + startLineIndex * this._fontOffset.height;\r\n\r\n                for (let i = startLineIndex; i <= endLineIndex; i++) {\r\n                    const line = this._lines[i];\r\n\r\n                    let highlightRootX = this._scrollLeft;\r\n                    switch (this._textHorizontalAlignment) {\r\n                        case Control.HORIZONTAL_ALIGNMENT_LEFT:\r\n                            highlightRootX += 0;\r\n                            break;\r\n                        case Control.HORIZONTAL_ALIGNMENT_RIGHT:\r\n                            highlightRootX += width - line.width;\r\n                            break;\r\n                        case Control.HORIZONTAL_ALIGNMENT_CENTER:\r\n                            highlightRootX += (width - line.width) / 2;\r\n                            break;\r\n                    }\r\n\r\n                    const begin = i === startLineIndex ? this._cursorInfo.relativeStartIndex : 0;\r\n                    const end = i === endLineIndex ? this._cursorInfo.relativeEndIndex : line.text.length;\r\n\r\n                    const leftOffsetWidth = context.measureText(line.text.substring(0, begin)).width;\r\n                    const selectedText = line.text.substring(begin, end);\r\n                    const hightlightWidth = context.measureText(selectedText).width;\r\n\r\n                    context.fillRect(highlightRootX + leftOffsetWidth, highlightRootY, hightlightWidth, this._fontOffset.height);\r\n\r\n                    highlightRootY += this._fontOffset.height;\r\n                }\r\n\r\n                if (this._cursorInfo.globalEndIndex === this._cursorInfo.globalStartIndex) {\r\n                    this._resetBlinking();\r\n                }\r\n            }\r\n        }\r\n\r\n        context.restore();\r\n\r\n        // Border\r\n        if (this._thickness) {\r\n            if (this._isFocused) {\r\n                if (this.focusedColor) {\r\n                    context.strokeStyle = this.focusedColor;\r\n                }\r\n            } else {\r\n                if (this.color) {\r\n                    context.strokeStyle = this.color;\r\n                }\r\n            }\r\n\r\n            context.lineWidth = this._thickness;\r\n\r\n            context.strokeRect(\r\n                this._currentMeasure.left + this._thickness / 2,\r\n                this._currentMeasure.top + this._thickness / 2,\r\n                this._currentMeasure.width - this._thickness,\r\n                this._currentMeasure.height - this._thickness\r\n            );\r\n        }\r\n    }\r\n\r\n    private _resetBlinking() {\r\n        clearTimeout(this._blinkTimeout);\r\n        this._blinkTimeout = <any>setTimeout(() => {\r\n            this._blinkIsEven = !this._blinkIsEven;\r\n            this._markAsDirty();\r\n        }, 500);\r\n    }\r\n\r\n    public override _onPointerDown(target: Control, coordinates: Vector2, pointerId: number, buttonIndex: number, pi: PointerInfoBase): boolean {\r\n        if (!super._onPointerDown(target, coordinates, pointerId, buttonIndex, pi)) {\r\n            return false;\r\n        }\r\n\r\n        if (this.isReadOnly) {\r\n            return true;\r\n        }\r\n\r\n        this._clickedCoordinateX = coordinates.x;\r\n        this._clickedCoordinateY = coordinates.y;\r\n\r\n        this._isTextHighlightOn = false;\r\n        this._highlightedText = \"\";\r\n        this._isPointerDown = true;\r\n        this._host._capturingControl[pointerId] = this;\r\n        if (this._host.focusedControl === this) {\r\n            // Move cursor\r\n            clearTimeout(this._blinkTimeout);\r\n            this._markAsDirty();\r\n            return true;\r\n        }\r\n        if (!this._isEnabled) {\r\n            return false;\r\n        }\r\n        this._host.focusedControl = this;\r\n\r\n        return true;\r\n    }\r\n\r\n    // for textselection\r\n    public override _onPointerMove(target: Control, coordinates: Vector2, pointerId: number, pi: PointerInfoBase): void {\r\n        // Avoid Chromium-like beahavior when this event is fired right after onPointerDown\r\n        if (pi.event.movementX === 0 && pi.event.movementY === 0) {\r\n            return;\r\n        }\r\n\r\n        if (this._host.focusedControl === this && this._isPointerDown && !this.isReadOnly) {\r\n            this._clickedCoordinateX = coordinates.x;\r\n            this._clickedCoordinateY = coordinates.y;\r\n\r\n            if (!this._isTextHighlightOn) {\r\n                this._highlightCursorInfo.initialLineIndex = this._cursorInfo.currentLineIndex;\r\n                this._highlightCursorInfo.initialStartIndex = this._cursorInfo.globalStartIndex;\r\n                this._highlightCursorInfo.initialRelativeStartIndex = this._cursorInfo.relativeStartIndex;\r\n\r\n                this._isTextHighlightOn = true;\r\n            }\r\n\r\n            this._markAsDirty();\r\n        }\r\n        super._onPointerMove(target, coordinates, pointerId, pi);\r\n    }\r\n\r\n    /**\r\n     * Apply the correct position of cursor according to current modification\r\n     */\r\n    private _updateCursorPosition() {\r\n        if (!this._isFocused) {\r\n            return;\r\n        }\r\n\r\n        if (!this._textWrapper.text && this.placeholderText) {\r\n            this._cursorInfo.currentLineIndex = 0;\r\n            this._cursorInfo.globalStartIndex = 0;\r\n            this._cursorInfo.globalEndIndex = 0;\r\n            this._cursorInfo.relativeStartIndex = 0;\r\n            this._cursorInfo.relativeEndIndex = 0;\r\n        } else {\r\n            if (this._clickedCoordinateX && this._clickedCoordinateY) {\r\n                if (!this._isTextHighlightOn) {\r\n                    this._cursorInfo = {\r\n                        globalStartIndex: 0,\r\n                        globalEndIndex: 0,\r\n                        relativeStartIndex: 0,\r\n                        relativeEndIndex: 0,\r\n                        currentLineIndex: 0,\r\n                    };\r\n                }\r\n\r\n                let globalIndex = 0;\r\n                let relativeIndex = 0;\r\n\r\n                const lastClickedCoordinateY = this._clickedCoordinateY - (this._scrollTop as number);\r\n\r\n                const relativeCoordinateY = Math.floor(lastClickedCoordinateY / this._fontOffset.height);\r\n                this._cursorInfo.currentLineIndex = Math.min(Math.max(relativeCoordinateY, 0), this._lines.length - 1);\r\n\r\n                let currentSize = 0;\r\n\r\n                const relativeXPosition = this._clickedCoordinateX - (this._scrollLeft ?? 0);\r\n\r\n                let previousDist = 0;\r\n\r\n                for (let index = 0; index < this._cursorInfo.currentLineIndex; index++) {\r\n                    const line = this._lines[index];\r\n                    globalIndex += line.text.length + line.lineEnding.length;\r\n                }\r\n\r\n                while (currentSize < relativeXPosition && this._lines[this._cursorInfo.currentLineIndex].text.length > relativeIndex) {\r\n                    relativeIndex++;\r\n                    previousDist = Math.abs(relativeXPosition - currentSize);\r\n                    currentSize = this._contextForBreakLines.measureText(this._lines[this._cursorInfo.currentLineIndex].text.substring(0, relativeIndex)).width;\r\n                }\r\n\r\n                // Find closest move\r\n                if (Math.abs(relativeXPosition - currentSize) > previousDist && relativeIndex > 0) {\r\n                    relativeIndex--;\r\n                }\r\n\r\n                globalIndex += relativeIndex;\r\n\r\n                if (!this._isTextHighlightOn) {\r\n                    this._cursorInfo.globalStartIndex = globalIndex;\r\n                    this._cursorInfo.relativeStartIndex = relativeIndex;\r\n                    this._cursorInfo.globalEndIndex = this._cursorInfo.globalStartIndex;\r\n                    this._cursorInfo.relativeEndIndex = this._cursorInfo.relativeStartIndex;\r\n                } else {\r\n                    if (globalIndex < this._highlightCursorInfo.initialStartIndex) {\r\n                        this._cursorInfo.globalStartIndex = globalIndex;\r\n                        this._cursorInfo.relativeStartIndex = relativeIndex;\r\n                        this._cursorInfo.globalEndIndex = this._highlightCursorInfo.initialStartIndex;\r\n                        this._cursorInfo.relativeEndIndex = this._highlightCursorInfo.initialRelativeStartIndex;\r\n                    } else {\r\n                        this._cursorInfo.globalStartIndex = this._highlightCursorInfo.initialStartIndex;\r\n                        this._cursorInfo.relativeStartIndex = this._highlightCursorInfo.initialRelativeStartIndex;\r\n                        this._cursorInfo.globalEndIndex = globalIndex;\r\n                        this._cursorInfo.relativeEndIndex = relativeIndex;\r\n                    }\r\n                }\r\n\r\n                // Avoid the caret during highlighting\r\n                this._blinkIsEven = this._isTextHighlightOn;\r\n                this._clickedCoordinateX = null;\r\n                this._clickedCoordinateY = null;\r\n            } else {\r\n                // Standard behavior same as Current line is at least above the initial highlight index\r\n                this._cursorInfo.relativeStartIndex = 0;\r\n                this._cursorInfo.currentLineIndex = 0;\r\n\r\n                let lineLength = this._lines[this._cursorInfo.currentLineIndex].text.length + this._lines[this._cursorInfo.currentLineIndex].lineEnding.length;\r\n                let tmpLength = 0;\r\n\r\n                while (tmpLength + lineLength <= this._cursorInfo.globalStartIndex) {\r\n                    tmpLength += lineLength;\r\n\r\n                    if (this._cursorInfo.currentLineIndex < this._lines.length - 1) {\r\n                        this._cursorInfo.currentLineIndex++;\r\n                        lineLength = this._lines[this._cursorInfo.currentLineIndex].text.length + this._lines[this._cursorInfo.currentLineIndex].lineEnding.length;\r\n                    }\r\n                }\r\n\r\n                this._cursorInfo.relativeStartIndex = this._cursorInfo.globalStartIndex - tmpLength;\r\n\r\n                if (!this._isTextHighlightOn) {\r\n                    this._cursorInfo.relativeEndIndex = this._cursorInfo.relativeStartIndex;\r\n                    this._cursorInfo.globalEndIndex = this._cursorInfo.globalStartIndex;\r\n                } else if (this._highlightCursorInfo.initialStartIndex !== -1 && this._cursorInfo.globalStartIndex >= this._highlightCursorInfo.initialStartIndex) {\r\n                    // Current line is at least below the initial highlight index\r\n                    while (tmpLength + lineLength <= this._cursorInfo.globalEndIndex) {\r\n                        tmpLength += lineLength;\r\n\r\n                        if (this._cursorInfo.currentLineIndex < this._lines.length - 1) {\r\n                            this._cursorInfo.currentLineIndex++;\r\n                            lineLength = this._lines[this._cursorInfo.currentLineIndex].text.length + this._lines[this._cursorInfo.currentLineIndex].lineEnding.length;\r\n                        }\r\n                    }\r\n\r\n                    this._cursorInfo.relativeEndIndex = this._cursorInfo.globalEndIndex - tmpLength;\r\n                }\r\n            }\r\n        }\r\n    }\r\n\r\n    /**\r\n     * Update all values of cursor information based on cursorIndex value\r\n     *\r\n     * @param offset The index to take care of\r\n     * @internal\r\n     */\r\n    // eslint-disable-next-line @typescript-eslint/no-unused-vars\r\n    protected override _updateValueFromCursorIndex(offset: number) {\r\n        // Override to avoid parent behavior during _onPointerMove\r\n    }\r\n\r\n    /**\r\n     * Select the word immediatly under the cursor on double click\r\n     *\r\n     * @param _evt Pointer informations of double click\r\n     * @internal\r\n     */\r\n    protected override _processDblClick(_evt: PointerInfo) {\r\n        //pre-find the start and end index of the word under cursor, speeds up the rendering\r\n        let moveLeft, moveRight;\r\n        do {\r\n            moveLeft = this._cursorInfo.globalStartIndex > 0 && this._textWrapper.isWord(this._cursorInfo.globalStartIndex - 1) ? --this._cursorInfo.globalStartIndex : 0;\r\n            moveRight =\r\n                this._cursorInfo.globalEndIndex < this._textWrapper.length && this._textWrapper.isWord(this._cursorInfo.globalEndIndex) ? ++this._cursorInfo.globalEndIndex : 0;\r\n        } while (moveLeft || moveRight);\r\n\r\n        this._highlightCursorInfo.initialLineIndex = this._cursorInfo.currentLineIndex;\r\n        this._highlightCursorInfo.initialStartIndex = this._cursorInfo.globalStartIndex;\r\n\r\n        this.onTextHighlightObservable.notifyObservers(this);\r\n\r\n        this._isTextHighlightOn = true;\r\n        this._blinkIsEven = true;\r\n        this._markAsDirty();\r\n    }\r\n\r\n    /** @internal */\r\n    public override selectAllText() {\r\n        this._isTextHighlightOn = true;\r\n        this._blinkIsEven = true;\r\n\r\n        this._highlightCursorInfo = {\r\n            initialStartIndex: 0,\r\n            initialRelativeStartIndex: 0,\r\n            initialLineIndex: 0,\r\n        };\r\n\r\n        this._cursorInfo = {\r\n            globalStartIndex: 0,\r\n            globalEndIndex: this._textWrapper.length,\r\n            relativeEndIndex: this._lines[this._lines.length - 1].text.length,\r\n            relativeStartIndex: 0,\r\n            currentLineIndex: this._lines.length - 1,\r\n        };\r\n\r\n        this._markAsDirty();\r\n    }\r\n\r\n    public override dispose() {\r\n        super.dispose();\r\n\r\n        this.onLinesReadyObservable.clear();\r\n    }\r\n}\r\nRegisterClass(\"BABYLON.GUI.InputTextArea\", InputTextArea);\r\n","import type { Nullable } from \"core/types\";\r\nimport type { Observer } from \"core/Misc/observable\";\r\nimport { Observable } from \"core/Misc/observable\";\r\n\r\nimport { StackPanel } from \"./stackPanel\";\r\nimport { Button } from \"./button\";\r\nimport type { Container } from \"./container\";\r\nimport type { TextBlock } from \"./textBlock\";\r\nimport type { InputText } from \"./inputText\";\r\nimport { RegisterClass } from \"core/Misc/typeStore\";\r\nimport type { AdvancedDynamicTexture } from \"../advancedDynamicTexture\";\r\nimport { InputTextArea } from \"./inputTextArea\";\r\nimport type { Control } from \"./control\";\r\n\r\n/**\r\n * Class used to store key control properties\r\n */\r\nexport class KeyPropertySet {\r\n    /** Width */\r\n    width?: string;\r\n    /** Height */\r\n    height?: string;\r\n    /** Left padding */\r\n    paddingLeft?: string;\r\n    /** Right padding */\r\n    paddingRight?: string;\r\n    /** Top padding */\r\n    paddingTop?: string;\r\n    /** Bottom padding */\r\n    paddingBottom?: string;\r\n    /** Foreground color */\r\n    color?: string;\r\n    /** Background color */\r\n    background?: string;\r\n}\r\n\r\ntype ConnectedInputText = {\r\n    input: InputText;\r\n    onFocusObserver: Nullable<Observer<Control>>;\r\n    onBlurObserver: Nullable<Observer<Control>>;\r\n};\r\n\r\n/**\r\n * Class used to create virtual keyboard\r\n */\r\nexport class VirtualKeyboard extends StackPanel {\r\n    /** Observable raised when a key is pressed */\r\n    public onKeyPressObservable = new Observable<string>();\r\n\r\n    /** Gets or sets default key button width */\r\n    public defaultButtonWidth = \"40px\";\r\n    /** Gets or sets default key button height */\r\n    public defaultButtonHeight = \"40px\";\r\n\r\n    /** Gets or sets default key button left padding */\r\n    public defaultButtonPaddingLeft = \"2px\";\r\n    /** Gets or sets default key button right padding */\r\n    public defaultButtonPaddingRight = \"2px\";\r\n    /** Gets or sets default key button top padding */\r\n    public defaultButtonPaddingTop = \"2px\";\r\n    /** Gets or sets default key button bottom padding */\r\n    public defaultButtonPaddingBottom = \"2px\";\r\n\r\n    /** Gets or sets default key button foreground color */\r\n    public defaultButtonColor = \"#DDD\";\r\n    /** Gets or sets default key button background color */\r\n    public defaultButtonBackground = \"#070707\";\r\n\r\n    /** Gets or sets shift button foreground color */\r\n    public shiftButtonColor = \"#7799FF\";\r\n    /** Gets or sets shift button thickness*/\r\n    public selectedShiftThickness = 1;\r\n\r\n    /** Gets shift key state */\r\n    public shiftState = 0;\r\n\r\n    protected override _getTypeName(): string {\r\n        return \"VirtualKeyboard\";\r\n    }\r\n\r\n    private _createKey(key: string, propertySet: Nullable<KeyPropertySet>) {\r\n        const button = Button.CreateSimpleButton(key, key);\r\n\r\n        button.width = propertySet && propertySet.width ? propertySet.width : this.defaultButtonWidth;\r\n        button.height = propertySet && propertySet.height ? propertySet.height : this.defaultButtonHeight;\r\n        button.color = propertySet && propertySet.color ? propertySet.color : this.defaultButtonColor;\r\n        button.background = propertySet && propertySet.background ? propertySet.background : this.defaultButtonBackground;\r\n        button.paddingLeft = propertySet && propertySet.paddingLeft ? propertySet.paddingLeft : this.defaultButtonPaddingLeft;\r\n        button.paddingRight = propertySet && propertySet.paddingRight ? propertySet.paddingRight : this.defaultButtonPaddingRight;\r\n        button.paddingTop = propertySet && propertySet.paddingTop ? propertySet.paddingTop : this.defaultButtonPaddingTop;\r\n        button.paddingBottom = propertySet && propertySet.paddingBottom ? propertySet.paddingBottom : this.defaultButtonPaddingBottom;\r\n\r\n        button.thickness = 0;\r\n        button.isFocusInvisible = true;\r\n\r\n        button.shadowColor = this.shadowColor;\r\n        button.shadowBlur = this.shadowBlur;\r\n        button.shadowOffsetX = this.shadowOffsetX;\r\n        button.shadowOffsetY = this.shadowOffsetY;\r\n\r\n        button.onPointerUpObservable.add(() => {\r\n            this.onKeyPressObservable.notifyObservers(key);\r\n        });\r\n\r\n        return button;\r\n    }\r\n\r\n    /**\r\n     * Adds a new row of keys\r\n     * @param keys defines the list of keys to add\r\n     * @param propertySets defines the associated property sets\r\n     */\r\n    public addKeysRow(keys: Array<string>, propertySets?: Array<KeyPropertySet>): void {\r\n        const panel = new StackPanel();\r\n        panel.isVertical = false;\r\n        panel.isFocusInvisible = true;\r\n\r\n        let maxKey: Nullable<Button> = null;\r\n        for (let i = 0; i < keys.length; i++) {\r\n            let properties = null;\r\n\r\n            if (propertySets && propertySets.length === keys.length) {\r\n                properties = propertySets[i];\r\n            }\r\n\r\n            const key = this._createKey(keys[i], properties);\r\n            if (!maxKey || key.heightInPixels > maxKey.heightInPixels) {\r\n                maxKey = key;\r\n            }\r\n\r\n            panel.addControl(key);\r\n        }\r\n\r\n        panel.height = maxKey ? maxKey.height : this.defaultButtonHeight;\r\n\r\n        this.addControl(panel);\r\n    }\r\n\r\n    /**\r\n     * Set the shift key to a specific state\r\n     * @param shiftState defines the new shift state\r\n     */\r\n    public applyShiftState(shiftState: number): void {\r\n        if (!this.children) {\r\n            return;\r\n        }\r\n\r\n        for (let i = 0; i < this.children.length; i++) {\r\n            const row = this.children[i];\r\n            if (!row || !(<Container>row).children) {\r\n                continue;\r\n            }\r\n\r\n            const rowContainer = <Container>row;\r\n            for (let j = 0; j < rowContainer.children.length; j++) {\r\n                const button = rowContainer.children[j] as Button;\r\n\r\n                if (!button || !button.children[0]) {\r\n                    continue;\r\n                }\r\n\r\n                const buttonTblock = button.children[0] as TextBlock;\r\n\r\n                if (buttonTblock.text === \"\\u21E7\") {\r\n                    button.color = shiftState ? this.shiftButtonColor : this.defaultButtonColor;\r\n                    button.thickness = shiftState > 1 ? this.selectedShiftThickness : 0;\r\n                }\r\n\r\n                buttonTblock.text = shiftState > 0 ? buttonTblock.text.toUpperCase() : buttonTblock.text.toLowerCase();\r\n            }\r\n        }\r\n    }\r\n\r\n    private _currentlyConnectedInputText: Nullable<InputText | InputTextArea> = null;\r\n    private _connectedInputTexts: ConnectedInputText[] = [];\r\n    private _onKeyPressObserver: Nullable<Observer<string>> = null;\r\n\r\n    /** Gets the input text control currently attached to the keyboard */\r\n    public get connectedInputText(): Nullable<InputText | InputTextArea> {\r\n        return this._currentlyConnectedInputText;\r\n    }\r\n\r\n    /**\r\n     * Connects the keyboard with an input text control\r\n     *\r\n     * @param input defines the target control\r\n     */\r\n    public connect(input: InputText): void {\r\n        const inputTextAlreadyConnected = this._connectedInputTexts.some((a) => a.input === input);\r\n        if (inputTextAlreadyConnected) {\r\n            return;\r\n        }\r\n\r\n        if (this._onKeyPressObserver === null) {\r\n            this._onKeyPressObserver = this.onKeyPressObservable.add((key) => {\r\n                if (!this._currentlyConnectedInputText) {\r\n                    return;\r\n                }\r\n\r\n                this._currentlyConnectedInputText._host.focusedControl = this._currentlyConnectedInputText;\r\n\r\n                switch (key) {\r\n                    case \"\\u21E7\":\r\n                        this.shiftState++;\r\n                        if (this.shiftState > 2) {\r\n                            this.shiftState = 0;\r\n                        }\r\n                        this.applyShiftState(this.shiftState);\r\n                        return;\r\n                    case \"\\u2190\":\r\n                        if (this._currentlyConnectedInputText instanceof InputTextArea) {\r\n                            this._currentlyConnectedInputText.alternativeProcessKey(\"Backspace\");\r\n                        } else {\r\n                            this._currentlyConnectedInputText.processKey(8);\r\n                        }\r\n                        return;\r\n                    case \"\\u21B5\":\r\n                        if (this._currentlyConnectedInputText instanceof InputTextArea) {\r\n                            this._currentlyConnectedInputText.alternativeProcessKey(\"Enter\");\r\n                        } else {\r\n                            this._currentlyConnectedInputText.processKey(13);\r\n                        }\r\n                        return;\r\n                }\r\n                if (this._currentlyConnectedInputText instanceof InputTextArea) {\r\n                    this._currentlyConnectedInputText.alternativeProcessKey(\"\", this.shiftState ? key.toUpperCase() : key);\r\n                } else {\r\n                    this._currentlyConnectedInputText.processKey(-1, this.shiftState ? key.toUpperCase() : key);\r\n                }\r\n\r\n                if (this.shiftState === 1) {\r\n                    this.shiftState = 0;\r\n                    this.applyShiftState(this.shiftState);\r\n                }\r\n            });\r\n        }\r\n\r\n        this.isVisible = false;\r\n        this._currentlyConnectedInputText = input;\r\n        input._connectedVirtualKeyboard = this;\r\n\r\n        // Events hooking\r\n        const onFocusObserver: Nullable<Observer<Control>> = input.onFocusObservable.add(() => {\r\n            this._currentlyConnectedInputText = input;\r\n            input._connectedVirtualKeyboard = this;\r\n            this.isVisible = true;\r\n        });\r\n\r\n        const onBlurObserver: Nullable<Observer<Control>> = input.onBlurObservable.add(() => {\r\n            input._connectedVirtualKeyboard = null;\r\n            this._currentlyConnectedInputText = null;\r\n            this.isVisible = false;\r\n        });\r\n\r\n        this._connectedInputTexts.push({\r\n            input,\r\n            onBlurObserver,\r\n            onFocusObserver,\r\n        });\r\n    }\r\n\r\n    /**\r\n     * Disconnects the keyboard from connected InputText controls\r\n     *\r\n     * @param input optionally defines a target control, otherwise all are disconnected\r\n     */\r\n    public disconnect(input?: InputText): void {\r\n        if (input) {\r\n            // .find not available on IE\r\n            const filtered = this._connectedInputTexts.filter((a) => a.input === input);\r\n            if (filtered.length === 1) {\r\n                this._removeConnectedInputObservables(filtered[0]);\r\n\r\n                this._connectedInputTexts = this._connectedInputTexts.filter((a) => a.input !== input);\r\n                if (this._currentlyConnectedInputText === input) {\r\n                    this._currentlyConnectedInputText = null;\r\n                }\r\n            }\r\n        } else {\r\n            for (const connectedInputText of this._connectedInputTexts) {\r\n                this._removeConnectedInputObservables(connectedInputText);\r\n            }\r\n            this._connectedInputTexts.length = 0;\r\n        }\r\n\r\n        if (this._connectedInputTexts.length === 0) {\r\n            this._currentlyConnectedInputText = null;\r\n            this.onKeyPressObservable.remove(this._onKeyPressObserver);\r\n            this._onKeyPressObserver = null;\r\n        }\r\n    }\r\n\r\n    private _removeConnectedInputObservables(connectedInputText: ConnectedInputText): void {\r\n        connectedInputText.input._connectedVirtualKeyboard = null;\r\n        connectedInputText.input.onFocusObservable.remove(connectedInputText.onFocusObserver);\r\n        connectedInputText.input.onBlurObservable.remove(connectedInputText.onBlurObserver);\r\n    }\r\n\r\n    /**\r\n     * Release all resources\r\n     */\r\n    public override dispose(): void {\r\n        super.dispose();\r\n\r\n        this.disconnect();\r\n    }\r\n\r\n    // Statics\r\n\r\n    /**\r\n     * Creates a new keyboard using a default layout\r\n     *\r\n     * @param name defines control name\r\n     * @returns a new VirtualKeyboard\r\n     */\r\n    public static CreateDefaultLayout(name?: string): VirtualKeyboard {\r\n        const returnValue = new VirtualKeyboard(name);\r\n\r\n        returnValue.addKeysRow([\"1\", \"2\", \"3\", \"4\", \"5\", \"6\", \"7\", \"8\", \"9\", \"0\", \"\\u2190\"]);\r\n        returnValue.addKeysRow([\"q\", \"w\", \"e\", \"r\", \"t\", \"y\", \"u\", \"i\", \"o\", \"p\"]);\r\n        returnValue.addKeysRow([\"a\", \"s\", \"d\", \"f\", \"g\", \"h\", \"j\", \"k\", \"l\", \";\", \"'\", \"\\u21B5\"]);\r\n        returnValue.addKeysRow([\"\\u21E7\", \"z\", \"x\", \"c\", \"v\", \"b\", \"n\", \"m\", \",\", \".\", \"/\"]);\r\n        returnValue.addKeysRow([\" \"], [{ width: \"200px\" }]);\r\n\r\n        return returnValue;\r\n    }\r\n\r\n    /**\r\n     * @internal\r\n     */\r\n    public override _parseFromContent(serializedObject: any, host: AdvancedDynamicTexture) {\r\n        super._parseFromContent(serializedObject, host);\r\n        for (const row of this.children) {\r\n            if (row.getClassName() === \"StackPanel\") {\r\n                const stackPanel = row as StackPanel;\r\n                for (const key of stackPanel.children) {\r\n                    if (key.getClassName() === \"Button\" && key.name) {\r\n                        key.onPointerUpObservable.add(() => {\r\n                            this.onKeyPressObservable.notifyObservers(key.name as string);\r\n                        });\r\n                    }\r\n                }\r\n            }\r\n        }\r\n    }\r\n}\r\n\r\nRegisterClass(\"BABYLON.GUI.VirtualKeyboard\", VirtualKeyboard);\r\n","import { InputText } from \"./inputText\";\r\nimport { RegisterClass } from \"core/Misc/typeStore\";\r\nimport { TextWrapper } from \"./textWrapper\";\r\n\r\n/**\r\n * Class used to create a password control\r\n */\r\nexport class InputPassword extends InputText {\r\n    protected override _getTypeName(): string {\r\n        return \"InputPassword\";\r\n    }\r\n\r\n    protected override _beforeRenderText(textWrapper: TextWrapper): TextWrapper {\r\n        const pwdTextWrapper = new TextWrapper();\r\n        let txt = \"\";\r\n        for (let i = 0; i < textWrapper.length; i++) {\r\n            txt += \"\\u2022\";\r\n        }\r\n        pwdTextWrapper.text = txt;\r\n        return pwdTextWrapper;\r\n    }\r\n}\r\nRegisterClass(\"BABYLON.GUI.InputPassword\", InputPassword);\r\n","import { Control } from \"./control\";\r\nimport { RegisterClass } from \"core/Misc/typeStore\";\r\nimport { serialize } from \"core/Misc/decorators\";\r\nimport type { ICanvasRenderingContext } from \"core/Engines/ICanvas\";\r\n\r\n/** Class used to render a grid  */\r\nexport class DisplayGrid extends Control {\r\n    private _cellWidth = 20;\r\n    private _cellHeight = 20;\r\n\r\n    private _minorLineTickness = 1;\r\n    private _minorLineColor = \"DarkGray\";\r\n\r\n    private _majorLineTickness = 2;\r\n    private _majorLineColor = \"White\";\r\n\r\n    private _majorLineFrequency = 5;\r\n\r\n    private _background = \"Black\";\r\n\r\n    private _displayMajorLines = true;\r\n    private _displayMinorLines = true;\r\n\r\n    /** Gets or sets a boolean indicating if minor lines must be rendered (true by default)) */\r\n    @serialize()\r\n    public get displayMinorLines(): boolean {\r\n        return this._displayMinorLines;\r\n    }\r\n\r\n    public set displayMinorLines(value: boolean) {\r\n        if (this._displayMinorLines === value) {\r\n            return;\r\n        }\r\n\r\n        this._displayMinorLines = value;\r\n        this._markAsDirty();\r\n    }\r\n\r\n    /** Gets or sets a boolean indicating if major lines must be rendered (true by default)) */\r\n    @serialize()\r\n    public get displayMajorLines(): boolean {\r\n        return this._displayMajorLines;\r\n    }\r\n\r\n    public set displayMajorLines(value: boolean) {\r\n        if (this._displayMajorLines === value) {\r\n            return;\r\n        }\r\n\r\n        this._displayMajorLines = value;\r\n        this._markAsDirty();\r\n    }\r\n\r\n    /** Gets or sets background color (Black by default) */\r\n    @serialize()\r\n    public get background(): string {\r\n        return this._background;\r\n    }\r\n\r\n    public set background(value: string) {\r\n        if (this._background === value) {\r\n            return;\r\n        }\r\n\r\n        this._background = value;\r\n        this._markAsDirty();\r\n    }\r\n\r\n    /** Gets or sets the width of each cell (20 by default) */\r\n    @serialize()\r\n    public get cellWidth(): number {\r\n        return this._cellWidth;\r\n    }\r\n\r\n    public set cellWidth(value: number) {\r\n        this._cellWidth = value;\r\n\r\n        this._markAsDirty();\r\n    }\r\n\r\n    /** Gets or sets the height of each cell (20 by default) */\r\n    @serialize()\r\n    public get cellHeight(): number {\r\n        return this._cellHeight;\r\n    }\r\n\r\n    public set cellHeight(value: number) {\r\n        this._cellHeight = value;\r\n\r\n        this._markAsDirty();\r\n    }\r\n\r\n    /** Gets or sets the tickness of minor lines (1 by default) */\r\n    @serialize()\r\n    public get minorLineTickness(): number {\r\n        return this._minorLineTickness;\r\n    }\r\n\r\n    public set minorLineTickness(value: number) {\r\n        this._minorLineTickness = value;\r\n\r\n        this._markAsDirty();\r\n    }\r\n\r\n    /** Gets or sets the color of minor lines (DarkGray by default) */\r\n    @serialize()\r\n    public get minorLineColor(): string {\r\n        return this._minorLineColor;\r\n    }\r\n\r\n    public set minorLineColor(value: string) {\r\n        this._minorLineColor = value;\r\n\r\n        this._markAsDirty();\r\n    }\r\n\r\n    /** Gets or sets the tickness of major lines (2 by default) */\r\n    @serialize()\r\n    public get majorLineTickness(): number {\r\n        return this._majorLineTickness;\r\n    }\r\n\r\n    public set majorLineTickness(value: number) {\r\n        this._majorLineTickness = value;\r\n\r\n        this._markAsDirty();\r\n    }\r\n\r\n    /** Gets or sets the color of major lines (White by default) */\r\n    @serialize()\r\n    public get majorLineColor(): string {\r\n        return this._majorLineColor;\r\n    }\r\n\r\n    public set majorLineColor(value: string) {\r\n        this._majorLineColor = value;\r\n\r\n        this._markAsDirty();\r\n    }\r\n\r\n    /** Gets or sets the frequency of major lines (default is 1 every 5 minor lines)*/\r\n    @serialize()\r\n    public get majorLineFrequency(): number {\r\n        return this._majorLineFrequency;\r\n    }\r\n\r\n    public set majorLineFrequency(value: number) {\r\n        this._majorLineFrequency = value;\r\n\r\n        this._markAsDirty();\r\n    }\r\n\r\n    /**\r\n     * Creates a new GridDisplayRectangle\r\n     * @param name defines the control name\r\n     */\r\n    constructor(public override name?: string) {\r\n        super(name);\r\n    }\r\n\r\n    public override _draw(context: ICanvasRenderingContext): void {\r\n        context.save();\r\n\r\n        this._applyStates(context);\r\n\r\n        if (this._isEnabled) {\r\n            if (this._background) {\r\n                context.fillStyle = this._background;\r\n                context.fillRect(this._currentMeasure.left, this._currentMeasure.top, this._currentMeasure.width, this._currentMeasure.height);\r\n            }\r\n\r\n            const cellCountX = this._currentMeasure.width / this._cellWidth;\r\n            const cellCountY = this._currentMeasure.height / this._cellHeight;\r\n\r\n            // Minor lines\r\n            const left = this._currentMeasure.left + this._currentMeasure.width / 2;\r\n            const top = this._currentMeasure.top + this._currentMeasure.height / 2;\r\n\r\n            if (this._displayMinorLines) {\r\n                context.strokeStyle = this._minorLineColor;\r\n                context.lineWidth = this._minorLineTickness;\r\n\r\n                for (let x = -cellCountX / 2 + 1; x < cellCountX / 2; x++) {\r\n                    const cellX = left + x * this.cellWidth;\r\n\r\n                    context.beginPath();\r\n                    context.moveTo(cellX, this._currentMeasure.top);\r\n                    context.lineTo(cellX, this._currentMeasure.top + this._currentMeasure.height);\r\n\r\n                    context.stroke();\r\n                }\r\n\r\n                for (let y = -cellCountY / 2 + 1; y < cellCountY / 2; y++) {\r\n                    const cellY = top + y * this.cellHeight;\r\n\r\n                    context.beginPath();\r\n                    context.moveTo(this._currentMeasure.left, cellY);\r\n                    context.lineTo(this._currentMeasure.left + this._currentMeasure.width, cellY);\r\n                    context.stroke();\r\n                }\r\n            }\r\n\r\n            // Major lines\r\n            if (this._displayMajorLines) {\r\n                context.strokeStyle = this._majorLineColor;\r\n                context.lineWidth = this._majorLineTickness;\r\n\r\n                for (let x = -cellCountX / 2 + this._majorLineFrequency; x < cellCountX / 2; x += this._majorLineFrequency) {\r\n                    const cellX = left + x * this.cellWidth;\r\n\r\n                    context.beginPath();\r\n                    context.moveTo(cellX, this._currentMeasure.top);\r\n                    context.lineTo(cellX, this._currentMeasure.top + this._currentMeasure.height);\r\n                    context.stroke();\r\n                }\r\n\r\n                for (let y = -cellCountY / 2 + this._majorLineFrequency; y < cellCountY / 2; y += this._majorLineFrequency) {\r\n                    const cellY = top + y * this.cellHeight;\r\n                    context.moveTo(this._currentMeasure.left, cellY);\r\n                    context.lineTo(this._currentMeasure.left + this._currentMeasure.width, cellY);\r\n                    context.closePath();\r\n                    context.stroke();\r\n                }\r\n            }\r\n        }\r\n\r\n        context.restore();\r\n    }\r\n\r\n    protected override _getTypeName(): string {\r\n        return \"DisplayGrid\";\r\n    }\r\n}\r\nRegisterClass(\"BABYLON.GUI.DisplayGrid\", DisplayGrid);\r\n","import { Measure } from \"../../measure\";\r\nimport { Container } from \"../container\";\r\nimport { ValueAndUnit } from \"../../valueAndUnit\";\r\nimport { Control } from \"../control\";\r\nimport type { ICanvasRenderingContext } from \"core/Engines/ICanvas\";\r\n\r\n/**\r\n * Class used to hold a the container for ScrollViewer\r\n * @internal\r\n */\r\nexport class _ScrollViewerWindow extends Container {\r\n    public parentClientWidth: number;\r\n    public parentClientHeight: number;\r\n\r\n    private _freezeControls = false;\r\n    private _parentMeasure: Measure;\r\n    private _oldLeft: number | null;\r\n    private _oldTop: number | null;\r\n\r\n    public get freezeControls(): boolean {\r\n        return this._freezeControls;\r\n    }\r\n\r\n    public set freezeControls(value: boolean) {\r\n        if (this._freezeControls === value) {\r\n            return;\r\n        }\r\n\r\n        if (!value) {\r\n            this._restoreMeasures();\r\n        }\r\n\r\n        // trigger a full normal layout calculation to be sure all children have their measures up to date\r\n        this._freezeControls = false;\r\n\r\n        const textureSize = this.host.getSize();\r\n        const renderWidth = textureSize.width;\r\n        const renderHeight = textureSize.height;\r\n\r\n        const context = this.host.getContext();\r\n\r\n        const measure = new Measure(0, 0, renderWidth, renderHeight);\r\n\r\n        this.host._numLayoutCalls = 0;\r\n\r\n        this.host._rootContainer._layout(measure, context);\r\n\r\n        // in freeze mode, prepare children measures accordingly\r\n        if (value) {\r\n            this._updateMeasures();\r\n            if (this._useBuckets()) {\r\n                this._makeBuckets();\r\n            }\r\n        }\r\n\r\n        this._freezeControls = value;\r\n\r\n        this.host.markAsDirty(); // redraw with the (new) current settings\r\n    }\r\n\r\n    private _bucketWidth: number = 0;\r\n    private _bucketHeight: number = 0;\r\n    private _buckets: { [key: number]: Array<Control> } = {};\r\n    private _bucketLen: number;\r\n\r\n    public get bucketWidth(): number {\r\n        return this._bucketWidth;\r\n    }\r\n\r\n    public get bucketHeight(): number {\r\n        return this._bucketHeight;\r\n    }\r\n\r\n    public setBucketSizes(width: number, height: number): void {\r\n        this._bucketWidth = width;\r\n        this._bucketHeight = height;\r\n\r\n        if (this._useBuckets()) {\r\n            if (this._freezeControls) {\r\n                this._makeBuckets();\r\n            }\r\n        } else {\r\n            this._buckets = {};\r\n        }\r\n    }\r\n\r\n    private _useBuckets(): boolean {\r\n        return this._bucketWidth > 0 && this._bucketHeight > 0;\r\n    }\r\n\r\n    private _makeBuckets(): void {\r\n        this._buckets = {};\r\n        this._bucketLen = Math.ceil(this.widthInPixels / this._bucketWidth);\r\n        this._dispatchInBuckets(this._children);\r\n        this._oldLeft = null;\r\n        this._oldTop = null;\r\n    }\r\n\r\n    private _dispatchInBuckets(children: Control[]): void {\r\n        for (let i = 0; i < children.length; ++i) {\r\n            const child = children[i];\r\n\r\n            const bStartX = Math.max(0, Math.floor((child._customData._origLeft - this._customData.origLeft) / this._bucketWidth)),\r\n                bEndX = Math.floor((child._customData._origLeft - this._customData.origLeft + child._currentMeasure.width - 1) / this._bucketWidth),\r\n                bEndY = Math.floor((child._customData._origTop - this._customData.origTop + child._currentMeasure.height - 1) / this._bucketHeight);\r\n            let bStartY = Math.max(0, Math.floor((child._customData._origTop - this._customData.origTop) / this._bucketHeight));\r\n\r\n            while (bStartY <= bEndY) {\r\n                for (let x = bStartX; x <= bEndX; ++x) {\r\n                    const bucket = bStartY * this._bucketLen + x;\r\n                    let lstc = this._buckets[bucket];\r\n\r\n                    if (!lstc) {\r\n                        lstc = [];\r\n                        this._buckets[bucket] = lstc;\r\n                    }\r\n\r\n                    lstc.push(child);\r\n                }\r\n                bStartY++;\r\n            }\r\n\r\n            if (child instanceof Container && child._children.length > 0) {\r\n                this._dispatchInBuckets(child._children);\r\n            }\r\n        }\r\n    }\r\n\r\n    // reset left and top measures for the window and all its children\r\n    private _updateMeasures(): void {\r\n        const left = this.leftInPixels | 0,\r\n            top = this.topInPixels | 0;\r\n\r\n        this._measureForChildren.left -= left;\r\n        this._measureForChildren.top -= top;\r\n        this._currentMeasure.left -= left;\r\n        this._currentMeasure.top -= top;\r\n\r\n        this._customData.origLeftForChildren = this._measureForChildren.left;\r\n        this._customData.origTopForChildren = this._measureForChildren.top;\r\n        this._customData.origLeft = this._currentMeasure.left;\r\n        this._customData.origTop = this._currentMeasure.top;\r\n\r\n        this._updateChildrenMeasures(this._children, left, top);\r\n    }\r\n\r\n    private _updateChildrenMeasures(children: Control[], left: number, top: number): void {\r\n        for (let i = 0; i < children.length; ++i) {\r\n            const child = children[i];\r\n\r\n            child._currentMeasure.left -= left;\r\n            child._currentMeasure.top -= top;\r\n\r\n            child._customData._origLeft = child._currentMeasure.left; // save the original left and top values for each child\r\n            child._customData._origTop = child._currentMeasure.top;\r\n\r\n            if (child instanceof Container && child._children.length > 0) {\r\n                this._updateChildrenMeasures(child._children, left, top);\r\n            }\r\n        }\r\n    }\r\n\r\n    private _restoreMeasures(): void {\r\n        const left = this.leftInPixels | 0,\r\n            top = this.topInPixels | 0;\r\n\r\n        this._measureForChildren.left = this._customData.origLeftForChildren + left;\r\n        this._measureForChildren.top = this._customData.origTopForChildren + top;\r\n        this._currentMeasure.left = this._customData.origLeft + left;\r\n        this._currentMeasure.top = this._customData.origTop + top;\r\n    }\r\n\r\n    /**\r\n     * Creates a new ScrollViewerWindow\r\n     * @param name of ScrollViewerWindow\r\n     */\r\n    constructor(name?: string) {\r\n        super(name);\r\n    }\r\n\r\n    protected override _getTypeName(): string {\r\n        return \"ScrollViewerWindow\";\r\n    }\r\n\r\n    /**\r\n     * @internal\r\n     */\r\n    protected override _additionalProcessing(parentMeasure: Measure, context: ICanvasRenderingContext): void {\r\n        super._additionalProcessing(parentMeasure, context);\r\n\r\n        this._parentMeasure = parentMeasure;\r\n\r\n        this._measureForChildren.left = this._currentMeasure.left;\r\n        this._measureForChildren.top = this._currentMeasure.top;\r\n\r\n        this._measureForChildren.width = parentMeasure.width;\r\n        this._measureForChildren.height = parentMeasure.height;\r\n    }\r\n\r\n    /**\r\n     * @internal\r\n     */\r\n    public override _layout(parentMeasure: Measure, context: ICanvasRenderingContext): boolean {\r\n        if (this._freezeControls) {\r\n            this.invalidateRect(); // will trigger a redraw of the window\r\n            return false;\r\n        }\r\n\r\n        return super._layout(parentMeasure, context);\r\n    }\r\n\r\n    private _scrollChildren(children: Control[], left: number, top: number): void {\r\n        for (let i = 0; i < children.length; ++i) {\r\n            const child = children[i];\r\n\r\n            child._currentMeasure.left = child._customData._origLeft + left;\r\n            child._currentMeasure.top = child._customData._origTop + top;\r\n            child._isClipped = false; // clipping will be handled by _draw and the call to _intersectsRect()\r\n\r\n            if (child instanceof Container && child._children.length > 0) {\r\n                this._scrollChildren(child._children, left, top);\r\n            }\r\n        }\r\n    }\r\n\r\n    private _scrollChildrenWithBuckets(left: number, top: number, scrollLeft: number, scrollTop: number): void {\r\n        const bStartX = Math.max(0, Math.floor(-left / this._bucketWidth)),\r\n            bEndX = Math.floor((-left + this._parentMeasure.width - 1) / this._bucketWidth),\r\n            bEndY = Math.floor((-top + this._parentMeasure.height - 1) / this._bucketHeight);\r\n        let bStartY = Math.max(0, Math.floor(-top / this._bucketHeight));\r\n\r\n        while (bStartY <= bEndY) {\r\n            for (let x = bStartX; x <= bEndX; ++x) {\r\n                const bucket = bStartY * this._bucketLen + x,\r\n                    lstc = this._buckets[bucket];\r\n\r\n                if (lstc) {\r\n                    for (let i = 0; i < lstc.length; ++i) {\r\n                        const child = lstc[i];\r\n                        child._currentMeasure.left = child._customData._origLeft + scrollLeft;\r\n                        child._currentMeasure.top = child._customData._origTop + scrollTop;\r\n                        child._isClipped = false; // clipping will be handled by _draw and the call to _intersectsRect()\r\n                    }\r\n                }\r\n            }\r\n            bStartY++;\r\n        }\r\n    }\r\n\r\n    /**\r\n     * @internal\r\n     */\r\n    public override _draw(context: ICanvasRenderingContext, invalidatedRectangle?: Measure): void {\r\n        if (!this._freezeControls) {\r\n            super._draw(context, invalidatedRectangle);\r\n            return;\r\n        }\r\n\r\n        this._localDraw(context);\r\n\r\n        if (this.clipChildren) {\r\n            this._clipForChildren(context);\r\n        }\r\n\r\n        const left = this.leftInPixels | 0,\r\n            top = this.topInPixels | 0;\r\n\r\n        if (this._useBuckets()) {\r\n            if (this._oldLeft !== null && this._oldTop !== null) {\r\n                this._scrollChildrenWithBuckets(this._oldLeft, this._oldTop, left, top);\r\n                this._scrollChildrenWithBuckets(left, top, left, top);\r\n            } else {\r\n                this._scrollChildren(this._children, left, top);\r\n            }\r\n        } else {\r\n            this._scrollChildren(this._children, left, top);\r\n        }\r\n\r\n        this._oldLeft = left;\r\n        this._oldTop = top;\r\n\r\n        for (const child of this._children) {\r\n            if (!child._intersectsRect(this._parentMeasure)) {\r\n                continue;\r\n            }\r\n            child._render(context, this._parentMeasure);\r\n        }\r\n    }\r\n\r\n    protected override _postMeasure(): void {\r\n        if (this._freezeControls) {\r\n            super._postMeasure();\r\n            return;\r\n        }\r\n\r\n        let maxWidth = this.parentClientWidth;\r\n        let maxHeight = this.parentClientHeight;\r\n        for (const child of this.children) {\r\n            if (!child.isVisible || child.notRenderable) {\r\n                continue;\r\n            }\r\n\r\n            if (child.horizontalAlignment === Control.HORIZONTAL_ALIGNMENT_CENTER) {\r\n                child._offsetLeft(this._currentMeasure.left - child._currentMeasure.left);\r\n            }\r\n\r\n            if (child.verticalAlignment === Control.VERTICAL_ALIGNMENT_CENTER) {\r\n                child._offsetTop(this._currentMeasure.top - child._currentMeasure.top);\r\n            }\r\n\r\n            maxWidth = Math.max(maxWidth, child._currentMeasure.left - this._currentMeasure.left + child._currentMeasure.width + child.paddingRightInPixels);\r\n            maxHeight = Math.max(maxHeight, child._currentMeasure.top - this._currentMeasure.top + child._currentMeasure.height + child.paddingBottomInPixels);\r\n        }\r\n\r\n        if (this._currentMeasure.width !== maxWidth) {\r\n            this._width.updateInPlace(maxWidth, ValueAndUnit.UNITMODE_PIXEL);\r\n            this._currentMeasure.width = maxWidth;\r\n            this._rebuildLayout = true;\r\n            this._isDirty = true;\r\n        }\r\n\r\n        if (this._currentMeasure.height !== maxHeight) {\r\n            this._height.updateInPlace(maxHeight, ValueAndUnit.UNITMODE_PIXEL);\r\n            this._currentMeasure.height = maxHeight;\r\n            this._rebuildLayout = true;\r\n            this._isDirty = true;\r\n        }\r\n\r\n        super._postMeasure();\r\n    }\r\n}\r\n","import type { Vector2 } from \"core/Maths/math.vector\";\r\nimport { BaseSlider } from \"./baseSlider\";\r\nimport type { Control } from \"../control\";\r\nimport { Measure } from \"../../measure\";\r\nimport type { PointerInfoBase } from \"core/Events/pointerEvents\";\r\nimport { serialize } from \"core/Misc/decorators\";\r\nimport type { ICanvasRenderingContext } from \"core/Engines/ICanvas\";\r\nimport type { Nullable } from \"core/types\";\r\nimport type { BaseGradient } from \"../gradient/BaseGradient\";\r\nimport type { AdvancedDynamicTexture } from \"gui/2D/advancedDynamicTexture\";\r\nimport { Tools } from \"core/Misc/tools\";\r\nimport { RegisterClass } from \"core/Misc/typeStore\";\r\n\r\n/**\r\n * Class used to create slider controls\r\n */\r\nexport class ScrollBar extends BaseSlider {\r\n    private _background = \"black\";\r\n    private _borderColor = \"white\";\r\n    private _tempMeasure = new Measure(0, 0, 0, 0);\r\n    private _invertScrollDirection = false;\r\n    private _backgroundGradient: Nullable<BaseGradient> = null;\r\n\r\n    /** Gets or sets border color */\r\n    @serialize()\r\n    public get borderColor(): string {\r\n        return this._borderColor;\r\n    }\r\n\r\n    public set borderColor(value: string) {\r\n        if (this._borderColor === value) {\r\n            return;\r\n        }\r\n\r\n        this._borderColor = value;\r\n        this._markAsDirty();\r\n    }\r\n\r\n    /** Gets or sets background color */\r\n    @serialize()\r\n    public get background(): string {\r\n        return this._background;\r\n    }\r\n\r\n    public set background(value: string) {\r\n        if (this._background === value) {\r\n            return;\r\n        }\r\n\r\n        this._background = value;\r\n        this._markAsDirty();\r\n    }\r\n\r\n    /** Gets or sets background gradient. Takes precedence over gradient. */\r\n    public get backgroundGradient(): Nullable<BaseGradient> {\r\n        return this._backgroundGradient;\r\n    }\r\n\r\n    public set backgroundGradient(value: Nullable<BaseGradient>) {\r\n        if (this._backgroundGradient === value) {\r\n            return;\r\n        }\r\n\r\n        this._backgroundGradient = value;\r\n        this._markAsDirty();\r\n    }\r\n\r\n    /** Inverts the scrolling direction (default: false) */\r\n    @serialize()\r\n    public get invertScrollDirection() {\r\n        return this._invertScrollDirection;\r\n    }\r\n\r\n    public set invertScrollDirection(invert: boolean) {\r\n        this._invertScrollDirection = invert;\r\n    }\r\n\r\n    /**\r\n     * Creates a new Slider\r\n     * @param name defines the control name\r\n     */\r\n    constructor(public override name?: string) {\r\n        super(name);\r\n    }\r\n\r\n    protected override _getTypeName(): string {\r\n        return \"Scrollbar\";\r\n    }\r\n\r\n    protected override _getThumbThickness(): number {\r\n        let thumbThickness = 0;\r\n        if (this._thumbWidth.isPixel) {\r\n            thumbThickness = this._thumbWidth.getValue(this._host);\r\n        } else {\r\n            thumbThickness = this._backgroundBoxThickness * this._thumbWidth.getValue(this._host);\r\n        }\r\n        return thumbThickness;\r\n    }\r\n\r\n    private _getBackgroundColor(context: ICanvasRenderingContext) {\r\n        return this._backgroundGradient ? this._backgroundGradient.getCanvasGradient(context) : this._background;\r\n    }\r\n\r\n    public override _draw(context: ICanvasRenderingContext): void {\r\n        context.save();\r\n\r\n        this._applyStates(context);\r\n        this._prepareRenderingData(\"rectangle\");\r\n        const left = this._renderLeft;\r\n\r\n        const thumbPosition = this._getThumbPosition();\r\n        context.fillStyle = this._getBackgroundColor(context);\r\n\r\n        context.fillRect(this._currentMeasure.left, this._currentMeasure.top, this._currentMeasure.width, this._currentMeasure.height);\r\n\r\n        // Value bar\r\n        context.fillStyle = this._getColor(context);\r\n\r\n        // Thumb\r\n        if (this.isVertical) {\r\n            this._tempMeasure.left = left - this._effectiveBarOffset;\r\n            this._tempMeasure.top = this._currentMeasure.top + thumbPosition;\r\n            this._tempMeasure.width = this._currentMeasure.width;\r\n            this._tempMeasure.height = this._effectiveThumbThickness;\r\n        } else {\r\n            this._tempMeasure.left = this._currentMeasure.left + thumbPosition;\r\n            this._tempMeasure.top = this._currentMeasure.top;\r\n            this._tempMeasure.width = this._effectiveThumbThickness;\r\n            this._tempMeasure.height = this._currentMeasure.height;\r\n        }\r\n\r\n        context.fillRect(this._tempMeasure.left, this._tempMeasure.top, this._tempMeasure.width, this._tempMeasure.height);\r\n\r\n        context.restore();\r\n    }\r\n\r\n    private _first: boolean;\r\n    private _originX: number;\r\n    private _originY: number;\r\n\r\n    /**\r\n     * @internal\r\n     */\r\n    protected override _updateValueFromPointer(x: number, y: number): void {\r\n        if (this.rotation != 0) {\r\n            this._invertTransformMatrix.transformCoordinates(x, y, this._transformedPosition);\r\n            x = this._transformedPosition.x;\r\n            y = this._transformedPosition.y;\r\n        }\r\n\r\n        const sign = this._invertScrollDirection ? -1 : 1;\r\n\r\n        if (this._first) {\r\n            this._first = false;\r\n            this._originX = x;\r\n            this._originY = y;\r\n\r\n            // Check if move is required\r\n            if (\r\n                x < this._tempMeasure.left ||\r\n                x > this._tempMeasure.left + this._tempMeasure.width ||\r\n                y < this._tempMeasure.top ||\r\n                y > this._tempMeasure.top + this._tempMeasure.height\r\n            ) {\r\n                if (this.isVertical) {\r\n                    this.value = this.minimum + (1 - (y - this._currentMeasure.top) / this._currentMeasure.height) * (this.maximum - this.minimum);\r\n                } else {\r\n                    this.value = this.minimum + ((x - this._currentMeasure.left) / this._currentMeasure.width) * (this.maximum - this.minimum);\r\n                }\r\n            }\r\n        }\r\n\r\n        // Delta mode\r\n        let delta = 0;\r\n        if (this.isVertical) {\r\n            delta = -((y - this._originY) / (this._currentMeasure.height - this._effectiveThumbThickness));\r\n        } else {\r\n            delta = (x - this._originX) / (this._currentMeasure.width - this._effectiveThumbThickness);\r\n        }\r\n\r\n        this.value += sign * delta * (this.maximum - this.minimum);\r\n\r\n        this._originX = x;\r\n        this._originY = y;\r\n    }\r\n\r\n    public override _onPointerDown(target: Control, coordinates: Vector2, pointerId: number, buttonIndex: number, pi: PointerInfoBase): boolean {\r\n        this._first = true;\r\n\r\n        return super._onPointerDown(target, coordinates, pointerId, buttonIndex, pi);\r\n    }\r\n\r\n    public override serialize(serializationObject: any) {\r\n        super.serialize(serializationObject);\r\n\r\n        if (this.backgroundGradient) {\r\n            serializationObject.backgroundGradient = {};\r\n            this.backgroundGradient.serialize(serializationObject.backgroundGradient);\r\n        }\r\n    }\r\n\r\n    public override _parseFromContent(serializationObject: any, host: AdvancedDynamicTexture) {\r\n        super._parseFromContent(serializationObject, host);\r\n\r\n        if (serializationObject.backgroundGradient) {\r\n            const className = Tools.Instantiate(\"BABYLON.GUI.\" + serializationObject.backgroundGradient.className);\r\n            this.backgroundGradient = new className();\r\n            this.backgroundGradient!.parse(serializationObject.backgroundGradient);\r\n        }\r\n    }\r\n}\r\nRegisterClass(\"BABYLON.GUI.Scrollbar\", ScrollBar);\r\n","import type { Vector2 } from \"core/Maths/math.vector\";\r\nimport { BaseSlider } from \"./baseSlider\";\r\nimport type { Control } from \"../control\";\r\nimport type { Image } from \"../image\";\r\nimport { Measure } from \"../../measure\";\r\nimport type { PointerInfoBase } from \"core/Events/pointerEvents\";\r\nimport { serialize } from \"core/Misc/decorators\";\r\nimport type { ICanvasRenderingContext } from \"core/Engines/ICanvas\";\r\n\r\n/**\r\n * Class used to create slider controls\r\n */\r\nexport class ImageScrollBar extends BaseSlider {\r\n    private _backgroundBaseImage: Image;\r\n    private _backgroundImage: Image;\r\n    private _thumbImage: Image;\r\n    private _thumbBaseImage: Image;\r\n    private _thumbLength: number = 0.5;\r\n    private _thumbHeight: number = 1;\r\n    private _barImageHeight: number = 1;\r\n    private _tempMeasure = new Measure(0, 0, 0, 0);\r\n    private _invertScrollDirection = false;\r\n\r\n    /** Number of 90 rotation to apply on the images when in vertical mode */\r\n    @serialize()\r\n    public num90RotationInVerticalMode = 1;\r\n\r\n    /** Inverts the scrolling direction (default: false) */\r\n    @serialize()\r\n    public get invertScrollDirection() {\r\n        return this._invertScrollDirection;\r\n    }\r\n\r\n    public set invertScrollDirection(invert: boolean) {\r\n        this._invertScrollDirection = invert;\r\n    }\r\n\r\n    /**\r\n     * Gets or sets the image used to render the background for horizontal bar\r\n     */\r\n    public get backgroundImage(): Image {\r\n        return this._backgroundBaseImage;\r\n    }\r\n\r\n    public set backgroundImage(value: Image) {\r\n        if (this._backgroundBaseImage === value) {\r\n            return;\r\n        }\r\n\r\n        this._backgroundBaseImage = value;\r\n\r\n        if (this.isVertical && this.num90RotationInVerticalMode !== 0) {\r\n            if (!value.isLoaded) {\r\n                value.onImageLoadedObservable.addOnce(() => {\r\n                    const rotatedValue = value._rotate90(this.num90RotationInVerticalMode, true);\r\n                    this._backgroundImage = rotatedValue;\r\n                    if (!rotatedValue.isLoaded) {\r\n                        rotatedValue.onImageLoadedObservable.addOnce(() => {\r\n                            this._markAsDirty();\r\n                        });\r\n                    }\r\n                    this._markAsDirty();\r\n                });\r\n            } else {\r\n                this._backgroundImage = value._rotate90(this.num90RotationInVerticalMode, true);\r\n                this._markAsDirty();\r\n            }\r\n        } else {\r\n            this._backgroundImage = value;\r\n            if (value && !value.isLoaded) {\r\n                value.onImageLoadedObservable.addOnce(() => {\r\n                    this._markAsDirty();\r\n                });\r\n            }\r\n\r\n            this._markAsDirty();\r\n        }\r\n    }\r\n\r\n    /**\r\n     * Gets or sets the image used to render the thumb\r\n     */\r\n    public get thumbImage(): Image {\r\n        return this._thumbBaseImage;\r\n    }\r\n\r\n    public set thumbImage(value: Image) {\r\n        if (this._thumbBaseImage === value) {\r\n            return;\r\n        }\r\n\r\n        this._thumbBaseImage = value;\r\n\r\n        if (this.isVertical && this.num90RotationInVerticalMode !== 0) {\r\n            if (!value.isLoaded) {\r\n                value.onImageLoadedObservable.addOnce(() => {\r\n                    const rotatedValue = value._rotate90(-this.num90RotationInVerticalMode, true);\r\n                    this._thumbImage = rotatedValue;\r\n                    if (!rotatedValue.isLoaded) {\r\n                        rotatedValue.onImageLoadedObservable.addOnce(() => {\r\n                            this._markAsDirty();\r\n                        });\r\n                    }\r\n                    this._markAsDirty();\r\n                });\r\n            } else {\r\n                this._thumbImage = value._rotate90(-this.num90RotationInVerticalMode, true);\r\n                this._markAsDirty();\r\n            }\r\n        } else {\r\n            this._thumbImage = value;\r\n            if (value && !value.isLoaded) {\r\n                value.onImageLoadedObservable.addOnce(() => {\r\n                    this._markAsDirty();\r\n                });\r\n            }\r\n\r\n            this._markAsDirty();\r\n        }\r\n    }\r\n\r\n    /**\r\n     * Gets or sets the length of the thumb\r\n     */\r\n    public get thumbLength(): number {\r\n        return this._thumbLength;\r\n    }\r\n\r\n    public set thumbLength(value: number) {\r\n        if (this._thumbLength === value) {\r\n            return;\r\n        }\r\n\r\n        this._thumbLength = value;\r\n\r\n        this._markAsDirty();\r\n    }\r\n\r\n    /**\r\n     * Gets or sets the height of the thumb\r\n     */\r\n    public get thumbHeight(): number {\r\n        return this._thumbHeight;\r\n    }\r\n\r\n    public set thumbHeight(value: number) {\r\n        if (this._thumbLength === value) {\r\n            return;\r\n        }\r\n\r\n        this._thumbHeight = value;\r\n\r\n        this._markAsDirty();\r\n    }\r\n\r\n    /**\r\n     * Gets or sets the height of the bar image\r\n     */\r\n    public get barImageHeight(): number {\r\n        return this._barImageHeight;\r\n    }\r\n\r\n    public set barImageHeight(value: number) {\r\n        if (this._barImageHeight === value) {\r\n            return;\r\n        }\r\n\r\n        this._barImageHeight = value;\r\n\r\n        this._markAsDirty();\r\n    }\r\n\r\n    /**\r\n     * Creates a new ImageScrollBar\r\n     * @param name defines the control name\r\n     */\r\n    constructor(public override name?: string) {\r\n        super(name);\r\n    }\r\n\r\n    protected override _getTypeName(): string {\r\n        return \"ImageScrollBar\";\r\n    }\r\n\r\n    protected override _getThumbThickness(): number {\r\n        let thumbThickness = 0;\r\n        if (this._thumbWidth.isPixel) {\r\n            thumbThickness = this._thumbWidth.getValue(this._host);\r\n        } else {\r\n            thumbThickness = this._backgroundBoxThickness * this._thumbWidth.getValue(this._host);\r\n        }\r\n        return thumbThickness;\r\n    }\r\n\r\n    public override _draw(context: ICanvasRenderingContext): void {\r\n        context.save();\r\n\r\n        this._applyStates(context);\r\n\r\n        this._prepareRenderingData(\"rectangle\");\r\n        const thumbPosition = this._getThumbPosition();\r\n        const left = this._renderLeft;\r\n        const top = this._renderTop;\r\n        const width = this._renderWidth;\r\n        const height = this._renderHeight;\r\n\r\n        // Background\r\n        if (this._backgroundImage) {\r\n            this._tempMeasure.copyFromFloats(left, top, width, height);\r\n            if (this.isVertical) {\r\n                this._tempMeasure.copyFromFloats(left + width * (1 - this._barImageHeight) * 0.5, this._currentMeasure.top, width * this._barImageHeight, height);\r\n                this._tempMeasure.height += this._effectiveThumbThickness;\r\n                this._backgroundImage._currentMeasure.copyFrom(this._tempMeasure);\r\n            } else {\r\n                this._tempMeasure.copyFromFloats(this._currentMeasure.left, top + height * (1 - this._barImageHeight) * 0.5, width, height * this._barImageHeight);\r\n                this._tempMeasure.width += this._effectiveThumbThickness;\r\n                this._backgroundImage._currentMeasure.copyFrom(this._tempMeasure);\r\n            }\r\n            this._backgroundImage._draw(context);\r\n        }\r\n\r\n        // Thumb\r\n        if (this.isVertical) {\r\n            this._tempMeasure.copyFromFloats(\r\n                left - this._effectiveBarOffset + this._currentMeasure.width * (1 - this._thumbHeight) * 0.5,\r\n                this._currentMeasure.top + thumbPosition,\r\n                this._currentMeasure.width * this._thumbHeight,\r\n                this._effectiveThumbThickness\r\n            );\r\n        } else {\r\n            this._tempMeasure.copyFromFloats(\r\n                this._currentMeasure.left + thumbPosition,\r\n                this._currentMeasure.top + this._currentMeasure.height * (1 - this._thumbHeight) * 0.5,\r\n                this._effectiveThumbThickness,\r\n                this._currentMeasure.height * this._thumbHeight\r\n            );\r\n        }\r\n\r\n        if (this._thumbImage) {\r\n            this._thumbImage._currentMeasure.copyFrom(this._tempMeasure);\r\n            this._thumbImage._draw(context);\r\n        }\r\n\r\n        context.restore();\r\n    }\r\n\r\n    private _first: boolean;\r\n    private _originX: number;\r\n    private _originY: number;\r\n\r\n    /**\r\n     * @internal\r\n     */\r\n    protected override _updateValueFromPointer(x: number, y: number): void {\r\n        if (this.rotation != 0) {\r\n            this._invertTransformMatrix.transformCoordinates(x, y, this._transformedPosition);\r\n            x = this._transformedPosition.x;\r\n            y = this._transformedPosition.y;\r\n        }\r\n\r\n        const sign = this._invertScrollDirection ? -1 : 1;\r\n\r\n        if (this._first) {\r\n            this._first = false;\r\n            this._originX = x;\r\n            this._originY = y;\r\n\r\n            // Check if move is required\r\n            if (\r\n                x < this._tempMeasure.left ||\r\n                x > this._tempMeasure.left + this._tempMeasure.width ||\r\n                y < this._tempMeasure.top ||\r\n                y > this._tempMeasure.top + this._tempMeasure.height\r\n            ) {\r\n                if (this.isVertical) {\r\n                    this.value = this.minimum + (1 - (y - this._currentMeasure.top) / this._currentMeasure.height) * (this.maximum - this.minimum);\r\n                } else {\r\n                    this.value = this.minimum + ((x - this._currentMeasure.left) / this._currentMeasure.width) * (this.maximum - this.minimum);\r\n                }\r\n            }\r\n        }\r\n\r\n        // Delta mode\r\n        let delta = 0;\r\n        if (this.isVertical) {\r\n            delta = -((y - this._originY) / (this._currentMeasure.height - this._effectiveThumbThickness));\r\n        } else {\r\n            delta = (x - this._originX) / (this._currentMeasure.width - this._effectiveThumbThickness);\r\n        }\r\n\r\n        this.value += sign * delta * (this.maximum - this.minimum);\r\n\r\n        this._originX = x;\r\n        this._originY = y;\r\n    }\r\n\r\n    public override _onPointerDown(target: Control, coordinates: Vector2, pointerId: number, buttonIndex: number, pi: PointerInfoBase): boolean {\r\n        this._first = true;\r\n\r\n        return super._onPointerDown(target, coordinates, pointerId, buttonIndex, pi);\r\n    }\r\n}\r\n","import type { Nullable } from \"core/types\";\r\nimport type { Observer } from \"core/Misc/observable\";\r\nimport type { Vector2 } from \"core/Maths/math\";\r\nimport { Rectangle } from \"../rectangle\";\r\nimport { Grid } from \"../grid\";\r\nimport type { Image } from \"../image\";\r\nimport { Control } from \"../control\";\r\nimport type { Container } from \"../container\";\r\nimport type { Measure } from \"../../measure\";\r\nimport type { AdvancedDynamicTexture } from \"../../advancedDynamicTexture\";\r\nimport { _ScrollViewerWindow } from \"./scrollViewerWindow\";\r\nimport { ScrollBar } from \"../sliders/scrollBar\";\r\nimport { ImageScrollBar } from \"../sliders/imageScrollBar\";\r\nimport { RegisterClass } from \"core/Misc/typeStore\";\r\nimport type { ICanvasRenderingContext } from \"core/Engines/ICanvas\";\r\nimport { serialize } from \"core/Misc/decorators\";\r\n\r\n/**\r\n * Class used to hold a viewer window and sliders in a grid\r\n */\r\nexport class ScrollViewer extends Rectangle {\r\n    private _grid: Grid;\r\n    private _horizontalBarSpace: Rectangle;\r\n    private _verticalBarSpace: Rectangle;\r\n    private _dragSpace: Rectangle;\r\n    private _horizontalBar: ScrollBar | ImageScrollBar;\r\n    private _verticalBar: ScrollBar | ImageScrollBar;\r\n    private _barColor: string;\r\n    private _barBackground: string;\r\n    private _barImage: Image;\r\n    private _horizontalBarImage: Image;\r\n    private _verticalBarImage: Image;\r\n    private _barBackgroundImage: Image;\r\n    private _horizontalBarBackgroundImage: Image;\r\n    private _verticalBarBackgroundImage: Image;\r\n    private _barSize: number = 20;\r\n    private _window: _ScrollViewerWindow;\r\n    private _pointerIsOver: boolean = false;\r\n    private _wheelPrecision: number = 0.05;\r\n    private _onWheelObserver: Nullable<Observer<Vector2>>;\r\n    private _clientWidth: number;\r\n    private _clientHeight: number;\r\n    private _useImageBar: boolean;\r\n    private _thumbLength: number = 0.5;\r\n    private _thumbHeight: number = 1;\r\n    private _barImageHeight: number = 1;\r\n    private _horizontalBarImageHeight: number = 1;\r\n    private _verticalBarImageHeight: number = 1;\r\n    private _oldWindowContentsWidth: number = 0;\r\n    private _oldWindowContentsHeight: number = 0;\r\n\r\n    /**\r\n     * Gets the horizontal scrollbar\r\n     */\r\n    public get horizontalBar(): ScrollBar | ImageScrollBar {\r\n        return this._horizontalBar;\r\n    }\r\n\r\n    /**\r\n     * Gets the vertical scrollbar\r\n     */\r\n    public get verticalBar(): ScrollBar | ImageScrollBar {\r\n        return this._verticalBar;\r\n    }\r\n\r\n    /**\r\n     * Adds a new control to the current container\r\n     * @param control defines the control to add\r\n     * @returns the current container\r\n     */\r\n    public override addControl(control: Nullable<Control>): Container {\r\n        if (!control) {\r\n            return this;\r\n        }\r\n\r\n        this._window.addControl(control);\r\n\r\n        return this;\r\n    }\r\n\r\n    /**\r\n     * Removes a control from the current container\r\n     * @param control defines the control to remove\r\n     * @returns the current container\r\n     */\r\n    public override removeControl(control: Control): Container {\r\n        this._window.removeControl(control);\r\n        return this;\r\n    }\r\n\r\n    /** Gets the list of children */\r\n    public override get children(): Control[] {\r\n        return this._window.children;\r\n    }\r\n\r\n    public override _flagDescendantsAsMatrixDirty(): void {\r\n        for (const child of this._children) {\r\n            child._markMatrixAsDirty();\r\n        }\r\n    }\r\n\r\n    /**\r\n     * Freezes or unfreezes the controls in the window.\r\n     * When controls are frozen, the scroll viewer can render a lot more quickly but updates to positions/sizes of controls\r\n     * are not taken into account. If you want to change positions/sizes, unfreeze, perform the changes then freeze again\r\n     */\r\n    public get freezeControls(): boolean {\r\n        return this._window.freezeControls;\r\n    }\r\n\r\n    public set freezeControls(value: boolean) {\r\n        this._window.freezeControls = value;\r\n    }\r\n\r\n    /** Gets the bucket width */\r\n    public get bucketWidth(): number {\r\n        return this._window.bucketWidth;\r\n    }\r\n\r\n    /** Gets the bucket height */\r\n    public get bucketHeight(): number {\r\n        return this._window.bucketHeight;\r\n    }\r\n\r\n    /**\r\n     * Sets the bucket sizes.\r\n     * When freezeControls is true, setting a non-zero bucket size will improve performances by updating only\r\n     * controls that are visible. The bucket sizes is used to subdivide (internally) the window area to smaller areas into which\r\n     * controls are dispatched. So, the size should be roughly equals to the mean size of all the controls of\r\n     * the window. To disable the usage of buckets, sets either width or height (or both) to 0.\r\n     * Please note that using this option will raise the memory usage (the higher the bucket sizes, the less memory\r\n     * used), that's why it is not enabled by default.\r\n     * @param width width of the bucket\r\n     * @param height height of the bucket\r\n     */\r\n    public setBucketSizes(width: number, height: number): void {\r\n        this._window.setBucketSizes(width, height);\r\n    }\r\n\r\n    private _forceHorizontalBar: boolean = false;\r\n    private _forceVerticalBar: boolean = false;\r\n\r\n    /**\r\n     * Forces the horizontal scroll bar to be displayed\r\n     */\r\n    public get forceHorizontalBar(): boolean {\r\n        return this._forceHorizontalBar;\r\n    }\r\n\r\n    public set forceHorizontalBar(value: boolean) {\r\n        this._grid.setRowDefinition(1, value ? this._barSize : 0, true);\r\n        this._horizontalBar.isVisible = value;\r\n        this._forceHorizontalBar = value;\r\n    }\r\n\r\n    /**\r\n     * Forces the vertical scroll bar to be displayed\r\n     */\r\n    public get forceVerticalBar(): boolean {\r\n        return this._forceVerticalBar;\r\n    }\r\n\r\n    public set forceVerticalBar(value: boolean) {\r\n        this._grid.setColumnDefinition(1, value ? this._barSize : 0, true);\r\n        this._verticalBar.isVisible = value;\r\n        this._forceVerticalBar = value;\r\n    }\r\n\r\n    /**\r\n     * Creates a new ScrollViewer\r\n     * @param name of ScrollViewer\r\n     * @param isImageBased\r\n     */\r\n    constructor(name?: string, isImageBased?: boolean) {\r\n        super(name);\r\n\r\n        this._useImageBar = isImageBased ? isImageBased : false;\r\n\r\n        this.onDirtyObservable.add(() => {\r\n            this._horizontalBarSpace.color = this.color;\r\n            this._verticalBarSpace.color = this.color;\r\n            this._dragSpace.color = this.color;\r\n        });\r\n\r\n        this.onPointerEnterObservable.add(() => {\r\n            this._pointerIsOver = true;\r\n        });\r\n\r\n        this.onPointerOutObservable.add(() => {\r\n            this._pointerIsOver = false;\r\n        });\r\n\r\n        this._grid = new Grid();\r\n        if (this._useImageBar) {\r\n            this._horizontalBar = new ImageScrollBar();\r\n            this._verticalBar = new ImageScrollBar();\r\n        } else {\r\n            this._horizontalBar = new ScrollBar();\r\n            this._verticalBar = new ScrollBar();\r\n        }\r\n\r\n        this._window = new _ScrollViewerWindow(\"scrollViewer_window\");\r\n        this._window.horizontalAlignment = Control.HORIZONTAL_ALIGNMENT_LEFT;\r\n        this._window.verticalAlignment = Control.VERTICAL_ALIGNMENT_TOP;\r\n\r\n        this._grid.addColumnDefinition(1);\r\n        this._grid.addColumnDefinition(0, true);\r\n        this._grid.addRowDefinition(1);\r\n        this._grid.addRowDefinition(0, true);\r\n\r\n        super.addControl(this._grid);\r\n        this._grid.addControl(this._window, 0, 0);\r\n\r\n        this._verticalBarSpace = new Rectangle();\r\n        this._verticalBarSpace.horizontalAlignment = Control.HORIZONTAL_ALIGNMENT_LEFT;\r\n        this._verticalBarSpace.verticalAlignment = Control.VERTICAL_ALIGNMENT_TOP;\r\n        this._verticalBarSpace.thickness = 1;\r\n        this._grid.addControl(this._verticalBarSpace, 0, 1);\r\n        this._addBar(this._verticalBar, this._verticalBarSpace, true, Math.PI);\r\n\r\n        this._horizontalBarSpace = new Rectangle();\r\n        this._horizontalBarSpace.horizontalAlignment = Control.HORIZONTAL_ALIGNMENT_LEFT;\r\n        this._horizontalBarSpace.verticalAlignment = Control.VERTICAL_ALIGNMENT_TOP;\r\n        this._horizontalBarSpace.thickness = 1;\r\n        this._grid.addControl(this._horizontalBarSpace, 1, 0);\r\n        this._addBar(this._horizontalBar, this._horizontalBarSpace, false, 0);\r\n\r\n        this._dragSpace = new Rectangle();\r\n        this._dragSpace.thickness = 1;\r\n        this._grid.addControl(this._dragSpace, 1, 1);\r\n\r\n        this._grid.clipChildren = false;\r\n\r\n        // Colors\r\n        if (!this._useImageBar) {\r\n            this.barColor = \"grey\";\r\n            this.barBackground = \"transparent\";\r\n        }\r\n    }\r\n\r\n    /** Reset the scroll viewer window to initial size */\r\n    public resetWindow() {\r\n        this._window.width = \"100%\";\r\n        this._window.height = \"100%\";\r\n    }\r\n\r\n    protected override _getTypeName(): string {\r\n        return \"ScrollViewer\";\r\n    }\r\n\r\n    private _buildClientSizes() {\r\n        const ratio = this.host.idealRatio;\r\n\r\n        this._window.parentClientWidth = this._currentMeasure.width - (this._verticalBar.isVisible || this.forceVerticalBar ? this._barSize * ratio : 0) - 2 * this.thickness;\r\n        this._window.parentClientHeight = this._currentMeasure.height - (this._horizontalBar.isVisible || this.forceHorizontalBar ? this._barSize * ratio : 0) - 2 * this.thickness;\r\n\r\n        this._clientWidth = this._window.parentClientWidth;\r\n        this._clientHeight = this._window.parentClientHeight;\r\n    }\r\n\r\n    protected override _additionalProcessing(parentMeasure: Measure, context: ICanvasRenderingContext): void {\r\n        super._additionalProcessing(parentMeasure, context);\r\n\r\n        this._buildClientSizes();\r\n    }\r\n\r\n    protected override _postMeasure(): void {\r\n        super._postMeasure();\r\n\r\n        this._updateScroller();\r\n\r\n        this._setWindowPosition(false);\r\n    }\r\n\r\n    /**\r\n     * Gets or sets the mouse wheel precision\r\n     * from 0 to 1 with a default value of 0.05\r\n     * */\r\n    @serialize()\r\n    public get wheelPrecision(): number {\r\n        return this._wheelPrecision;\r\n    }\r\n\r\n    public set wheelPrecision(value: number) {\r\n        if (this._wheelPrecision === value) {\r\n            return;\r\n        }\r\n\r\n        if (value < 0) {\r\n            value = 0;\r\n        }\r\n\r\n        if (value > 1) {\r\n            value = 1;\r\n        }\r\n\r\n        this._wheelPrecision = value;\r\n    }\r\n\r\n    /** Gets or sets the scroll bar container background color */\r\n    @serialize()\r\n    public get scrollBackground(): string {\r\n        return this._horizontalBarSpace.background;\r\n    }\r\n\r\n    public set scrollBackground(color: string) {\r\n        if (this._horizontalBarSpace.background === color) {\r\n            return;\r\n        }\r\n        this._horizontalBarSpace.background = color;\r\n        this._verticalBarSpace.background = color;\r\n    }\r\n\r\n    /** Gets or sets the bar color */\r\n    @serialize()\r\n    public get barColor(): string {\r\n        return this._barColor;\r\n    }\r\n\r\n    public set barColor(color: string) {\r\n        if (this._barColor === color) {\r\n            return;\r\n        }\r\n\r\n        this._barColor = color;\r\n        this._horizontalBar.color = color;\r\n        this._verticalBar.color = color;\r\n    }\r\n\r\n    /** Gets or sets the bar image */\r\n    public get thumbImage(): Image {\r\n        return this._barImage;\r\n    }\r\n\r\n    public set thumbImage(value: Image) {\r\n        if (this._barImage === value) {\r\n            return;\r\n        }\r\n\r\n        this._barImage = value;\r\n        const hb = <ImageScrollBar>this._horizontalBar;\r\n        const vb = <ImageScrollBar>this._verticalBar;\r\n        hb.thumbImage = value;\r\n        vb.thumbImage = value;\r\n    }\r\n\r\n    /** Gets or sets the horizontal bar image */\r\n    public get horizontalThumbImage(): Image {\r\n        return this._horizontalBarImage;\r\n    }\r\n\r\n    public set horizontalThumbImage(value: Image) {\r\n        if (this._horizontalBarImage === value) {\r\n            return;\r\n        }\r\n\r\n        this._horizontalBarImage = value;\r\n        const hb = <ImageScrollBar>this._horizontalBar;\r\n        hb.thumbImage = value;\r\n    }\r\n\r\n    /** Gets or sets the vertical bar image */\r\n    public get verticalThumbImage(): Image {\r\n        return this._verticalBarImage;\r\n    }\r\n\r\n    public set verticalThumbImage(value: Image) {\r\n        if (this._verticalBarImage === value) {\r\n            return;\r\n        }\r\n\r\n        this._verticalBarImage = value;\r\n        const vb = <ImageScrollBar>this._verticalBar;\r\n        vb.thumbImage = value;\r\n    }\r\n\r\n    /** Gets or sets the size of the bar */\r\n    @serialize()\r\n    public get barSize(): number {\r\n        return this._barSize;\r\n    }\r\n\r\n    public set barSize(value: number) {\r\n        if (this._barSize === value) {\r\n            return;\r\n        }\r\n\r\n        this._barSize = value;\r\n        this._markAsDirty();\r\n\r\n        if (this._horizontalBar.isVisible) {\r\n            this._grid.setRowDefinition(1, this._barSize, true);\r\n        }\r\n        if (this._verticalBar.isVisible) {\r\n            this._grid.setColumnDefinition(1, this._barSize, true);\r\n        }\r\n    }\r\n\r\n    /** Gets or sets the length of the thumb */\r\n    public get thumbLength(): number {\r\n        return this._thumbLength;\r\n    }\r\n\r\n    public set thumbLength(value: number) {\r\n        if (this._thumbLength === value) {\r\n            return;\r\n        }\r\n        if (value <= 0) {\r\n            value = 0.1;\r\n        }\r\n        if (value > 1) {\r\n            value = 1;\r\n        }\r\n        this._thumbLength = value;\r\n        const hb = <ImageScrollBar>this._horizontalBar;\r\n        const vb = <ImageScrollBar>this._verticalBar;\r\n        hb.thumbLength = value;\r\n        vb.thumbLength = value;\r\n        this._markAsDirty();\r\n    }\r\n\r\n    /** Gets or sets the height of the thumb */\r\n    public get thumbHeight(): number {\r\n        return this._thumbHeight;\r\n    }\r\n\r\n    public set thumbHeight(value: number) {\r\n        if (this._thumbHeight === value) {\r\n            return;\r\n        }\r\n        if (value <= 0) {\r\n            value = 0.1;\r\n        }\r\n        if (value > 1) {\r\n            value = 1;\r\n        }\r\n        this._thumbHeight = value;\r\n        const hb = <ImageScrollBar>this._horizontalBar;\r\n        const vb = <ImageScrollBar>this._verticalBar;\r\n        hb.thumbHeight = value;\r\n        vb.thumbHeight = value;\r\n        this._markAsDirty();\r\n    }\r\n\r\n    /** Gets or sets the height of the bar image */\r\n    public get barImageHeight(): number {\r\n        return this._barImageHeight;\r\n    }\r\n\r\n    public set barImageHeight(value: number) {\r\n        if (this._barImageHeight === value) {\r\n            return;\r\n        }\r\n        if (value <= 0) {\r\n            value = 0.1;\r\n        }\r\n        if (value > 1) {\r\n            value = 1;\r\n        }\r\n        this._barImageHeight = value;\r\n        const hb = <ImageScrollBar>this._horizontalBar;\r\n        const vb = <ImageScrollBar>this._verticalBar;\r\n        hb.barImageHeight = value;\r\n        vb.barImageHeight = value;\r\n        this._markAsDirty();\r\n    }\r\n\r\n    /** Gets or sets the height of the horizontal bar image */\r\n    public get horizontalBarImageHeight(): number {\r\n        return this._horizontalBarImageHeight;\r\n    }\r\n\r\n    public set horizontalBarImageHeight(value: number) {\r\n        if (this._horizontalBarImageHeight === value) {\r\n            return;\r\n        }\r\n        if (value <= 0) {\r\n            value = 0.1;\r\n        }\r\n        if (value > 1) {\r\n            value = 1;\r\n        }\r\n        this._horizontalBarImageHeight = value;\r\n        const hb = <ImageScrollBar>this._horizontalBar;\r\n        hb.barImageHeight = value;\r\n        this._markAsDirty();\r\n    }\r\n\r\n    /** Gets or sets the height of the vertical bar image */\r\n    public get verticalBarImageHeight(): number {\r\n        return this._verticalBarImageHeight;\r\n    }\r\n\r\n    public set verticalBarImageHeight(value: number) {\r\n        if (this._verticalBarImageHeight === value) {\r\n            return;\r\n        }\r\n        if (value <= 0) {\r\n            value = 0.1;\r\n        }\r\n        if (value > 1) {\r\n            value = 1;\r\n        }\r\n        this._verticalBarImageHeight = value;\r\n        const vb = <ImageScrollBar>this._verticalBar;\r\n        vb.barImageHeight = value;\r\n        this._markAsDirty();\r\n    }\r\n\r\n    /** Gets or sets the bar background */\r\n    @serialize()\r\n    public get barBackground(): string {\r\n        return this._barBackground;\r\n    }\r\n\r\n    public set barBackground(color: string) {\r\n        if (this._barBackground === color) {\r\n            return;\r\n        }\r\n\r\n        this._barBackground = color;\r\n        const hb = <ScrollBar>this._horizontalBar;\r\n        const vb = <ScrollBar>this._verticalBar;\r\n        hb.background = color;\r\n        vb.background = color;\r\n        this._dragSpace.background = color;\r\n    }\r\n\r\n    /** Gets or sets the bar background image */\r\n    public get barImage(): Image {\r\n        return this._barBackgroundImage;\r\n    }\r\n\r\n    public set barImage(value: Image) {\r\n        this._barBackgroundImage = value;\r\n        const hb = <ImageScrollBar>this._horizontalBar;\r\n        const vb = <ImageScrollBar>this._verticalBar;\r\n        hb.backgroundImage = value;\r\n        vb.backgroundImage = value;\r\n    }\r\n\r\n    /** Gets or sets the horizontal bar background image */\r\n    public get horizontalBarImage(): Image {\r\n        return this._horizontalBarBackgroundImage;\r\n    }\r\n\r\n    public set horizontalBarImage(value: Image) {\r\n        this._horizontalBarBackgroundImage = value;\r\n        const hb = <ImageScrollBar>this._horizontalBar;\r\n        hb.backgroundImage = value;\r\n    }\r\n\r\n    /** Gets or sets the vertical bar background image */\r\n    public get verticalBarImage(): Image {\r\n        return this._verticalBarBackgroundImage;\r\n    }\r\n\r\n    public set verticalBarImage(value: Image) {\r\n        this._verticalBarBackgroundImage = value;\r\n        const vb = <ImageScrollBar>this._verticalBar;\r\n        vb.backgroundImage = value;\r\n    }\r\n\r\n    private _setWindowPosition(force = true): void {\r\n        const ratio = this.host.idealRatio;\r\n        const windowContentsWidth = this._window._currentMeasure.width;\r\n        const windowContentsHeight = this._window._currentMeasure.height;\r\n\r\n        if (!force && this._oldWindowContentsWidth === windowContentsWidth && this._oldWindowContentsHeight === windowContentsHeight) {\r\n            return;\r\n        }\r\n\r\n        this._oldWindowContentsWidth = windowContentsWidth;\r\n        this._oldWindowContentsHeight = windowContentsHeight;\r\n\r\n        const _endLeft = this._clientWidth - windowContentsWidth;\r\n        const _endTop = this._clientHeight - windowContentsHeight;\r\n\r\n        const newLeft = (this._horizontalBar.value / ratio) * _endLeft + \"px\";\r\n        const newTop = (this._verticalBar.value / ratio) * _endTop + \"px\";\r\n\r\n        if (newLeft !== this._window.left) {\r\n            this._window.left = newLeft;\r\n            if (!this.freezeControls) {\r\n                this._rebuildLayout = true;\r\n            }\r\n        }\r\n\r\n        if (newTop !== this._window.top) {\r\n            this._window.top = newTop;\r\n            if (!this.freezeControls) {\r\n                this._rebuildLayout = true;\r\n            }\r\n        }\r\n    }\r\n\r\n    /** @internal */\r\n    private _updateScroller(): void {\r\n        const windowContentsWidth = this._window._currentMeasure.width;\r\n        const windowContentsHeight = this._window._currentMeasure.height;\r\n\r\n        if (this._horizontalBar.isVisible && windowContentsWidth <= this._clientWidth && !this.forceHorizontalBar) {\r\n            this._grid.setRowDefinition(1, 0, true);\r\n            this._horizontalBar.isVisible = false;\r\n            this._horizontalBar.value = 0;\r\n            this._rebuildLayout = true;\r\n        } else if (!this._horizontalBar.isVisible && (windowContentsWidth > this._clientWidth || this.forceHorizontalBar)) {\r\n            this._grid.setRowDefinition(1, this._barSize, true);\r\n            this._horizontalBar.isVisible = true;\r\n            this._rebuildLayout = true;\r\n        }\r\n\r\n        if (this._verticalBar.isVisible && windowContentsHeight <= this._clientHeight && !this.forceVerticalBar) {\r\n            this._grid.setColumnDefinition(1, 0, true);\r\n            this._verticalBar.isVisible = false;\r\n            this._verticalBar.value = 0;\r\n            this._rebuildLayout = true;\r\n        } else if (!this._verticalBar.isVisible && (windowContentsHeight > this._clientHeight || this.forceVerticalBar)) {\r\n            this._grid.setColumnDefinition(1, this._barSize, true);\r\n            this._verticalBar.isVisible = true;\r\n            this._rebuildLayout = true;\r\n        }\r\n\r\n        this._buildClientSizes();\r\n\r\n        const ratio = this.host.idealRatio;\r\n\r\n        this._horizontalBar.thumbWidth = this._thumbLength * 0.9 * (this._clientWidth / ratio) + \"px\";\r\n        this._verticalBar.thumbWidth = this._thumbLength * 0.9 * (this._clientHeight / ratio) + \"px\";\r\n    }\r\n\r\n    public override _link(host: AdvancedDynamicTexture): void {\r\n        super._link(host);\r\n\r\n        this._attachWheel();\r\n    }\r\n\r\n    /**\r\n     * @internal\r\n     */\r\n    private _addBar(barControl: ScrollBar | ImageScrollBar, barContainer: Rectangle, isVertical: boolean, rotation: number) {\r\n        barControl.paddingLeft = 0;\r\n        barControl.width = \"100%\";\r\n        barControl.height = \"100%\";\r\n        barControl.barOffset = 0;\r\n        barControl.value = 0;\r\n        barControl.maximum = 1;\r\n        barControl.horizontalAlignment = Control.HORIZONTAL_ALIGNMENT_CENTER;\r\n        barControl.verticalAlignment = Control.VERTICAL_ALIGNMENT_CENTER;\r\n        barControl.isVertical = isVertical;\r\n        barControl.rotation = rotation;\r\n        barControl.isVisible = false;\r\n\r\n        barContainer.addControl(barControl);\r\n\r\n        barControl.onValueChangedObservable.add(() => {\r\n            this._setWindowPosition();\r\n        });\r\n    }\r\n\r\n    /** @internal */\r\n    private _attachWheel() {\r\n        if (!this._host || this._onWheelObserver) {\r\n            return;\r\n        }\r\n\r\n        this._onWheelObserver = this.onWheelObservable.add((pi) => {\r\n            if (!this._pointerIsOver || this.isReadOnly) {\r\n                return;\r\n            }\r\n            if (this._verticalBar.isVisible == true) {\r\n                if (pi.y < 0 && this._verticalBar.value > 0) {\r\n                    this._verticalBar.value -= this._wheelPrecision;\r\n                } else if (pi.y > 0 && this._verticalBar.value < this._verticalBar.maximum) {\r\n                    this._verticalBar.value += this._wheelPrecision;\r\n                }\r\n            }\r\n            if (this._horizontalBar.isVisible == true) {\r\n                if (pi.x < 0 && this._horizontalBar.value < this._horizontalBar.maximum) {\r\n                    this._horizontalBar.value += this._wheelPrecision;\r\n                } else if (pi.x > 0 && this._horizontalBar.value > 0) {\r\n                    this._horizontalBar.value -= this._wheelPrecision;\r\n                }\r\n            }\r\n        });\r\n    }\r\n\r\n    public override _renderHighlightSpecific(context: ICanvasRenderingContext): void {\r\n        if (!this.isHighlighted) {\r\n            return;\r\n        }\r\n\r\n        super._renderHighlightSpecific(context);\r\n\r\n        this._grid._renderHighlightSpecific(context);\r\n\r\n        context.restore();\r\n    }\r\n\r\n    /** Releases associated resources */\r\n    public override dispose() {\r\n        this.onWheelObservable.remove(this._onWheelObserver);\r\n        this._onWheelObserver = null;\r\n        super.dispose();\r\n    }\r\n}\r\nRegisterClass(\"BABYLON.GUI.ScrollViewer\", ScrollViewer);\r\n","import { Observable } from \"core/Misc/observable\";\r\nimport type { Vector2 } from \"core/Maths/math.vector\";\r\n\r\nimport { Control } from \"./control\";\r\nimport { StackPanel } from \"./stackPanel\";\r\nimport { TextBlock } from \"./textBlock\";\r\nimport { RegisterClass } from \"core/Misc/typeStore\";\r\nimport type { PointerInfoBase } from \"core/Events/pointerEvents\";\r\nimport { serialize } from \"core/Misc/decorators\";\r\nimport type { ICanvasRenderingContext } from \"core/Engines/ICanvas\";\r\n\r\n/**\r\n * Class used to create radio button controls\r\n */\r\nexport class RadioButton extends Control {\r\n    private _isChecked = false;\r\n    private _background = \"black\";\r\n    private _checkSizeRatio = 0.8;\r\n    private _thickness = 1;\r\n\r\n    /** Gets or sets border thickness */\r\n    @serialize()\r\n    public get thickness(): number {\r\n        return this._thickness;\r\n    }\r\n\r\n    public set thickness(value: number) {\r\n        if (this._thickness === value) {\r\n            return;\r\n        }\r\n\r\n        this._thickness = value;\r\n        this._markAsDirty();\r\n    }\r\n\r\n    /** Gets or sets group name */\r\n    @serialize()\r\n    public group = \"\";\r\n\r\n    /** Observable raised when isChecked is changed */\r\n    public onIsCheckedChangedObservable = new Observable<boolean>();\r\n\r\n    /** Gets or sets a value indicating the ratio between overall size and check size */\r\n    @serialize()\r\n    public get checkSizeRatio(): number {\r\n        return this._checkSizeRatio;\r\n    }\r\n\r\n    public set checkSizeRatio(value: number) {\r\n        value = Math.max(Math.min(1, value), 0);\r\n\r\n        if (this._checkSizeRatio === value) {\r\n            return;\r\n        }\r\n\r\n        this._checkSizeRatio = value;\r\n        this._markAsDirty();\r\n    }\r\n\r\n    /** Gets or sets background color */\r\n    @serialize()\r\n    public get background(): string {\r\n        return this._background;\r\n    }\r\n\r\n    public set background(value: string) {\r\n        if (this._background === value) {\r\n            return;\r\n        }\r\n\r\n        this._background = value;\r\n        this._markAsDirty();\r\n    }\r\n\r\n    /** Gets or sets a boolean indicating if the checkbox is checked or not */\r\n    @serialize()\r\n    public get isChecked(): boolean {\r\n        return this._isChecked;\r\n    }\r\n\r\n    public set isChecked(value: boolean) {\r\n        if (this._isChecked === value) {\r\n            return;\r\n        }\r\n\r\n        this._isChecked = value;\r\n        this._markAsDirty();\r\n\r\n        this.onIsCheckedChangedObservable.notifyObservers(value);\r\n\r\n        if (this._isChecked && this._host) {\r\n            // Update all controls from same group\r\n            this._host.executeOnAllControls((control) => {\r\n                if (control === this) {\r\n                    return;\r\n                }\r\n\r\n                if ((<any>control).group === undefined) {\r\n                    return;\r\n                }\r\n                const childRadio = <RadioButton>control;\r\n                if (childRadio.group === this.group) {\r\n                    childRadio.isChecked = false;\r\n                }\r\n            });\r\n        }\r\n    }\r\n\r\n    /**\r\n     * Creates a new RadioButton\r\n     * @param name defines the control name\r\n     */\r\n    constructor(public override name?: string) {\r\n        super(name);\r\n\r\n        this.isPointerBlocker = true;\r\n    }\r\n\r\n    protected override _getTypeName(): string {\r\n        return \"RadioButton\";\r\n    }\r\n\r\n    public override _draw(context: ICanvasRenderingContext): void {\r\n        context.save();\r\n\r\n        this._applyStates(context);\r\n        const actualWidth = this._currentMeasure.width - this._thickness;\r\n        const actualHeight = this._currentMeasure.height - this._thickness;\r\n\r\n        if (this.shadowBlur || this.shadowOffsetX || this.shadowOffsetY) {\r\n            context.shadowColor = this.shadowColor;\r\n            context.shadowBlur = this.shadowBlur;\r\n            context.shadowOffsetX = this.shadowOffsetX * this._host.idealRatio;\r\n            context.shadowOffsetY = this.shadowOffsetY * this._host.idealRatio;\r\n        }\r\n\r\n        // Outer\r\n        Control.drawEllipse(\r\n            this._currentMeasure.left + this._currentMeasure.width / 2,\r\n            this._currentMeasure.top + this._currentMeasure.height / 2,\r\n            this._currentMeasure.width / 2 - this._thickness / 2,\r\n            this._currentMeasure.height / 2 - this._thickness / 2,\r\n            1,\r\n            context\r\n        );\r\n\r\n        context.fillStyle = this._isEnabled ? this._background : this._disabledColor;\r\n        context.fill();\r\n\r\n        if (this.shadowBlur || this.shadowOffsetX || this.shadowOffsetY) {\r\n            context.shadowBlur = 0;\r\n            context.shadowOffsetX = 0;\r\n            context.shadowOffsetY = 0;\r\n        }\r\n\r\n        context.strokeStyle = this.color;\r\n        context.lineWidth = this._thickness;\r\n\r\n        context.stroke();\r\n\r\n        // Inner\r\n        if (this._isChecked) {\r\n            context.fillStyle = this._isEnabled ? this.color : this._disabledColor;\r\n            const offsetWidth = actualWidth * this._checkSizeRatio;\r\n            const offseHeight = actualHeight * this._checkSizeRatio;\r\n\r\n            Control.drawEllipse(\r\n                this._currentMeasure.left + this._currentMeasure.width / 2,\r\n                this._currentMeasure.top + this._currentMeasure.height / 2,\r\n                offsetWidth / 2 - this._thickness / 2,\r\n                offseHeight / 2 - this._thickness / 2,\r\n                1,\r\n                context\r\n            );\r\n\r\n            context.fill();\r\n        }\r\n        context.restore();\r\n    }\r\n\r\n    // Events\r\n    public override _onPointerDown(target: Control, coordinates: Vector2, pointerId: number, buttonIndex: number, pi: PointerInfoBase): boolean {\r\n        if (!super._onPointerDown(target, coordinates, pointerId, buttonIndex, pi)) {\r\n            return false;\r\n        }\r\n\r\n        if (this.isReadOnly) {\r\n            return true;\r\n        }\r\n\r\n        if (!this.isChecked) {\r\n            this.isChecked = true;\r\n        }\r\n\r\n        return true;\r\n    }\r\n\r\n    /**\r\n     * Utility function to easily create a radio button with a header\r\n     * @param title defines the label to use for the header\r\n     * @param group defines the group to use for the radio button\r\n     * @param isChecked defines the initial state of the radio button\r\n     * @param onValueChanged defines the callback to call when value changes\r\n     * @returns a StackPanel containing the radio button and a textBlock\r\n     */\r\n    public static AddRadioButtonWithHeader(title: string, group: string, isChecked: boolean, onValueChanged: (button: RadioButton, value: boolean) => void): StackPanel {\r\n        const panel = new StackPanel();\r\n        panel.isVertical = false;\r\n        panel.height = \"30px\";\r\n\r\n        const radio = new RadioButton();\r\n        radio.width = \"20px\";\r\n        radio.height = \"20px\";\r\n        radio.isChecked = isChecked;\r\n        radio.color = \"green\";\r\n        radio.group = group;\r\n        radio.onIsCheckedChangedObservable.add((value) => onValueChanged(radio, value));\r\n        panel.addControl(radio);\r\n\r\n        const header = new TextBlock();\r\n        header.text = title;\r\n        header.width = \"180px\";\r\n        header.paddingLeft = \"5px\";\r\n        header.textHorizontalAlignment = Control.HORIZONTAL_ALIGNMENT_LEFT;\r\n        header.color = \"white\";\r\n        panel.addControl(header);\r\n\r\n        return panel;\r\n    }\r\n}\r\nRegisterClass(\"BABYLON.GUI.RadioButton\", RadioButton);\r\n","import { BaseSlider } from \"./baseSlider\";\r\nimport { Measure } from \"../../measure\";\r\nimport { Image } from \"../image\";\r\nimport { RegisterClass } from \"core/Misc/typeStore\";\r\nimport { serialize } from \"core/Misc/decorators\";\r\nimport type { ICanvasRenderingContext } from \"core/Engines/ICanvas\";\r\nimport type { AdvancedDynamicTexture } from \"../../advancedDynamicTexture\";\r\n\r\n/**\r\n * Class used to create slider controls based on images\r\n */\r\nexport class ImageBasedSlider extends BaseSlider {\r\n    private _backgroundImage: Image;\r\n    private _thumbImage: Image;\r\n    private _valueBarImage: Image;\r\n    private _tempMeasure = new Measure(0, 0, 0, 0);\r\n\r\n    @serialize()\r\n    public override get displayThumb(): boolean {\r\n        return this._displayThumb && this.thumbImage != null;\r\n    }\r\n\r\n    public override set displayThumb(value: boolean) {\r\n        if (this._displayThumb === value) {\r\n            return;\r\n        }\r\n\r\n        this._displayThumb = value;\r\n        this._markAsDirty();\r\n    }\r\n\r\n    /**\r\n     * Gets or sets the image used to render the background\r\n     */\r\n    public get backgroundImage(): Image {\r\n        return this._backgroundImage;\r\n    }\r\n\r\n    public set backgroundImage(value: Image) {\r\n        if (this._backgroundImage === value) {\r\n            return;\r\n        }\r\n\r\n        this._backgroundImage = value;\r\n\r\n        if (value && !value.isLoaded) {\r\n            value.onImageLoadedObservable.addOnce(() => this._markAsDirty());\r\n        }\r\n\r\n        this._markAsDirty();\r\n    }\r\n\r\n    /**\r\n     * Gets or sets the image used to render the value bar\r\n     */\r\n    public get valueBarImage(): Image {\r\n        return this._valueBarImage;\r\n    }\r\n\r\n    public set valueBarImage(value: Image) {\r\n        if (this._valueBarImage === value) {\r\n            return;\r\n        }\r\n\r\n        this._valueBarImage = value;\r\n\r\n        if (value && !value.isLoaded) {\r\n            value.onImageLoadedObservable.addOnce(() => this._markAsDirty());\r\n        }\r\n\r\n        this._markAsDirty();\r\n    }\r\n\r\n    /**\r\n     * Gets or sets the image used to render the thumb\r\n     */\r\n    public get thumbImage(): Image {\r\n        return this._thumbImage;\r\n    }\r\n\r\n    public set thumbImage(value: Image) {\r\n        if (this._thumbImage === value) {\r\n            return;\r\n        }\r\n\r\n        this._thumbImage = value;\r\n\r\n        if (value && !value.isLoaded) {\r\n            value.onImageLoadedObservable.addOnce(() => this._markAsDirty());\r\n        }\r\n\r\n        this._markAsDirty();\r\n    }\r\n\r\n    /**\r\n     * Creates a new ImageBasedSlider\r\n     * @param name defines the control name\r\n     */\r\n    constructor(public override name?: string) {\r\n        super(name);\r\n    }\r\n\r\n    protected override _getTypeName(): string {\r\n        return \"ImageBasedSlider\";\r\n    }\r\n\r\n    public override _draw(context: ICanvasRenderingContext): void {\r\n        context.save();\r\n\r\n        this._applyStates(context);\r\n\r\n        this._prepareRenderingData(\"rectangle\");\r\n        const thumbPosition = this._getThumbPosition();\r\n        const left = this._renderLeft;\r\n        const top = this._renderTop;\r\n        const width = this._renderWidth;\r\n        const height = this._renderHeight;\r\n\r\n        // Background\r\n        if (this._backgroundImage) {\r\n            this._tempMeasure.copyFromFloats(left, top, width, height);\r\n            if (this.isThumbClamped && this.displayThumb) {\r\n                if (this.isVertical) {\r\n                    this._tempMeasure.height += this._effectiveThumbThickness;\r\n                } else {\r\n                    this._tempMeasure.width += this._effectiveThumbThickness;\r\n                }\r\n            }\r\n            this._backgroundImage._currentMeasure.copyFrom(this._tempMeasure);\r\n            this._backgroundImage._draw(context);\r\n        }\r\n\r\n        // Bar\r\n        if (this._valueBarImage) {\r\n            if (this.isVertical) {\r\n                if (this.isThumbClamped && this.displayThumb) {\r\n                    this._tempMeasure.copyFromFloats(left, top + thumbPosition, width, height - thumbPosition + this._effectiveThumbThickness);\r\n                } else {\r\n                    this._tempMeasure.copyFromFloats(left, top + thumbPosition, width, height - thumbPosition);\r\n                }\r\n            } else {\r\n                if (this.isThumbClamped && this.displayThumb) {\r\n                    this._tempMeasure.copyFromFloats(left, top, thumbPosition + this._effectiveThumbThickness / 2, height);\r\n                } else {\r\n                    this._tempMeasure.copyFromFloats(left, top, thumbPosition, height);\r\n                }\r\n            }\r\n            this._valueBarImage._currentMeasure.copyFrom(this._tempMeasure);\r\n            this._valueBarImage._draw(context);\r\n        }\r\n\r\n        // Thumb\r\n        if (this.displayThumb) {\r\n            if (this.isVertical) {\r\n                this._tempMeasure.copyFromFloats(\r\n                    left - this._effectiveBarOffset,\r\n                    this._currentMeasure.top + thumbPosition,\r\n                    this._currentMeasure.width,\r\n                    this._effectiveThumbThickness\r\n                );\r\n            } else {\r\n                this._tempMeasure.copyFromFloats(this._currentMeasure.left + thumbPosition, this._currentMeasure.top, this._effectiveThumbThickness, this._currentMeasure.height);\r\n            }\r\n\r\n            this._thumbImage._currentMeasure.copyFrom(this._tempMeasure);\r\n            this._thumbImage._draw(context);\r\n        }\r\n\r\n        context.restore();\r\n    }\r\n\r\n    /**\r\n     * Serializes the current control\r\n     * @param serializationObject defined the JSON serialized object\r\n     */\r\n    public override serialize(serializationObject: any) {\r\n        super.serialize(serializationObject);\r\n        const backgroundImage = {};\r\n        const thumbImage = {};\r\n        const valueBarImage = {};\r\n        this.backgroundImage.serialize(backgroundImage);\r\n        this.thumbImage.serialize(thumbImage);\r\n        this.valueBarImage.serialize(valueBarImage);\r\n        serializationObject.backgroundImage = backgroundImage;\r\n        serializationObject.thumbImage = thumbImage;\r\n        serializationObject.valueBarImage = valueBarImage;\r\n    }\r\n\r\n    /**\r\n     * @internal\r\n     */\r\n    public override _parseFromContent(serializedObject: any, host: AdvancedDynamicTexture) {\r\n        super._parseFromContent(serializedObject, host);\r\n        this.backgroundImage = Image.Parse(serializedObject.backgroundImage, host) as Image;\r\n        this.thumbImage = Image.Parse(serializedObject.thumbImage, host) as Image;\r\n        this.valueBarImage = Image.Parse(serializedObject.valueBarImage, host) as Image;\r\n    }\r\n}\r\nRegisterClass(\"BABYLON.GUI.ImageBasedSlider\", ImageBasedSlider);\r\n","import { Button } from \"gui/2D/controls/button\";\r\nimport { Checkbox } from \"gui/2D/controls/checkbox\";\r\nimport { ColorPicker } from \"gui/2D/controls/colorpicker\";\r\nimport { Ellipse } from \"gui/2D/controls/ellipse\";\r\nimport { Line } from \"gui/2D/controls/line\";\r\nimport { Rectangle } from \"gui/2D/controls/rectangle\";\r\nimport { Slider } from \"gui/2D/controls/sliders/slider\";\r\nimport { TextBlock } from \"gui/2D/controls/textBlock\";\r\nimport { VirtualKeyboard } from \"gui/2D/controls/virtualKeyboard\";\r\nimport { Image } from \"gui/2D/controls/image\";\r\nimport { InputText } from \"gui/2D/controls/inputText\";\r\nimport { InputPassword } from \"gui/2D/controls/inputPassword\";\r\nimport { Grid } from \"gui/2D/controls/grid\";\r\nimport { DisplayGrid } from \"gui/2D/controls/displayGrid\";\r\nimport { StackPanel } from \"gui/2D/controls/stackPanel\";\r\nimport { ScrollViewer } from \"gui/2D/controls/scrollViewers/scrollViewer\";\r\nimport { RadioButton } from \"gui/2D/controls/radioButton\";\r\nimport { ImageBasedSlider } from \"gui/2D/controls/sliders/imageBasedSlider\";\r\n\r\nexport class GUINodeTools {\r\n    public static ImageControlDefaultUrl = \"https://assets.babylonjs.com/textures/Checker_albedo.png\";\r\n\r\n    public static CreateControlFromString(data: string) {\r\n        let element;\r\n        switch (data) {\r\n            case \"Slider\":\r\n                element = new Slider(\"Slider\");\r\n                element.isPointerBlocker = true;\r\n                element.width = \"120px\";\r\n                element.height = \"30px\";\r\n                return element;\r\n            case \"Checkbox\":\r\n                element = new Checkbox(\"Checkbox\");\r\n                element.width = \"20px\";\r\n                element.height = \"20px\";\r\n                element.color = \"#cccccc\";\r\n                return element;\r\n            case \"ColorPicker\":\r\n                element = new ColorPicker(\"ColorPicker\");\r\n                element.isPointerBlocker = true;\r\n                element.width = \"10%\";\r\n                element.height = \"10%\";\r\n                return element;\r\n            case \"Ellipse\":\r\n                element = new Ellipse(\"Ellipse\");\r\n                element.color = \"#000000\";\r\n                element.background = \"#cccccc\";\r\n                element.isPointerBlocker = true;\r\n                element.thickness = 1;\r\n                return element;\r\n            case \"Rectangle\":\r\n                element = new Rectangle(\"Rectangle\");\r\n                element.color = \"#000000\";\r\n                element.background = \"#cccccc\";\r\n                element.isPointerBlocker = true;\r\n                element.thickness = 1;\r\n                return element;\r\n            case \"Line\":\r\n                element = new Line(\"Line\");\r\n                element.x1 = 0;\r\n                element.y1 = 1024;\r\n                element.y2 = 512;\r\n                element.x2 = 512;\r\n                element.lineWidth = 2;\r\n                element.isPointerBlocker = true;\r\n                element.isHitTestVisible = true;\r\n                element.color = \"#000000\";\r\n                return element;\r\n            case \"TextBlock\":\r\n                element = new TextBlock(\"Textblock\");\r\n                element.text = \"Lorem ipsum dolor sit amet, consectetur adipiscing elit. Nam sed.\";\r\n                element.color = \"#000000\";\r\n                element.fontSize = 20;\r\n                element.resizeToFit = true;\r\n                element.isPointerBlocker = true;\r\n                return element;\r\n            case \"ImageButton\":\r\n                element = Button.CreateImageButton(\"Button\", \"Click Me\", GUINodeTools.ImageControlDefaultUrl);\r\n                element.background = \"#333333\";\r\n                element.color = \"#ffffff\";\r\n                element.isPointerBlocker = true;\r\n                element.width = \"120px\";\r\n                element.height = \"40px\";\r\n                return element;\r\n            case \"VirtualKeyboard\":\r\n                element = VirtualKeyboard.CreateDefaultLayout(\"VirtualKeyboard\");\r\n                element.addKeysRow([\"1\", \"2\", \"3\", \"\\u2190\"]);\r\n                return element;\r\n            case \"Image\":\r\n                element = new Image(\"Image\", GUINodeTools.ImageControlDefaultUrl);\r\n                element.width = \"512px\";\r\n                element.height = \"512px\";\r\n                element.autoScale = true;\r\n                element.color = \"transparent\";\r\n                element.isPointerBlocker = true;\r\n                return element;\r\n            case \"ButtonImage\":\r\n                element = new Image(\"Image\", GUINodeTools.ImageControlDefaultUrl);\r\n                element.width = \"100%\";\r\n                element.height = \"100%\";\r\n                element.color = \"transparent\";\r\n                element.isPointerBlocker = true;\r\n                return element;\r\n            case \"InputText\":\r\n                element = new InputText(\"InputText\");\r\n                element.maxWidth = 0.6;\r\n                element.text = \"Input Text\";\r\n                element.background = \"#333333\";\r\n                element.color = \"#ffffff\";\r\n                element.isPointerBlocker = true;\r\n                element.width = \"160px\";\r\n                element.height = \"40px\";\r\n                return element;\r\n            case \"InputPassword\":\r\n                element = new InputPassword(\"InputPassword\");\r\n                element.maxWidth = 0.6;\r\n                element.text = \"Password\";\r\n                element.background = \"#333333\";\r\n                element.color = \"#ffffff\";\r\n                element.isPointerBlocker = true;\r\n                element.width = \"160px\";\r\n                element.height = \"40px\";\r\n                return element;\r\n            case \"Grid\":\r\n                element = new Grid(\"Grid\");\r\n                element.addColumnDefinition(1.0, false);\r\n                element.addRowDefinition(1.0, false);\r\n                element.isPointerBlocker = true;\r\n                return element;\r\n            case \"DisplayGrid\":\r\n                element = new DisplayGrid(\"DisplayGrid\");\r\n                return element;\r\n            case \"StackPanel\":\r\n                element = new StackPanel(\"StackPanel\");\r\n                element.width = \"100%\";\r\n                element.height = \"100%\";\r\n                return element;\r\n            case \"ScrollViewer\":\r\n                element = new ScrollViewer(\"ScrollViewer\");\r\n                element.width = 0.4;\r\n                element.height = 0.4;\r\n                element.background = \"#CCCCCC\";\r\n                return element;\r\n            case \"ImageBasedSlider\":\r\n                element = new ImageBasedSlider(\"ImageBasedSlider\");\r\n                element.isPointerBlocker = true;\r\n                element.width = \"120px\";\r\n                element.height = \"30px\";\r\n                element.isThumbClamped = true;\r\n                element.displayThumb = true;\r\n                element.backgroundImage = new Image(\"Image\", \"https://playground.babylonjs.com/textures/gui/backgroundImage.png\");\r\n                element.valueBarImage = new Image(\"Image\", \"https://playground.babylonjs.com/textures/gui/valueImage.png\");\r\n                element.thumbImage = new Image(\"Image\", \"https://playground.babylonjs.com/textures/gui/thumb.png\");\r\n                return element;\r\n            case \"RadioButton\":\r\n                element = new RadioButton(\"RadioButton\");\r\n                element.isPointerBlocker = true;\r\n                element.width = \"20px\";\r\n                element.height = \"20px\";\r\n                element.color = \"#CCCCCC\";\r\n                element.background = \"#333333\";\r\n                return element;\r\n            case \"Button\":\r\n                element = Button.CreateSimpleButton(\"Button\", \"Click Me\");\r\n                element.background = \"#333333\";\r\n                element.color = \"#ffffff\";\r\n                element.isPointerBlocker = true;\r\n                element.width = \"120px\";\r\n                element.height = \"40px\";\r\n                return element;\r\n            default:\r\n                // eslint-disable-next-line no-throw-literal\r\n                throw \"Error: control type not recognized\";\r\n        }\r\n    }\r\n}\r\n","\n      import API from \"!../../../../../../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js\";\n      import domAPI from \"!../../../../../../node_modules/style-loader/dist/runtime/styleDomAPI.js\";\n      import insertFn from \"!../../../../../../node_modules/style-loader/dist/runtime/insertBySelector.js\";\n      import setAttributes from \"!../../../../../../node_modules/style-loader/dist/runtime/setAttributesWithoutAttributes.js\";\n      import insertStyleElement from \"!../../../../../../node_modules/style-loader/dist/runtime/insertStyleElement.js\";\n      import styleTagTransformFn from \"!../../../../../../node_modules/style-loader/dist/runtime/styleTagTransform.js\";\n      import content, * as namedExport from \"!!../../../../../../node_modules/css-loader/dist/cjs.js??ruleSet[1].rules[2].use[1]!../../../../../../node_modules/sass-loader/dist/cjs.js??ruleSet[1].rules[2].use[2]!./propertyTab.scss\";\n      \n      \n\nvar options = {};\n\noptions.styleTagTransform = styleTagTransformFn;\noptions.setAttributes = setAttributes;\n\n      options.insert = insertFn.bind(null, \"head\");\n    \noptions.domAPI = domAPI;\noptions.insertStyleElement = insertStyleElement;\n\nvar update = API(content, options);\n\n\n\nexport * from \"!!../../../../../../node_modules/css-loader/dist/cjs.js??ruleSet[1].rules[2].use[1]!../../../../../../node_modules/sass-loader/dist/cjs.js??ruleSet[1].rules[2].use[2]!./propertyTab.scss\";\n       export default content && content.locals ? content.locals : undefined;\n","import rectangleIcon from \"./imgs/rectangleIcon.svg\";\r\nimport ellipseIcon from \"./imgs/ellipseIcon.svg\";\r\nimport gridIcon from \"./imgs/gridIcon.svg\";\r\nimport stackPanelIcon from \"./imgs/stackPanelIcon.svg\";\r\nimport textBoxIcon from \"./imgs/textBoxIcon.svg\";\r\nimport sliderIcon from \"./imgs/sliderIcon.svg\";\r\nimport imageBasedSliderIcon from \"./imgs/imageSliderIcon.svg\";\r\nimport buttonIcon from \"./imgs/buttonIcon.svg\";\r\nimport passwordFieldIcon from \"./imgs/passwordFieldIcon.svg\";\r\nimport checkboxIcon from \"./imgs/checkboxIcon.svg\";\r\nimport imageIcon from \"./imgs/imageIcon.svg\";\r\nimport keyboardIcon from \"./imgs/keyboardIcon.svg\";\r\nimport inputFieldIcon from \"./imgs/inputFieldIcon.svg\";\r\nimport lineIcon from \"./imgs/lineIcon.svg\";\r\nimport displaygridIcon from \"./imgs/displaygridIcon.svg\";\r\nimport colorPickerIcon from \"./imgs/colorPickerIcon.svg\";\r\nimport scrollbarIcon from \"./imgs/scrollbarIcon.svg\";\r\nimport radioButtonIcon from \"./imgs/radioButtonIcon.svg\";\r\n\r\nexport const ControlTypes = [\r\n    {\r\n        className: \"Rectangle\",\r\n        icon: rectangleIcon,\r\n    },\r\n    {\r\n        className: \"Ellipse\",\r\n        icon: ellipseIcon,\r\n    },\r\n    {\r\n        className: \"StackPanel\",\r\n        icon: stackPanelIcon,\r\n    },\r\n    {\r\n        className: \"Grid\",\r\n        icon: gridIcon,\r\n    },\r\n    {\r\n        className: \"ScrollViewer\",\r\n        icon: scrollbarIcon,\r\n    },\r\n    {\r\n        className: \"Line\",\r\n        icon: lineIcon,\r\n    },\r\n    {\r\n        className: \"TextBlock\",\r\n        icon: textBoxIcon,\r\n    },\r\n    {\r\n        className: \"InputText\",\r\n        icon: inputFieldIcon,\r\n    },\r\n    {\r\n        className: \"InputPassword\",\r\n        icon: passwordFieldIcon,\r\n    },\r\n    {\r\n        className: \"Image\",\r\n        icon: imageIcon,\r\n    },\r\n    {\r\n        className: \"DisplayGrid\",\r\n        icon: displaygridIcon,\r\n    },\r\n    {\r\n        className: \"Button\",\r\n        icon: buttonIcon,\r\n    },\r\n    {\r\n        className: \"Checkbox\",\r\n        icon: checkboxIcon,\r\n    },\r\n    {\r\n        className: \"RadioButton\",\r\n        icon: radioButtonIcon,\r\n    },\r\n    {\r\n        className: \"Slider\",\r\n        icon: sliderIcon,\r\n    },\r\n    {\r\n        className: \"ImageBasedSlider\",\r\n        icon: imageBasedSliderIcon,\r\n    },\r\n    {\r\n        className: \"VirtualKeyboard\",\r\n        icon: keyboardIcon,\r\n    },\r\n    {\r\n        className: \"ColorPicker\",\r\n        icon: colorPickerIcon,\r\n    },\r\n];\r\n","import * as React from \"react\";\r\nimport type { GlobalState } from \"../../globalState\";\r\nimport type { Nullable } from \"core/types\";\r\nimport { Tools } from \"core/Misc/tools\";\r\nimport type { Observer } from \"core/Misc/observable\";\r\nimport { StringTools } from \"shared-ui-components/stringTools\";\r\nimport { LockObject } from \"shared-ui-components/tabs/propertyGrids/lockObject\";\r\nimport { SliderGenericPropertyGridComponent } from \"./propertyGrids/gui/sliderGenericPropertyGridComponent\";\r\nimport type { Slider } from \"gui/2D/controls/sliders/slider\";\r\nimport { LinePropertyGridComponent } from \"./propertyGrids/gui/linePropertyGridComponent\";\r\nimport { RadioButtonPropertyGridComponent } from \"./propertyGrids/gui/radioButtonPropertyGridComponent\";\r\nimport type { TextBlock } from \"gui/2D/controls/textBlock\";\r\nimport type { InputText } from \"gui/2D/controls/inputText\";\r\nimport type { ColorPicker } from \"gui/2D/controls/colorpicker\";\r\nimport type { Image } from \"gui/2D/controls/image\";\r\nimport type { ImageBasedSlider } from \"gui/2D/controls/sliders/imageBasedSlider\";\r\nimport type { Rectangle } from \"gui/2D/controls/rectangle\";\r\nimport type { Ellipse } from \"gui/2D/controls/ellipse\";\r\nimport type { Checkbox } from \"gui/2D/controls/checkbox\";\r\nimport type { RadioButton } from \"gui/2D/controls/radioButton\";\r\nimport type { Line } from \"gui/2D/controls/line\";\r\nimport type { ScrollViewer } from \"gui/2D/controls/scrollViewers/scrollViewer\";\r\nimport type { Grid } from \"gui/2D/controls/grid\";\r\nimport type { StackPanel } from \"gui/2D/controls/stackPanel\";\r\nimport { TextBlockPropertyGridComponent } from \"./propertyGrids/gui/textBlockPropertyGridComponent\";\r\nimport { InputTextPropertyGridComponent } from \"./propertyGrids/gui/inputTextPropertyGridComponent\";\r\nimport { ColorPickerPropertyGridComponent } from \"./propertyGrids/gui/colorPickerPropertyGridComponent\";\r\nimport { ImagePropertyGridComponent } from \"./propertyGrids/gui/imagePropertyGridComponent\";\r\nimport { ImageBasedSliderPropertyGridComponent } from \"./propertyGrids/gui/imageBasedSliderPropertyGridComponent\";\r\nimport { RectanglePropertyGridComponent } from \"./propertyGrids/gui/rectanglePropertyGridComponent\";\r\nimport { StackPanelPropertyGridComponent } from \"./propertyGrids/gui/stackPanelPropertyGridComponent\";\r\nimport { GridPropertyGridComponent } from \"./propertyGrids/gui/gridPropertyGridComponent\";\r\nimport { ScrollViewerPropertyGridComponent } from \"./propertyGrids/gui/scrollViewerPropertyGridComponent\";\r\nimport { EllipsePropertyGridComponent } from \"./propertyGrids/gui/ellipsePropertyGridComponent\";\r\nimport { CheckboxPropertyGridComponent } from \"./propertyGrids/gui/checkboxPropertyGridComponent\";\r\nimport type { Control } from \"gui/2D/controls/control\";\r\nimport { ControlPropertyGridComponent } from \"./propertyGrids/gui/controlPropertyGridComponent\";\r\nimport { AdvancedDynamicTexture } from \"gui/2D/advancedDynamicTexture\";\r\n\r\nimport { TextInputLineComponent } from \"shared-ui-components/lines/textInputLineComponent\";\r\nimport { ParentingPropertyGridComponent } from \"../parentingPropertyGridComponent\";\r\nimport { DisplayGridPropertyGridComponent } from \"./propertyGrids/gui/displayGridPropertyGridComponent\";\r\nimport type { DisplayGrid } from \"gui/2D/controls/displayGrid\";\r\nimport type { Button } from \"gui/2D/controls/button\";\r\nimport { ButtonPropertyGridComponent } from \"./propertyGrids/gui/buttonPropertyGridComponent\";\r\nimport { GUINodeTools } from \"../../guiNodeTools\";\r\nimport { makeTargetsProxy } from \"shared-ui-components/lines/targetsProxy\";\r\n\r\nimport \"./propertyTab.scss\";\r\nimport adtIcon from \"../../imgs/adtIcon.svg\";\r\nimport { ControlTypes } from \"../../controlTypes\";\r\nimport { EncodeArrayBufferToBase64 } from \"core/Misc/stringTools\";\r\n\r\ninterface IPropertyTabComponentProps {\r\n    globalState: GlobalState;\r\n}\r\n\r\nexport class PropertyTabComponent extends React.Component<IPropertyTabComponentProps> {\r\n    private _onBuiltObserver: Nullable<Observer<void>>;\r\n    private _timerIntervalId: number;\r\n    private _lockObject: LockObject;\r\n\r\n    constructor(props: IPropertyTabComponentProps) {\r\n        super(props);\r\n\r\n        this._lockObject = new LockObject();\r\n        this.props.globalState.lockObject = this._lockObject;\r\n        this.props.globalState.onSaveObservable.add(() => {\r\n            this.save(this.saveLocally);\r\n        });\r\n        this.props.globalState.onSaveSelectedControl.add(() => {\r\n            this.save(this.saveSelectedControlLocally);\r\n        });\r\n        this.props.globalState.onSnippetSaveObservable.add(() => {\r\n            // eslint-disable-next-line @typescript-eslint/no-misused-promises\r\n            this.save(this.saveToSnippetServer);\r\n        });\r\n        this.props.globalState.onSnippetLoadObservable.add(() => {\r\n            this.loadFromSnippet();\r\n        });\r\n\r\n        this.props.globalState.onPropertyGridUpdateRequiredObservable.add(() => {\r\n            this.forceUpdate();\r\n        });\r\n\r\n        this.props.globalState.onLoadObservable.add((file) => this.load(file));\r\n\r\n        this.props.globalState.onControlLoadObservable.add((file) => this.loadControl(file));\r\n    }\r\n\r\n    override componentDidMount() {\r\n        this.props.globalState.onSelectionChangedObservable.add(() => {\r\n            this.forceUpdate();\r\n        });\r\n        this.props.globalState.onResizeObservable.add(() => {\r\n            this.forceUpdate();\r\n        });\r\n\r\n        this._onBuiltObserver = this.props.globalState.onBuiltObservable.add(() => {\r\n            this.forceUpdate();\r\n        });\r\n        this.props.globalState.onPropertyChangedObservable.add(() => this.forceUpdate());\r\n    }\r\n\r\n    override componentWillUnmount() {\r\n        window.clearInterval(this._timerIntervalId);\r\n        this.props.globalState.onBuiltObservable.remove(this._onBuiltObserver);\r\n    }\r\n\r\n    load(file: File) {\r\n        Tools.ReadFile(\r\n            file,\r\n            (data) => {\r\n                const decoder = new TextDecoder(\"utf-8\");\r\n                this.props.globalState.workbench.loadFromJson(JSON.parse(decoder.decode(data)));\r\n\r\n                this.props.globalState.setSelection([]);\r\n            },\r\n            undefined,\r\n            true\r\n        );\r\n    }\r\n\r\n    /**\r\n     * Read loaded file\r\n     * @param file\r\n     */\r\n    loadControl(file: File) {\r\n        Tools.ReadFile(\r\n            file,\r\n            (data) => {\r\n                const decoder = new TextDecoder(\"utf-8\");\r\n                this.props.globalState.workbench.loadControlFromJson(JSON.parse(decoder.decode(data)));\r\n            },\r\n            undefined,\r\n            true\r\n        );\r\n    }\r\n\r\n    save(saveCallback: () => void) {\r\n        this.props.globalState.workbench.removeEditorTransformation();\r\n        const allControls = this.props.globalState.guiTexture.rootContainer.getDescendants();\r\n        for (const control of allControls) {\r\n            this.props.globalState.workbench.removeEditorBehavior(control);\r\n        }\r\n        const size = this.props.globalState.workbench.guiSize;\r\n        this.props.globalState.guiTexture.scaleTo(size.width, size.height);\r\n        saveCallback();\r\n        for (const control of allControls) {\r\n            this.props.globalState.workbench.addEditorBehavior(control);\r\n        }\r\n    }\r\n\r\n    saveLocally = () => {\r\n        try {\r\n            const json = JSON.stringify(this.props.globalState.guiTexture.serializeContent());\r\n            StringTools.DownloadAsFile(this.props.globalState.hostDocument, json, \"guiTexture.json\");\r\n        } catch (error) {\r\n            this.props.globalState.hostWindow.alert(\"Unable to save your GUI\");\r\n            Tools.Error(\"Unable to save your GUI\");\r\n        }\r\n    };\r\n\r\n    /**\r\n     * Save the selected control as Json with file name of guiControl\r\n     */\r\n    saveSelectedControlLocally = () => {\r\n        try {\r\n            const serializationObject: any = {\r\n                controls: [],\r\n            };\r\n            for (const control of this.props.globalState.selectedControls) {\r\n                const controlSerializationObject = {};\r\n                control.serialize(controlSerializationObject);\r\n                serializationObject.controls.push(controlSerializationObject);\r\n            }\r\n            const json = JSON.stringify(serializationObject);\r\n            StringTools.DownloadAsFile(this.props.globalState.hostDocument, json, \"guiControl.json\");\r\n        } catch (error) {\r\n            this.props.globalState.hostWindow.alert(\"Unable to save your selected Control\");\r\n            Tools.Error(\"Unable to save your selected Control\");\r\n        }\r\n    };\r\n\r\n    // eslint-disable-next-line @typescript-eslint/naming-convention\r\n    saveToSnippetServerHelper = async (content: string, adt: AdvancedDynamicTexture): Promise<string> => {\r\n        return await new Promise((resolve, reject) => {\r\n            const xmlHttp = new XMLHttpRequest();\r\n            xmlHttp.onreadystatechange = () => {\r\n                if (xmlHttp.readyState == 4) {\r\n                    if (xmlHttp.status == 200) {\r\n                        const snippet = JSON.parse(xmlHttp.responseText);\r\n                        const oldId = adt.snippetId;\r\n                        adt.snippetId = snippet.id;\r\n                        if (snippet.version && snippet.version != \"0\") {\r\n                            adt.snippetId += \"#\" + snippet.version;\r\n                        }\r\n                        const windowAsAny = window as any;\r\n                        if (windowAsAny.Playground && oldId) {\r\n                            windowAsAny.Playground.onRequestCodeChangeObservable.notifyObservers({\r\n                                regex: new RegExp(oldId, \"g\"),\r\n                                replace: adt.snippetId,\r\n                            });\r\n                        }\r\n                        resolve(adt.snippetId);\r\n                    } else {\r\n                        // eslint-disable-next-line @typescript-eslint/prefer-promise-reject-errors\r\n                        reject(\"Unable to save your GUI\");\r\n                    }\r\n                }\r\n            };\r\n\r\n            // Check if we need to encode it to store the unicode characters (same approach as PR #12391)\r\n            const encoder = new TextEncoder();\r\n            const buffer = encoder.encode(content);\r\n\r\n            let testData = \"\";\r\n\r\n            for (let i = 0; i < buffer.length; i++) {\r\n                testData += String.fromCharCode(buffer[i]);\r\n            }\r\n\r\n            const isUnicode = testData !== content;\r\n\r\n            const objToSend = {\r\n                gui: content,\r\n                encodedGui: isUnicode ? EncodeArrayBufferToBase64(buffer) : undefined,\r\n            };\r\n\r\n            xmlHttp.open(\"POST\", AdvancedDynamicTexture.SnippetUrl + (adt.snippetId ? \"/\" + adt.snippetId : \"\"), true);\r\n            xmlHttp.setRequestHeader(\"Content-Type\", \"application/json\");\r\n            const dataToSend = {\r\n                payload: JSON.stringify(objToSend),\r\n                name: \"\",\r\n                description: \"\",\r\n                tags: \"\",\r\n            };\r\n            xmlHttp.send(JSON.stringify(dataToSend));\r\n        });\r\n    };\r\n\r\n    // eslint-disable-next-line @typescript-eslint/naming-convention\r\n    saveToSnippetServer = async () => {\r\n        const adt = this.props.globalState.guiTexture;\r\n        const content = JSON.stringify(adt.serializeContent());\r\n\r\n        const savePromise = this.props.globalState.customSave?.action || this.saveToSnippetServerHelper;\r\n        savePromise(content, adt)\r\n            // eslint-disable-next-line github/no-then\r\n            .then((snippetId: string) => {\r\n                adt.snippetId = snippetId;\r\n                const alertMessage = `GUI saved with ID:  ${adt.snippetId}`;\r\n                if (this.props.globalState.hostWindow.navigator.clipboard) {\r\n                    this.props.globalState.hostWindow.navigator.clipboard\r\n                        .writeText(adt.snippetId)\r\n                        // eslint-disable-next-line github/no-then\r\n                        .then(() => {\r\n                            this.props.globalState.hostWindow.alert(`${alertMessage}. The ID was copied to your clipboard.`);\r\n                        })\r\n                        // eslint-disable-next-line github/no-then\r\n                        .catch(() => {\r\n                            this.props.globalState.hostWindow.alert(alertMessage);\r\n                        });\r\n                } else {\r\n                    this.props.globalState.hostWindow.alert(alertMessage);\r\n                }\r\n                this.props.globalState.onBuiltObservable.notifyObservers();\r\n            })\r\n            // eslint-disable-next-line github/no-then\r\n            .catch((err: any) => {\r\n                this.props.globalState.hostWindow.alert(err);\r\n            });\r\n        this.forceUpdate();\r\n    };\r\n\r\n    loadFromSnippet() {\r\n        const snippedId = this.props.globalState.hostWindow.prompt(\"Please enter the snippet ID to use\");\r\n        if (!snippedId) {\r\n            return;\r\n        }\r\n        // eslint-disable-next-line @typescript-eslint/no-floating-promises\r\n        this.props.globalState.workbench.loadFromSnippet(snippedId);\r\n    }\r\n\r\n    renderNode(nodes: Control[]) {\r\n        const node = nodes[0];\r\n        return (\r\n            <>\r\n                <div id=\"header\">\r\n                    <img id=\"logo\" src={this.renderControlIcon(nodes)} />\r\n                    <div id=\"title\">\r\n                        <TextInputLineComponent\r\n                            noUnderline={true}\r\n                            lockObject={this._lockObject}\r\n                            target={makeTargetsProxy(nodes, this.props.globalState.onPropertyChangedObservable)}\r\n                            propertyName=\"name\"\r\n                            onPropertyChangedObservable={this.props.globalState.onPropertyChangedObservable}\r\n                        />\r\n                    </div>\r\n                </div>\r\n                {this.renderProperties(nodes)}\r\n                {node?.parent?.typeName === \"Grid\" && (\r\n                    <ParentingPropertyGridComponent\r\n                        control={node}\r\n                        onPropertyChangedObservable={this.props.globalState.onPropertyChangedObservable}\r\n                        lockObject={this._lockObject}\r\n                    ></ParentingPropertyGridComponent>\r\n                )}\r\n            </>\r\n        );\r\n    }\r\n\r\n    /**\r\n     * returns the class name of a list of controls if they share a class, or an empty string if not\r\n     * @param nodes the list of controls to check\r\n     * @returns the class name of a list of controls if they share a class, or an empty string if not\r\n     */\r\n    getControlsCommonClassName(nodes: Control[]) {\r\n        if (nodes.length === 0) {\r\n            return \"\";\r\n        }\r\n        const firstNode = nodes[0];\r\n        const firstClass = firstNode.getClassName();\r\n        for (const node of nodes) {\r\n            if (node.getClassName() !== firstClass) {\r\n                return \"\";\r\n            }\r\n        }\r\n        return firstClass;\r\n    }\r\n\r\n    renderProperties(nodes: Control[]) {\r\n        if (nodes.length === 0) {\r\n            return;\r\n        }\r\n        const className = this.getControlsCommonClassName(nodes);\r\n        switch (className) {\r\n            case \"TextBlock\": {\r\n                const textBlocks = nodes as TextBlock[];\r\n                return (\r\n                    <TextBlockPropertyGridComponent\r\n                        textBlocks={textBlocks}\r\n                        lockObject={this._lockObject}\r\n                        onPropertyChangedObservable={this.props.globalState.onPropertyChangedObservable}\r\n                        onFontsParsedObservable={this.props.globalState.onFontsParsedObservable}\r\n                        globalState={this.props.globalState}\r\n                    />\r\n                );\r\n            }\r\n            case \"InputText\": {\r\n                const inputTexts = nodes as InputText[];\r\n                return (\r\n                    <InputTextPropertyGridComponent\r\n                        inputTexts={inputTexts}\r\n                        lockObject={this._lockObject}\r\n                        onPropertyChangedObservable={this.props.globalState.onPropertyChangedObservable}\r\n                        onFontsParsedObservable={this.props.globalState.onFontsParsedObservable}\r\n                        globalState={this.props.globalState}\r\n                    />\r\n                );\r\n            }\r\n            case \"ColorPicker\": {\r\n                const colorPickers = nodes as ColorPicker[];\r\n                return (\r\n                    <ColorPickerPropertyGridComponent\r\n                        colorPickers={colorPickers}\r\n                        lockObject={this._lockObject}\r\n                        onPropertyChangedObservable={this.props.globalState.onPropertyChangedObservable}\r\n                        onFontsParsedObservable={this.props.globalState.onFontsParsedObservable}\r\n                        globalState={this.props.globalState}\r\n                    />\r\n                );\r\n            }\r\n            case \"Image\": {\r\n                const images = nodes as Image[];\r\n                return (\r\n                    <ImagePropertyGridComponent\r\n                        images={images}\r\n                        lockObject={this._lockObject}\r\n                        onPropertyChangedObservable={this.props.globalState.onPropertyChangedObservable}\r\n                        onFontsParsedObservable={this.props.globalState.onFontsParsedObservable}\r\n                        globalState={this.props.globalState}\r\n                    />\r\n                );\r\n            }\r\n            case \"Slider\": {\r\n                const sliders = nodes as Slider[];\r\n                return (\r\n                    <SliderGenericPropertyGridComponent\r\n                        sliders={sliders}\r\n                        lockObject={this._lockObject}\r\n                        onPropertyChangedObservable={this.props.globalState.onPropertyChangedObservable}\r\n                        onFontsParsedObservable={this.props.globalState.onFontsParsedObservable}\r\n                        globalState={this.props.globalState}\r\n                    />\r\n                );\r\n            }\r\n            case \"ImageBasedSlider\": {\r\n                const imageBasedSliders = nodes as ImageBasedSlider[];\r\n                return (\r\n                    <ImageBasedSliderPropertyGridComponent\r\n                        imageBasedSliders={imageBasedSliders}\r\n                        lockObject={this._lockObject}\r\n                        onPropertyChangedObservable={this.props.globalState.onPropertyChangedObservable}\r\n                        onFontsParsedObservable={this.props.globalState.onFontsParsedObservable}\r\n                        globalState={this.props.globalState}\r\n                    />\r\n                );\r\n            }\r\n            case \"Rectangle\": {\r\n                return (\r\n                    <RectanglePropertyGridComponent\r\n                        rectangles={nodes as Rectangle[]}\r\n                        lockObject={this._lockObject}\r\n                        onPropertyChangedObservable={this.props.globalState.onPropertyChangedObservable}\r\n                        onFontsParsedObservable={this.props.globalState.onFontsParsedObservable}\r\n                    />\r\n                );\r\n            }\r\n            case \"StackPanel\": {\r\n                const stackPanels = nodes as StackPanel[];\r\n                return (\r\n                    <StackPanelPropertyGridComponent\r\n                        stackPanels={stackPanels}\r\n                        lockObject={this._lockObject}\r\n                        onPropertyChangedObservable={this.props.globalState.onPropertyChangedObservable}\r\n                        onFontsParsedObservable={this.props.globalState.onFontsParsedObservable}\r\n                        globalState={this.props.globalState}\r\n                    />\r\n                );\r\n            }\r\n            case \"Grid\": {\r\n                const grids = nodes as Grid[];\r\n                return (\r\n                    <GridPropertyGridComponent\r\n                        grids={grids}\r\n                        lockObject={this._lockObject}\r\n                        onPropertyChangedObservable={this.props.globalState.onPropertyChangedObservable}\r\n                        onFontsParsedObservable={this.props.globalState.onFontsParsedObservable}\r\n                        globalState={this.props.globalState}\r\n                    />\r\n                );\r\n            }\r\n            case \"ScrollViewer\": {\r\n                const scrollViewers = nodes as ScrollViewer[];\r\n                return (\r\n                    <ScrollViewerPropertyGridComponent\r\n                        scrollViewers={scrollViewers}\r\n                        lockObject={this._lockObject}\r\n                        onPropertyChangedObservable={this.props.globalState.onPropertyChangedObservable}\r\n                        onFontsParsedObservable={this.props.globalState.onFontsParsedObservable}\r\n                        globalState={this.props.globalState}\r\n                    />\r\n                );\r\n            }\r\n            case \"Ellipse\": {\r\n                const ellipses = nodes as Ellipse[];\r\n                return (\r\n                    <EllipsePropertyGridComponent\r\n                        ellipses={ellipses}\r\n                        lockObject={this._lockObject}\r\n                        onPropertyChangedObservable={this.props.globalState.onPropertyChangedObservable}\r\n                        onFontsParsedObservable={this.props.globalState.onFontsParsedObservable}\r\n                        globalState={this.props.globalState}\r\n                    />\r\n                );\r\n            }\r\n            case \"Checkbox\": {\r\n                const checkboxes = nodes as Checkbox[];\r\n                return (\r\n                    <CheckboxPropertyGridComponent\r\n                        checkboxes={checkboxes}\r\n                        lockObject={this._lockObject}\r\n                        onPropertyChangedObservable={this.props.globalState.onPropertyChangedObservable}\r\n                        onFontsParsedObservable={this.props.globalState.onFontsParsedObservable}\r\n                        globalState={this.props.globalState}\r\n                    />\r\n                );\r\n            }\r\n            case \"RadioButton\": {\r\n                const radioButtons = nodes as RadioButton[];\r\n                return (\r\n                    <RadioButtonPropertyGridComponent\r\n                        radioButtons={radioButtons}\r\n                        lockObject={this._lockObject}\r\n                        onPropertyChangedObservable={this.props.globalState.onPropertyChangedObservable}\r\n                        onFontsParsedObservable={this.props.globalState.onFontsParsedObservable}\r\n                        globalState={this.props.globalState}\r\n                    />\r\n                );\r\n            }\r\n            case \"Line\": {\r\n                const lines = nodes as Line[];\r\n                return (\r\n                    <LinePropertyGridComponent\r\n                        lines={lines}\r\n                        lockObject={this._lockObject}\r\n                        onPropertyChangedObservable={this.props.globalState.onPropertyChangedObservable}\r\n                        onFontsParsedObservable={this.props.globalState.onFontsParsedObservable}\r\n                        globalState={this.props.globalState}\r\n                    />\r\n                );\r\n            }\r\n            case \"DisplayGrid\": {\r\n                const displayGrids = nodes as DisplayGrid[];\r\n                return (\r\n                    <DisplayGridPropertyGridComponent\r\n                        displayGrids={displayGrids}\r\n                        lockObject={this._lockObject}\r\n                        onPropertyChangedObservable={this.props.globalState.onPropertyChangedObservable}\r\n                        onFontsParsedObservable={this.props.globalState.onFontsParsedObservable}\r\n                        globalState={this.props.globalState}\r\n                    />\r\n                );\r\n            }\r\n            case \"Button\": {\r\n                const buttons = nodes as Button[];\r\n                return (\r\n                    <ButtonPropertyGridComponent\r\n                        key=\"buttonMenu\"\r\n                        rectangles={buttons}\r\n                        lockObject={this._lockObject}\r\n                        onPropertyChangedObservable={this.props.globalState.onPropertyChangedObservable}\r\n                        onAddComponent={(value) => {\r\n                            for (const button of buttons) {\r\n                                const guiElement = GUINodeTools.CreateControlFromString(value);\r\n                                this.props.globalState.workbench.addEditorBehavior(guiElement);\r\n                                button.addControl(guiElement);\r\n                                this.props.globalState.select(guiElement);\r\n                            }\r\n                        }}\r\n                        onFontsParsedObservable={this.props.globalState.onFontsParsedObservable}\r\n                        globalState={this.props.globalState}\r\n                    />\r\n                );\r\n            }\r\n        }\r\n\r\n        const controls = nodes;\r\n        return (\r\n            <ControlPropertyGridComponent\r\n                controls={controls}\r\n                lockObject={this._lockObject}\r\n                onPropertyChangedObservable={this.props.globalState.onPropertyChangedObservable}\r\n                onFontsParsedObservable={this.props.globalState.onFontsParsedObservable}\r\n                globalState={this.props.globalState}\r\n            />\r\n        );\r\n    }\r\n\r\n    renderControlIcon(nodes: Control[]) {\r\n        const node = nodes[0];\r\n        const className = node.getClassName();\r\n        for (const node of nodes) {\r\n            if (node.getClassName() !== className) {\r\n                return adtIcon;\r\n            }\r\n        }\r\n        const type = ControlTypes.find((control) => control.className === className);\r\n        return type ? type.icon : adtIcon;\r\n    }\r\n\r\n    override render() {\r\n        if (this.props.globalState.guiTexture == undefined) {\r\n            return null;\r\n        }\r\n        const nodesToRender = this.props.globalState.selectedControls.length > 0 ? this.props.globalState.selectedControls : [this.props.globalState.workbench.trueRootContainer];\r\n        return <div id=\"ge-propertyTab\">{this.renderNode(nodesToRender)}</div>;\r\n    }\r\n}\r\n","import * as React from \"react\";\r\nimport type { GlobalState } from \"./globalState\";\r\nimport * as ReactDOM from \"react-dom\";\r\nimport type { PropsWithChildren } from \"react\";\r\n\r\ninterface IPortalProps {\r\n    globalState: GlobalState;\r\n}\r\n\r\nexport class Portal extends React.Component<PropsWithChildren<IPortalProps>> {\r\n    override render() {\r\n        return ReactDOM.createPortal(this.props.children, this.props.globalState.hostElement);\r\n    }\r\n}\r\n","\n      import API from \"!../../../../../../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js\";\n      import domAPI from \"!../../../../../../node_modules/style-loader/dist/runtime/styleDomAPI.js\";\n      import insertFn from \"!../../../../../../node_modules/style-loader/dist/runtime/insertBySelector.js\";\n      import setAttributes from \"!../../../../../../node_modules/style-loader/dist/runtime/setAttributesWithoutAttributes.js\";\n      import insertStyleElement from \"!../../../../../../node_modules/style-loader/dist/runtime/insertStyleElement.js\";\n      import styleTagTransformFn from \"!../../../../../../node_modules/style-loader/dist/runtime/styleTagTransform.js\";\n      import content, * as namedExport from \"!!../../../../../../node_modules/css-loader/dist/cjs.js??ruleSet[1].rules[2].use[1]!../../../../../../node_modules/sass-loader/dist/cjs.js??ruleSet[1].rules[2].use[2]!./log.scss\";\n      \n      \n\nvar options = {};\n\noptions.styleTagTransform = styleTagTransformFn;\noptions.setAttributes = setAttributes;\n\n      options.insert = insertFn.bind(null, \"head\");\n    \noptions.domAPI = domAPI;\noptions.insertStyleElement = insertStyleElement;\n\nvar update = API(content, options);\n\n\n\nexport * from \"!!../../../../../../node_modules/css-loader/dist/cjs.js??ruleSet[1].rules[2].use[1]!../../../../../../node_modules/sass-loader/dist/cjs.js??ruleSet[1].rules[2].use[2]!./log.scss\";\n       export default content && content.locals ? content.locals : undefined;\n","import * as React from \"react\";\r\nimport type { GlobalState } from \"../../globalState\";\r\n\r\nimport \"./log.scss\";\r\n\r\ninterface ILogComponentProps {\r\n    globalState: GlobalState;\r\n}\r\n\r\nexport class LogEntry {\r\n    constructor(\r\n        public message: string,\r\n        public isError: boolean\r\n    ) {}\r\n}\r\n\r\nexport class LogComponent extends React.Component<ILogComponentProps, { logs: LogEntry[] }> {\r\n    private _consoleRef: React.RefObject<HTMLDivElement> = React.createRef<HTMLDivElement>();\r\n    constructor(props: ILogComponentProps) {\r\n        super(props);\r\n\r\n        this.state = { logs: [] };\r\n    }\r\n\r\n    override componentDidMount() {\r\n        this.props.globalState.onLogRequiredObservable.add((log) => {\r\n            const newLogArray = this.state.logs.map((number) => number);\r\n            newLogArray.push(log);\r\n            this.setState({ logs: newLogArray });\r\n        });\r\n    }\r\n\r\n    override componentDidUpdate() {\r\n        const logConsole = this._consoleRef.current;\r\n        if (!logConsole) {\r\n            return;\r\n        }\r\n\r\n        logConsole.scrollTop = logConsole.scrollHeight;\r\n    }\r\n\r\n    override render() {\r\n        const today = new Date();\r\n        const h = today.getHours();\r\n        const m = today.getMinutes();\r\n        const s = today.getSeconds();\r\n\r\n        return (\r\n            <div id=\"log-console\" ref={this._consoleRef}>\r\n                {this.state.logs.map((l, i) => {\r\n                    return (\r\n                        <div key={i} className={\"log\" + (l.isError ? \" error\" : \"\")}>\r\n                            {h + \":\" + m + \":\" + s + \": \" + l.message}\r\n                        </div>\r\n                    );\r\n                })}\r\n            </div>\r\n        );\r\n    }\r\n}\r\n","import * as React from \"react\";\r\n\r\ninterface ITreeItemLabelComponentProps {\r\n    label?: string;\r\n    onClick?: () => void;\r\n    onChange: (newValue: string) => void;\r\n    bracket: string;\r\n    renaming: boolean;\r\n    setRenaming: (renaming: boolean) => void;\r\n}\r\n\r\ninterface ITreeItemLabelState {\r\n    value: string;\r\n}\r\n\r\nexport class TreeItemLabelComponent extends React.Component<ITreeItemLabelComponentProps, ITreeItemLabelState> {\r\n    constructor(props: ITreeItemLabelComponentProps) {\r\n        super(props);\r\n        this.state = {\r\n            value: \"\",\r\n        };\r\n    }\r\n\r\n    onClick() {\r\n        if (!this.props.onClick || this.props.renaming) {\r\n            return;\r\n        }\r\n\r\n        this.props.onClick();\r\n    }\r\n\r\n    onBlur() {\r\n        this.props.setRenaming(false);\r\n    }\r\n\r\n    override render() {\r\n        // if editing, overwrite string with local value\r\n        const label = this.props.renaming ? this.state.value : this.props.label || \"No Name\";\r\n        return (\r\n            <div className=\"title\" onClick={() => this.onClick()}>\r\n                {this.props.renaming ? (\r\n                    <input\r\n                        type=\"text\"\r\n                        onBlur={() => this.onBlur()}\r\n                        autoFocus={true}\r\n                        value={label}\r\n                        onChange={(ev) => {\r\n                            this.props.onChange(ev.target.value);\r\n                            this.setState({ value: ev.target.value });\r\n                        }}\r\n                        onKeyDown={(ev) => {\r\n                            if (ev.key === \"Enter\") {\r\n                                this.onBlur();\r\n                            }\r\n                        }}\r\n                        className=\"titleText\"\r\n                    />\r\n                ) : (\r\n                    <div\r\n                        className=\"titleText\"\r\n                        onDoubleClick={() => {\r\n                            this.props.setRenaming(true);\r\n                            this.setState({ value: label });\r\n                        }}\r\n                    >\r\n                        {label}\r\n                    </div>\r\n                )}\r\n            </div>\r\n        );\r\n    }\r\n}\r\n","import { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\r\nimport { faEllipsisH } from \"@fortawesome/free-solid-svg-icons\";\r\nimport * as React from \"react\";\r\nimport type { Nullable } from \"core/types\";\r\nimport type { IExplorerExtensibilityGroup } from \"core/Debug/debugLayer\";\r\n\r\ninterface IExtensionsComponentProps {\r\n    target: any;\r\n    extensibilityGroups?: IExplorerExtensibilityGroup[];\r\n}\r\n\r\nexport class ExtensionsComponent extends React.Component<IExtensionsComponentProps, { popupVisible: boolean }> {\r\n    private _popup: Nullable<HTMLDivElement>;\r\n    private _extensionRef: React.RefObject<HTMLDivElement>;\r\n\r\n    constructor(props: IExtensionsComponentProps) {\r\n        super(props);\r\n\r\n        this.state = { popupVisible: false };\r\n        this._extensionRef = React.createRef();\r\n    }\r\n\r\n    showPopup() {\r\n        this.setState({ popupVisible: true });\r\n    }\r\n\r\n    override componentDidMount() {\r\n        if (!this._popup) {\r\n            return;\r\n        }\r\n        this._popup.focus();\r\n    }\r\n\r\n    override componentDidUpdate() {\r\n        if (!this._popup) {\r\n            return;\r\n        }\r\n        this._popup.focus();\r\n    }\r\n\r\n    override render() {\r\n        if (!this.props.extensibilityGroups) {\r\n            return null;\r\n        }\r\n\r\n        const options = [];\r\n\r\n        for (const group of this.props.extensibilityGroups) {\r\n            if (group.predicate(this.props.target)) {\r\n                options.push(...group.entries);\r\n            }\r\n        }\r\n\r\n        if (options.length === 0) {\r\n            return null;\r\n        }\r\n\r\n        return (\r\n            <div ref={this._extensionRef} className=\"extensions\" onClick={() => this.showPopup()}>\r\n                <div title=\"Additional options\" className=\"icon\">\r\n                    <FontAwesomeIcon icon={faEllipsisH} />\r\n                </div>\r\n                <div\r\n                    ref={(input) => {\r\n                        this._popup = input;\r\n                    }}\r\n                    tabIndex={-1}\r\n                    className={this.state.popupVisible ? \"popup show\" : \"popup\"}\r\n                    onBlur={() => this.setState({ popupVisible: false })}\r\n                >\r\n                    {options.map((extensibility) => {\r\n                        return (\r\n                            <div key={extensibility.label} className=\"popupMenu\" onClick={() => extensibility.action(this.props.target)}>\r\n                                {extensibility.label}\r\n                            </div>\r\n                        );\r\n                    })}\r\n                </div>\r\n            </div>\r\n        );\r\n    }\r\n}\r\n","import type { IExplorerExtensibilityGroup } from \"core/Debug/debugLayer\";\r\nimport type { Control } from \"gui/2D/controls/control\";\r\nimport { TreeItemLabelComponent } from \"../../treeItemLabelComponent\";\r\nimport { ExtensionsComponent } from \"../../extensionsComponent\";\r\nimport * as React from \"react\";\r\nimport type { GlobalState } from \"../../../../globalState\";\r\nimport { DragOverLocation } from \"../../../../globalState\";\r\nimport type { Grid } from \"gui/2D/controls/grid\";\r\nimport { Container } from \"gui/2D/controls/container\";\r\nimport { ControlTypes } from \"../../../../controlTypes\";\r\n\r\nimport visibilityNotActiveIcon from \"../../../../imgs/visibilityNotActiveIcon.svg\";\r\nimport visibilityActiveIcon from \"../../../../imgs/visibilityActiveIcon.svg\";\r\nimport makeComponentIcon from \"../../../../imgs/makeComponentIcon.svg\";\r\nimport makeChildOfContainerIcon from \"../../../../imgs/makeChildOfContainerIcon.svg\";\r\nimport type { Observer } from \"core/Misc/observable\";\r\nimport type { Nullable } from \"core/types\";\r\n\r\ninterface IControlTreeItemComponentProps {\r\n    control: Control;\r\n    extensibilityGroups?: IExplorerExtensibilityGroup[];\r\n    onClick: () => void;\r\n    globalState: GlobalState;\r\n    isHovered: boolean;\r\n    isDragOver: boolean;\r\n    dragOverLocation: DragOverLocation;\r\n    onRenamingStateChanged: (renaming: boolean) => void;\r\n}\r\n\r\nexport class ControlTreeItemComponent extends React.Component<IControlTreeItemComponentProps, { isActive: boolean; isVisible: boolean; isRenaming: boolean }> {\r\n    private _onIsVisibleChangedObserver: Nullable<Observer<boolean>>;\r\n    constructor(props: IControlTreeItemComponentProps) {\r\n        super(props);\r\n\r\n        const control = this.props.control;\r\n\r\n        this.state = { isActive: control.isHighlighted, isVisible: control.isVisible, isRenaming: false };\r\n\r\n        this._onIsVisibleChangedObserver = control.onIsVisibleChangedObservable.add((isVisible) => {\r\n            this.setState({ isVisible });\r\n        });\r\n    }\r\n\r\n    override componentWillUnmount() {\r\n        if (this._onIsVisibleChangedObserver) {\r\n            this.props.control.onIsVisibleChangedObservable.remove(this._onIsVisibleChangedObserver);\r\n        }\r\n    }\r\n\r\n    highlight() {\r\n        const control = this.props.control;\r\n        control.isHighlighted = !control.isHighlighted;\r\n\r\n        this.setState({ isActive: control.isHighlighted });\r\n    }\r\n\r\n    switchVisibility(): void {\r\n        const newState = !this.state.isVisible;\r\n        this.setState({ isVisible: newState });\r\n        this.props.control.isVisible = newState;\r\n    }\r\n\r\n    onRename(name: string) {\r\n        this.props.control.name = name;\r\n        this.props.globalState.onPropertyGridUpdateRequiredObservable.notifyObservers();\r\n    }\r\n\r\n    override render() {\r\n        const control = this.props.control;\r\n\r\n        let bracket = \"\";\r\n        if (control.parent?.typeName === \"Grid\") {\r\n            bracket = (control.parent as Grid).getChildCellInfo(this.props.control);\r\n        }\r\n        const draggingSelf = this.props.globalState.draggedControl === control;\r\n        const controlType = ControlTypes.find((type) => type.className === control.getClassName());\r\n        return (\r\n            <div className=\"controlTools\">\r\n                {controlType && (\r\n                    <div className=\"controlType icon\">\r\n                        <img src={controlType.icon} alt={controlType.className} />\r\n                    </div>\r\n                )}\r\n                <TreeItemLabelComponent\r\n                    label={control.name}\r\n                    bracket={bracket}\r\n                    onClick={() => this.props.onClick()}\r\n                    onChange={(name) => this.onRename(name)}\r\n                    setRenaming={(renaming) => {\r\n                        this.setState({ isRenaming: renaming });\r\n                        this.props.onRenamingStateChanged(renaming);\r\n                    }}\r\n                    renaming={this.state.isRenaming}\r\n                />\r\n                {!draggingSelf && this.props.isDragOver && this.props.dragOverLocation == DragOverLocation.CENTER && control instanceof Container && (\r\n                    <>\r\n                        <div className=\"makeChild icon\" onClick={() => this.highlight()} title=\"Make Child\">\r\n                            <img src={makeChildOfContainerIcon} />\r\n                        </div>\r\n                    </>\r\n                )}\r\n                {!this.state.isRenaming && this.props.isHovered && this.props.globalState.draggedControl === null && this.props.dragOverLocation == DragOverLocation.NONE && (\r\n                    <>\r\n                        <div className=\"addComponent icon\" onClick={() => this.highlight()} title=\"Add component (Not Implemented)\">\r\n                            <img src={makeComponentIcon} />\r\n                        </div>\r\n                        <div className=\"visibility icon\" onClick={() => this.switchVisibility()} title=\"Set isVisible\">\r\n                            <img src={this.state.isVisible ? visibilityActiveIcon : visibilityNotActiveIcon} />\r\n                        </div>\r\n                    </>\r\n                )}\r\n                <ExtensionsComponent target={control} extensibilityGroups={this.props.extensibilityGroups} />\r\n            </div>\r\n        );\r\n    }\r\n}\r\n","import type { Nullable } from \"core/types\";\r\nimport type { IExplorerExtensibilityGroup } from \"core/Debug/debugLayer\";\r\n\r\nimport { Tools } from \"../../tools\";\r\nimport * as React from \"react\";\r\nimport type { GlobalState } from \"../../globalState\";\r\nimport { DragOverLocation } from \"../../globalState\";\r\nimport { ControlTreeItemComponent } from \"./entities/gui/controlTreeItemComponent\";\r\nimport type { Observer } from \"core/Misc/observable\";\r\nimport { Container } from \"gui/2D/controls/container\";\r\n\r\nimport expandedIcon from \"../../imgs/expandedIcon.svg\";\r\nimport collapsedIcon from \"../../imgs/collapsedIcon.svg\";\r\n// eslint-disable-next-line @typescript-eslint/naming-convention\r\nconst CONTROL_HEIGHT = 32;\r\n\r\nexport interface ITreeItemSelectableComponentProps {\r\n    entity: any;\r\n    selectedEntities: any[];\r\n    mustExpand?: boolean;\r\n    offset: number;\r\n    globalState: GlobalState;\r\n    extensibilityGroups?: IExplorerExtensibilityGroup[];\r\n    filter: Nullable<string>;\r\n}\r\n\r\nexport interface ITreeItemSelectableComponentState {\r\n    expand: boolean;\r\n    dragOver: boolean;\r\n    isSelected: boolean;\r\n    isHovered: boolean;\r\n    dragOverLocation: DragOverLocation;\r\n    blockDrag: boolean;\r\n}\r\n\r\nexport class TreeItemSelectableComponent extends React.Component<ITreeItemSelectableComponentProps, ITreeItemSelectableComponentState> {\r\n    private _onSelectionChangedObservable: Nullable<Observer<any>>;\r\n    private _onDraggingEndObservable: Nullable<Observer<any>>;\r\n    private _onDraggingStartObservable: Nullable<Observer<any>>;\r\n    private _thisRef: React.RefObject<HTMLDivElement> = React.createRef<HTMLDivElement>();\r\n    /** flag flipped onDragEnter if dragOver is already true\r\n     * prevents dragLeave from immediately setting dragOver to false\r\n     * required to make dragging work as expected\r\n     * see: see: https://github.com/transformation-dev/matrx/tree/master/packages/dragster\r\n     */\r\n    private _secondDragEnter = false;\r\n    constructor(props: ITreeItemSelectableComponentProps) {\r\n        super(props);\r\n\r\n        this.state = {\r\n            expand: true,\r\n            dragOver: false,\r\n            dragOverLocation: DragOverLocation.NONE,\r\n            isHovered: false,\r\n            isSelected: this.props.selectedEntities.includes(this.props.entity),\r\n            blockDrag: false,\r\n        };\r\n\r\n        this._onSelectionChangedObservable = props.globalState.onSelectionChangedObservable.add(() => {\r\n            this.setState({ isSelected: this.props.globalState.selectedControls.includes(this.props.entity) });\r\n        });\r\n\r\n        this._onDraggingEndObservable = props.globalState.onDraggingEndObservable.add(() => {\r\n            this.setState({ dragOverLocation: DragOverLocation.NONE });\r\n        });\r\n        this._onDraggingStartObservable = props.globalState.onDraggingStartObservable.add(() => {\r\n            this.forceUpdate();\r\n        });\r\n    }\r\n\r\n    switchExpandedState(): void {\r\n        this.props.entity.reservedDataStore.setExpandedState(!this.props.entity.reservedDataStore.isExpanded);\r\n        this.setState({ expand: !this.state.expand });\r\n    }\r\n\r\n    override shouldComponentUpdate(nextProps: ITreeItemSelectableComponentProps, nextState: { isSelected: boolean }) {\r\n        //if the next entity is going to be selected then we want to highlight it so update\r\n        if (nextProps.selectedEntities.includes(nextProps.entity)) {\r\n            nextState.isSelected = true;\r\n            return true;\r\n        } else {\r\n            nextState.isSelected = false;\r\n        }\r\n        if (Tools.LookForItems(nextProps.entity, nextProps.selectedEntities)) {\r\n            return true;\r\n        }\r\n\r\n        return true;\r\n    }\r\n\r\n    scrollIntoView() {\r\n        const element = this._thisRef.current;\r\n\r\n        if (element) {\r\n            element.scrollIntoView(false);\r\n        }\r\n    }\r\n\r\n    override componentWillUnmount() {\r\n        this.props.globalState.onSelectionChangedObservable.remove(this._onSelectionChangedObservable);\r\n        this.props.globalState.onDraggingEndObservable.remove(this._onDraggingEndObservable);\r\n        this.props.globalState.onDraggingStartObservable.remove(this._onDraggingStartObservable);\r\n    }\r\n\r\n    onSelect() {\r\n        const entity = this.props.entity;\r\n        this.props.globalState.select(entity);\r\n        this.props.globalState.selectionLock = true;\r\n    }\r\n\r\n    renderChildren(isExpanded: boolean, offset = true) {\r\n        const entity = this.props.entity;\r\n\r\n        if ((!entity.getChildren && !entity.children) || !isExpanded) {\r\n            return null;\r\n        }\r\n\r\n        const children = Tools.SortAndFilter(entity, entity.getChildren ? entity.getChildren() : entity.children);\r\n        if (entity.typeName === \"StackPanel\" || entity.typeName === \"VirtualKeyboard\") {\r\n            children.reverse();\r\n        }\r\n        return children.map((item, i) => {\r\n            if (item.name == \"Art-Board-Background\") {\r\n                return null;\r\n            }\r\n\r\n            return (\r\n                <TreeItemSelectableComponent\r\n                    globalState={this.props.globalState}\r\n                    mustExpand={this.props.mustExpand}\r\n                    extensibilityGroups={this.props.extensibilityGroups}\r\n                    selectedEntities={this.props.selectedEntities}\r\n                    key={i}\r\n                    offset={this.props.offset + (offset ? 2 : 0)}\r\n                    entity={item}\r\n                    filter={this.props.filter}\r\n                />\r\n            );\r\n        });\r\n    }\r\n\r\n    override render() {\r\n        if (\r\n            this.props.entity === this.props.globalState.workbench.trueRootContainer ||\r\n            this.props.entity === this.props.globalState.workbench.visibleRegionContainer ||\r\n            this.props.entity === this.props.globalState.workbench.panAndZoomContainer\r\n        ) {\r\n            return this.renderChildren(true, false);\r\n        }\r\n        const marginStyle = {\r\n            paddingLeft: 10 * (this.props.offset + 0.5) - 20 + \"px\",\r\n        };\r\n        const lineMarginStyle = {\r\n            marginLeft: 10 * (this.props.offset + 0.5) - 20 + \"px\",\r\n        };\r\n        let entity = this.props.entity;\r\n\r\n        if (!entity.reservedDataStore) {\r\n            entity.reservedDataStore = {\r\n                isExpanded: true,\r\n                setExpandedState: (expanded: boolean) => (entity.reservedDataStore.isExpanded = expanded),\r\n            };\r\n        }\r\n\r\n        const isExpanded = entity.reservedDataStore.isExpanded || Tools.LookForItems(this.props.entity, this.props.selectedEntities);\r\n\r\n        entity.reservedDataStore.isExpanded = isExpanded;\r\n\r\n        const chevron = isExpanded ? <img src={expandedIcon} className=\"icon\" /> : <img src={collapsedIcon} className=\"icon\" />;\r\n\r\n        let children = entity.getClassName() === \"MultiMaterial\" ? [] : Tools.SortAndFilter(entity, entity.getChildren ? entity.getChildren() : entity.children);\r\n        let hasChildren = children.length > 0;\r\n\r\n        if (this.props.filter) {\r\n            const lowerCaseFilter = this.props.filter.toLowerCase();\r\n            if (!entity.name || entity.name.toLowerCase().indexOf(lowerCaseFilter) === -1) {\r\n                if (!hasChildren) {\r\n                    return null;\r\n                }\r\n\r\n                if (entity.getDescendants) {\r\n                    if (\r\n                        entity.getDescendants(false, (n: any) => {\r\n                            return n.name && n.name.toLowerCase().indexOf(lowerCaseFilter) !== -1;\r\n                        }).length === 0\r\n                    ) {\r\n                        return null;\r\n                    }\r\n                }\r\n            }\r\n        }\r\n\r\n        let className = \"itemContainer\"; //setting class name plus whatever extras based on states\r\n        className += this.state.isSelected && this.props.globalState.draggedControl === null ? \" selected\" : \"\";\r\n        className += this.state.isHovered && this.props.globalState.draggedControl === null ? \" hover\" : \"\";\r\n        className += this.state.dragOver && this.state.dragOverLocation == DragOverLocation.CENTER && entity instanceof Container ? \" parent\" : \"\";\r\n        className += this.props.globalState.draggedControl === this.props.entity ? \" dragged\" : \"\";\r\n        className += this.state.dragOver && this.state.dragOverLocation == DragOverLocation.ABOVE && entity.parent ? \" seAbove\" : \"\";\r\n        className += this.state.dragOver && this.state.dragOverLocation == DragOverLocation.BELOW && entity.parent ? \" seBelow\" : \"\";\r\n\r\n        const styleName = className === \"itemContainer seAbove\" || className === \"itemContainer seBelow\" ? lineMarginStyle : marginStyle;\r\n\r\n        return (\r\n            <div ref={this._thisRef}>\r\n                <div\r\n                    className={className}\r\n                    style={styleName}\r\n                    onPointerUp={() => {\r\n                        this.onSelect();\r\n                    }}\r\n                    onPointerEnter={() => this.setState({ isHovered: true })}\r\n                    onPointerLeave={() => this.setState({ isHovered: false })}\r\n                    onDragStart={() => {\r\n                        this.props.globalState.draggedControl = this.props.entity;\r\n                        this.props.globalState.onDraggingStartObservable.notifyObservers();\r\n                    }}\r\n                    onDragEnd={() => {\r\n                        this.props.globalState.onDraggingEndObservable.notifyObservers();\r\n                    }}\r\n                    draggable={entity.parent && !this.state.blockDrag}\r\n                    onDrop={(event) => {\r\n                        this.drop();\r\n                        event.preventDefault();\r\n                    }}\r\n                    onDragEnter={(event) => {\r\n                        event.preventDefault();\r\n                        this.dragOver(event);\r\n                    }}\r\n                    onDragOver={(event) => this.updateDragOverLocation(event)}\r\n                    onDragLeave={() => {\r\n                        // don't immediately set dragOver to false\r\n                        if (this._secondDragEnter) {\r\n                            this._secondDragEnter = false;\r\n                        } else {\r\n                            this.setState({ dragOver: false });\r\n                        }\r\n                    }}\r\n                >\r\n                    {hasChildren && (\r\n                        <div\r\n                            className=\"arrow icon\"\r\n                            onClick={(event) => {\r\n                                this.switchExpandedState();\r\n                                if (event.shiftKey) {\r\n                                    while (hasChildren) {\r\n                                        this.renderChildren(true);\r\n                                        entity = entity.children[0];\r\n                                        children =\r\n                                            entity.getClassName() === \"MultiMaterial\"\r\n                                                ? []\r\n                                                : Tools.SortAndFilter(entity, entity.getChildren ? entity.getChildren() : entity.children);\r\n                                        hasChildren = children.length > 0;\r\n                                        entity.reservedDataStore.isExpanded = true;\r\n                                    }\r\n                                }\r\n                            }}\r\n                        >\r\n                            {chevron}\r\n                        </div>\r\n                    )}\r\n\r\n                    <ControlTreeItemComponent\r\n                        globalState={this.props.globalState}\r\n                        extensibilityGroups={this.props.extensibilityGroups}\r\n                        control={entity}\r\n                        onClick={() => {}}\r\n                        isHovered={this.state.isHovered}\r\n                        isDragOver={this.state.dragOver}\r\n                        dragOverLocation={this.state.dragOverLocation}\r\n                        onRenamingStateChanged={(isRenaming) => {\r\n                            this.setState({ blockDrag: isRenaming });\r\n                        }}\r\n                    />\r\n                </div>\r\n\r\n                {this.renderChildren(isExpanded)}\r\n            </div>\r\n        );\r\n    }\r\n\r\n    dragOver(event: React.DragEvent<HTMLDivElement>): void {\r\n        this.updateDragOverLocation(event);\r\n        // if we've already hovered the element, record a new drag event\r\n        if (this.state.dragOver) {\r\n            this._secondDragEnter = true;\r\n        } else {\r\n            this.setState({ dragOver: true });\r\n        }\r\n    }\r\n\r\n    updateDragOverLocation(event: React.DragEvent<HTMLDivElement>) {\r\n        //check the positions of the mouse cursor.\r\n        const target = event.target as HTMLElement;\r\n        const rect = target.getBoundingClientRect();\r\n        const y = event.clientY - rect.top;\r\n\r\n        if (this.props.entity instanceof Container) {\r\n            if (y < CONTROL_HEIGHT / 5) {\r\n                //split in fifths\r\n                this.setState({ dragOverLocation: DragOverLocation.ABOVE });\r\n            } else if (y > (4 * CONTROL_HEIGHT) / 5) {\r\n                this.setState({ dragOverLocation: DragOverLocation.BELOW });\r\n            } else {\r\n                this.setState({ dragOverLocation: DragOverLocation.CENTER });\r\n            }\r\n        } else {\r\n            if (y < CONTROL_HEIGHT / 2) {\r\n                //split in half\r\n                this.setState({ dragOverLocation: DragOverLocation.ABOVE });\r\n            } else {\r\n                this.setState({ dragOverLocation: DragOverLocation.BELOW });\r\n            }\r\n        }\r\n    }\r\n\r\n    drop(): void {\r\n        this.props.globalState.onDropObservable.notifyObservers();\r\n        const control = this.props.entity;\r\n        if (this.props.globalState.draggedControl != control) {\r\n            this.props.globalState.draggedControlDirection = this.state.dragOverLocation;\r\n            this.props.globalState.onParentingChangeObservable.notifyObservers(this.props.entity);\r\n        }\r\n        this.props.globalState.draggedControl = null;\r\n        this.setState({ dragOverLocation: DragOverLocation.NONE, dragOver: false });\r\n        this._secondDragEnter = false;\r\n    }\r\n}\r\n","import type { ReactElement, ReactNode } from \"react\";\r\nimport { forwardRef, useState } from \"react\";\r\nimport { Menu, MenuTrigger, MenuPopover, MenuList, MenuItem, MenuDivider, MenuGroup, MenuGroupHeader, makeStyles, tokens } from \"@fluentui/react-components\";\r\nimport type { MenuProps as FluentMenuProps } from \"@fluentui/react-components\";\r\nimport type { FluentIcon } from \"@fluentui/react-icons\";\r\nimport { Button } from \"shared-ui-components/fluent/primitives/button\";\r\nimport type { BasePrimitiveProps } from \"./primitive\";\r\n\r\nconst useStyles = makeStyles({\r\n    menuPopover: {\r\n        minWidth: \"160px\",\r\n    },\r\n    menuItem: {\r\n        cursor: \"pointer\",\r\n    },\r\n    menuItemIcon: {\r\n        color: tokens.colorNeutralForeground2,\r\n    },\r\n});\r\n\r\n/**\r\n * Represents a single menu item in the context menu.\r\n */\r\nexport type ContextMenuItemProps = {\r\n    /**\r\n     * Unique key for the menu item.\r\n     */\r\n    key: string;\r\n    /**\r\n     * The text label displayed for the menu item.\r\n     */\r\n    label: string;\r\n    /**\r\n     * Optional icon to display alongside the menu item.\r\n     */\r\n    icon?: FluentIcon;\r\n    /**\r\n     * Called when the menu item is clicked.\r\n     */\r\n    onClick?: () => void;\r\n    /**\r\n     * Whether the menu item is disabled.\r\n     */\r\n    disabled?: boolean;\r\n    /**\r\n     * Optional secondary text displayed alongside the label.\r\n     */\r\n    secondaryContent?: string;\r\n};\r\n\r\n/**\r\n * Represents a divider in the context menu.\r\n */\r\nexport type ContextMenuDividerProps = {\r\n    /**\r\n     * Unique key for the divider.\r\n     */\r\n    key: string;\r\n    /**\r\n     * Indicates this is a divider item.\r\n     */\r\n    type: \"divider\";\r\n};\r\n\r\n/**\r\n * Represents a group of menu items with an optional header.\r\n */\r\nexport type ContextMenuGroupProps = {\r\n    /**\r\n     * Unique key for the group.\r\n     */\r\n    key: string;\r\n    /**\r\n     * Indicates this is a group item.\r\n     */\r\n    type: \"group\";\r\n    /**\r\n     * Optional header text for the group.\r\n     */\r\n    header?: string;\r\n    /**\r\n     * The menu items within the group.\r\n     */\r\n    items: ContextMenuItem[];\r\n};\r\n\r\n/**\r\n * Union type representing all possible menu items.\r\n */\r\nexport type ContextMenuItem = ContextMenuItemProps | ContextMenuDividerProps | ContextMenuGroupProps;\r\n\r\ntype ContextMenuWithIconProps = {\r\n    /**\r\n     * Icon to use as the trigger button.\r\n     */\r\n    icon: FluentIcon;\r\n    trigger?: never;\r\n};\r\n\r\ntype ContextMenuWithTriggerProps = {\r\n    icon?: never;\r\n    /**\r\n     * Custom trigger element for opening the menu.\r\n     */\r\n    trigger: ReactElement;\r\n};\r\n\r\nexport type ContextMenuProps = BasePrimitiveProps &\r\n    (ContextMenuWithIconProps | ContextMenuWithTriggerProps) & {\r\n        /**\r\n         * Array of menu items to display.\r\n         */\r\n        items: ContextMenuItem[];\r\n        /**\r\n         * Positioning of the menu relative to the trigger.\r\n         */\r\n        positioning?: FluentMenuProps[\"positioning\"];\r\n        /**\r\n         * Called when the menu open state changes.\r\n         */\r\n        onOpenChange?: (open: boolean) => void;\r\n    };\r\n\r\nconst IsDivider = (item: ContextMenuItem): item is ContextMenuDividerProps => {\r\n    return \"type\" in item && item.type === \"divider\";\r\n};\r\n\r\nconst IsGroup = (item: ContextMenuItem): item is ContextMenuGroupProps => {\r\n    return \"type\" in item && item.type === \"group\";\r\n};\r\n\r\nconst RenderMenuItem = (item: ContextMenuItemProps, classes: ReturnType<typeof useStyles>) => {\r\n    // eslint-disable-next-line @typescript-eslint/naming-convention\r\n    const Icon = item.icon;\r\n    return (\r\n        <MenuItem\r\n            key={item.key}\r\n            className={classes.menuItem}\r\n            icon={Icon ? <Icon className={classes.menuItemIcon} /> : undefined}\r\n            onClick={item.onClick}\r\n            disabled={item.disabled}\r\n            secondaryContent={item.secondaryContent}\r\n        >\r\n            {item.label}\r\n        </MenuItem>\r\n    );\r\n};\r\n\r\nconst RenderMenuItems = (items: ContextMenuItem[], classes: ReturnType<typeof useStyles>): ReactNode[] => {\r\n    return items.map((item) => {\r\n        if (IsDivider(item)) {\r\n            return <MenuDivider key={item.key} />;\r\n        }\r\n\r\n        if (IsGroup(item)) {\r\n            return (\r\n                <MenuGroup key={item.key}>\r\n                    {item.header && <MenuGroupHeader>{item.header}</MenuGroupHeader>}\r\n                    {RenderMenuItems(item.items, classes)}\r\n                </MenuGroup>\r\n            );\r\n        }\r\n\r\n        return RenderMenuItem(item, classes);\r\n    });\r\n};\r\n\r\n/**\r\n * A wrapper around Fluent UI's Menu component providing a simplified API for context menus.\r\n * Supports menu items with icons, dividers, and grouped items.\r\n */\r\nexport const ContextMenu = forwardRef<HTMLButtonElement, ContextMenuProps>((props, ref) => {\r\n    const { items, onOpenChange, disabled } = props;\r\n    const [open, setOpen] = useState(false);\r\n    const classes = useStyles();\r\n\r\n    const handleOpenChange = (_: unknown, data: { open: boolean }) => {\r\n        setOpen(data.open);\r\n        onOpenChange?.(data.open);\r\n    };\r\n\r\n    return (\r\n        <Menu openOnContext open={open} onOpenChange={handleOpenChange}>\r\n            <MenuTrigger disableButtonEnhancement>\r\n                {props.trigger ?? (\r\n                    <Button\r\n                        ref={ref}\r\n                        icon={props.icon}\r\n                        onClick={(e) => {\r\n                            e?.stopPropagation();\r\n                            setOpen(true);\r\n                        }}\r\n                        disabled={disabled}\r\n                    />\r\n                )}\r\n            </MenuTrigger>\r\n            <MenuPopover className={classes.menuPopover}>\r\n                <MenuList>{RenderMenuItems(items, classes)}</MenuList>\r\n            </MenuPopover>\r\n        </Menu>\r\n    );\r\n});\r\n\r\nContextMenu.displayName = \"ContextMenu\";\r\n","import * as React from \"react\";\r\n\r\nimport type { Nullable } from \"core/types\";\r\nimport type { IExplorerExtensibilityGroup } from \"core/Debug/debugLayer\";\r\n\r\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\r\nimport { faBan } from \"@fortawesome/free-solid-svg-icons\";\r\nimport { TreeItemSelectableComponent } from \"./treeItemSelectableComponent\";\r\nimport { Tools } from \"../../tools\";\r\nimport type { ContextMenuItem } from \"shared-ui-components/fluent/primitives/contextMenu\";\r\nimport { ContextMenu } from \"shared-ui-components/fluent/primitives/contextMenu\";\r\nimport { FluentToolWrapper } from \"shared-ui-components/fluent/hoc/fluentToolWrapper\";\r\nimport type { GlobalState } from \"../../globalState\";\r\n\r\nimport expandedIcon from \"../../imgs/expandedIcon.svg\";\r\nimport collapsedIcon from \"../../imgs/collapsedIcon.svg\";\r\n\r\ninterface ITreeItemExpandableHeaderComponentProps {\r\n    isExpanded: boolean;\r\n    label: string;\r\n    onClick: () => void;\r\n    onExpandAll: (expand: boolean) => void;\r\n}\r\n\r\nclass TreeItemExpandableHeaderComponent extends React.Component<ITreeItemExpandableHeaderComponentProps> {\r\n    constructor(props: ITreeItemExpandableHeaderComponentProps) {\r\n        super(props);\r\n    }\r\n\r\n    expandAll() {\r\n        this.props.onExpandAll(!this.props.isExpanded);\r\n    }\r\n\r\n    override render() {\r\n        const chevron = this.props.isExpanded ? <img src={expandedIcon} className=\"icon\" /> : <img src={collapsedIcon} className=\"icon\" />;\r\n\r\n        return (\r\n            <div className=\"expandableHeader\">\r\n                <div className=\"text\">\r\n                    <div className=\"arrow icon\" onClick={() => this.props.onClick()}>\r\n                        {chevron}\r\n                    </div>\r\n                    <div className=\"text-value\">{this.props.label}</div>\r\n                </div>\r\n                <div className=\"expandAll icon\" onClick={() => this.expandAll()} title={this.props.isExpanded ? \"Collapse all\" : \"Expand all\"}>\r\n                    {chevron}\r\n                </div>\r\n            </div>\r\n        );\r\n    }\r\n}\r\n\r\ninterface ITreeItemRootHeaderComponentProps {\r\n    label: string;\r\n}\r\n\r\nclass TreeItemRootHeaderComponent extends React.Component<ITreeItemRootHeaderComponentProps> {\r\n    constructor(props: ITreeItemRootHeaderComponentProps) {\r\n        super(props);\r\n    }\r\n\r\n    override render() {\r\n        return (\r\n            <div className=\"expandableHeader\">\r\n                <div className=\"text\">\r\n                    <div className=\"arrow icon\">\r\n                        <FontAwesomeIcon icon={faBan} />\r\n                    </div>\r\n                    <div className=\"text-value\">{this.props.label}</div>\r\n                </div>\r\n            </div>\r\n        );\r\n    }\r\n}\r\n\r\nexport interface ITreeItemComponentProps {\r\n    items?: Nullable<any[]>;\r\n    label: string;\r\n    offset: number;\r\n    filter: Nullable<string>;\r\n    forceSubitems?: boolean;\r\n    globalState: GlobalState;\r\n    entity?: any;\r\n    selectedEntities: any[];\r\n    extensibilityGroups?: IExplorerExtensibilityGroup[];\r\n    contextMenuItems?: { label: string; action: () => void }[];\r\n}\r\n\r\nconst ConvertToContextMenuItems = (items?: { label: string; action: () => void }[]): ContextMenuItem[] => {\r\n    if (!items) {\r\n        return [];\r\n    }\r\n    return items.map((item) => ({\r\n        key: item.label,\r\n        label: item.label,\r\n        onClick: item.action,\r\n    }));\r\n};\r\n\r\nexport class TreeItemComponent extends React.Component<ITreeItemComponentProps, { isExpanded: boolean; mustExpand: boolean }> {\r\n    static _ContextMenuUniqueIdGenerator = 0;\r\n\r\n    constructor(props: ITreeItemComponentProps) {\r\n        super(props);\r\n\r\n        this.state = { isExpanded: true, mustExpand: true };\r\n    }\r\n\r\n    switchExpandedState(): void {\r\n        this.setState({ isExpanded: !this.state.isExpanded, mustExpand: false });\r\n    }\r\n\r\n    override shouldComponentUpdate(nextProps: ITreeItemComponentProps, nextState: { isExpanded: boolean }) {\r\n        if (!nextState.isExpanded && this.state.isExpanded) {\r\n            return true;\r\n        }\r\n\r\n        const items = nextProps.items;\r\n\r\n        if (items && items.length) {\r\n            for (const item of items) {\r\n                if (Tools.LookForItems(item, nextProps.selectedEntities)) {\r\n                    nextState.isExpanded = true;\r\n                    return true;\r\n                }\r\n            }\r\n        }\r\n\r\n        return true;\r\n    }\r\n\r\n    expandAll(expand: boolean) {\r\n        this.setState({ isExpanded: expand, mustExpand: expand });\r\n    }\r\n\r\n    override render() {\r\n        let items = this.props.items;\r\n\r\n        const marginStyle = {\r\n            paddingLeft: 10 * (this.props.offset + 0.5) + \"px\",\r\n        };\r\n\r\n        if (!items) {\r\n            if (this.props.forceSubitems) {\r\n                items = [];\r\n            } else {\r\n                return (\r\n                    <div className=\"groupContainer\" style={marginStyle}>\r\n                        <div>{this.props.label}</div>\r\n                    </div>\r\n                );\r\n            }\r\n        }\r\n\r\n        if (!items.length) {\r\n            const contextMenuItems = ConvertToContextMenuItems(this.props.contextMenuItems);\r\n            const header = (\r\n                <div className=\"context-menu\" id={\"tree-item-context-menu-\" + TreeItemComponent._ContextMenuUniqueIdGenerator++}>\r\n                    <TreeItemRootHeaderComponent label={this.props.label} />\r\n                </div>\r\n            );\r\n            return (\r\n                <div className=\"groupContainer\" style={marginStyle}>\r\n                    {contextMenuItems.length > 0 ? (\r\n                        <FluentToolWrapper toolName=\"GUI Editor\" useFluent>\r\n                            <ContextMenu trigger={header} items={contextMenuItems} />\r\n                        </FluentToolWrapper>\r\n                    ) : (\r\n                        header\r\n                    )}\r\n                </div>\r\n            );\r\n        }\r\n\r\n        if (!this.state.isExpanded) {\r\n            const contextMenuItems = ConvertToContextMenuItems(this.props.contextMenuItems);\r\n            const header = (\r\n                <div className=\"context-menu\" id={\"tree-item-context-menu-\" + TreeItemComponent._ContextMenuUniqueIdGenerator++}>\r\n                    <TreeItemExpandableHeaderComponent\r\n                        isExpanded={false}\r\n                        label={this.props.label}\r\n                        onClick={() => this.switchExpandedState()}\r\n                        onExpandAll={(expand) => this.expandAll(expand)}\r\n                    />\r\n                </div>\r\n            );\r\n            return (\r\n                <div className=\"groupContainer\" style={marginStyle}>\r\n                    {contextMenuItems.length > 0 ? (\r\n                        <FluentToolWrapper toolName=\"GUI Editor\" useFluent>\r\n                            <ContextMenu trigger={header} items={contextMenuItems} />\r\n                        </FluentToolWrapper>\r\n                    ) : (\r\n                        header\r\n                    )}\r\n                </div>\r\n            );\r\n        }\r\n\r\n        const sortedItems = Tools.SortAndFilter(null, items)[0].getChildren();\r\n        return (\r\n            <div>\r\n                {sortedItems.map((item: { uniqueId: React.Key | null | undefined; name: React.Key | null | undefined }) => {\r\n                    return (\r\n                        <TreeItemSelectableComponent\r\n                            extensibilityGroups={this.props.extensibilityGroups}\r\n                            key={item.uniqueId !== undefined && item.uniqueId !== null ? item.uniqueId : item.name}\r\n                            offset={this.props.offset + 1}\r\n                            selectedEntities={this.props.selectedEntities}\r\n                            entity={item}\r\n                            globalState={this.props.globalState}\r\n                            filter={this.props.filter}\r\n                        />\r\n                    );\r\n                })}\r\n            </div>\r\n        );\r\n    }\r\n}\r\n","\n      import API from \"!../../../../../../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js\";\n      import domAPI from \"!../../../../../../node_modules/style-loader/dist/runtime/styleDomAPI.js\";\n      import insertFn from \"!../../../../../../node_modules/style-loader/dist/runtime/insertBySelector.js\";\n      import setAttributes from \"!../../../../../../node_modules/style-loader/dist/runtime/setAttributesWithoutAttributes.js\";\n      import insertStyleElement from \"!../../../../../../node_modules/style-loader/dist/runtime/insertStyleElement.js\";\n      import styleTagTransformFn from \"!../../../../../../node_modules/style-loader/dist/runtime/styleTagTransform.js\";\n      import content, * as namedExport from \"!!../../../../../../node_modules/css-loader/dist/cjs.js??ruleSet[1].rules[2].use[1]!../../../../../../node_modules/sass-loader/dist/cjs.js??ruleSet[1].rules[2].use[2]!./sceneExplorer.scss\";\n      \n      \n\nvar options = {};\n\noptions.styleTagTransform = styleTagTransformFn;\noptions.setAttributes = setAttributes;\n\n      options.insert = insertFn.bind(null, \"head\");\n    \noptions.domAPI = domAPI;\noptions.insertStyleElement = insertStyleElement;\n\nvar update = API(content, options);\n\n\n\nexport * from \"!!../../../../../../node_modules/css-loader/dist/cjs.js??ruleSet[1].rules[2].use[1]!../../../../../../node_modules/sass-loader/dist/cjs.js??ruleSet[1].rules[2].use[2]!./sceneExplorer.scss\";\n       export default content && content.locals ? content.locals : undefined;\n","import * as React from \"react\";\r\n\r\nimport type { Nullable } from \"core/types\";\r\nimport type { Observer } from \"core/Misc/observable\";\r\nimport type { IExplorerExtensibilityGroup } from \"core/Debug/debugLayer\";\r\nimport type { Scene } from \"core/scene\";\r\nimport { TreeItemComponent } from \"./treeItemComponent\";\r\nimport { Tools } from \"../../tools\";\r\nimport type { GlobalState } from \"../../globalState\";\r\nimport type { PropertyChangedEvent } from \"shared-ui-components/propertyChangedEvent\";\r\n\r\nimport \"./sceneExplorer.scss\";\r\nimport { Logger } from \"core/Misc/logger\";\r\nimport type { PropsWithChildren } from \"react\";\r\n\r\ninterface ISceneExplorerFilterComponentProps {\r\n    onFilter: (filter: string) => void;\r\n}\r\n\r\nexport class SceneExplorerFilterComponent extends React.Component<ISceneExplorerFilterComponentProps> {\r\n    constructor(props: ISceneExplorerFilterComponentProps) {\r\n        super(props);\r\n    }\r\n\r\n    override render() {\r\n        return (\r\n            <div className=\"filter\">\r\n                <input type=\"text\" placeholder=\"Filter\" onChange={(evt) => this.props.onFilter(evt.target.value)} />\r\n            </div>\r\n        );\r\n    }\r\n}\r\n\r\ninterface ISceneExplorerComponentProps {\r\n    scene?: Scene;\r\n    noCommands?: boolean;\r\n    noHeader?: boolean;\r\n    noExpand?: boolean;\r\n    noClose?: boolean;\r\n    extensibilityGroups?: IExplorerExtensibilityGroup[];\r\n    globalState: GlobalState;\r\n    popupMode?: boolean;\r\n    onPopup?: () => void;\r\n    onClose?: () => void;\r\n}\r\n\r\nexport class SceneExplorerComponent extends React.Component<\r\n    PropsWithChildren<ISceneExplorerComponentProps>,\r\n    { filter: Nullable<string>; selectedEntity: any; scene: Nullable<Scene> }\r\n> {\r\n    private _onSelectionChangeObserver: Nullable<Observer<any>>;\r\n    private _onParrentingChangeObserver: Nullable<Observer<any>>;\r\n    private _onNewSceneObserver: Nullable<Observer<Nullable<Scene>>>;\r\n    private _onPropertyChangedObservable: Nullable<Observer<PropertyChangedEvent>>;\r\n    private _onUpdateRequiredObserver: Nullable<Observer<void>>;\r\n\r\n    constructor(props: ISceneExplorerComponentProps) {\r\n        super(props);\r\n        this.state = { filter: null, selectedEntity: null, scene: this.props.scene ? this.props.scene : null };\r\n        this._onNewSceneObserver = this.props.globalState.onNewSceneObservable.add((scene: Nullable<Scene>) => {\r\n            this.setState({\r\n                scene,\r\n            });\r\n        });\r\n\r\n        this._onPropertyChangedObservable = this.props.globalState.onPropertyChangedObservable.add((event: PropertyChangedEvent) => {\r\n            if (event.property === \"name\" || event.property === \"_columnNumber\" || event.property === \"_rowNumber\") {\r\n                this.forceUpdate();\r\n            }\r\n        });\r\n        this._onUpdateRequiredObserver = this.props.globalState.onUpdateRequiredObservable.add(() => {\r\n            this.forceUpdate();\r\n        });\r\n    }\r\n\r\n    override componentDidMount() {\r\n        this._onSelectionChangeObserver = this.props.globalState.onSelectionChangedObservable.add((entity) => {\r\n            if (this.state.selectedEntity !== entity) {\r\n                this.setState({ selectedEntity: entity });\r\n            }\r\n        });\r\n\r\n        this.props.globalState.onSelectionChangedObservable.add(() => {\r\n            this.forceUpdate();\r\n        });\r\n\r\n        this._onParrentingChangeObserver = this.props.globalState.onParentingChangeObservable.add(() => {\r\n            this.forceUpdate();\r\n        });\r\n    }\r\n\r\n    override componentWillUnmount() {\r\n        if (this._onSelectionChangeObserver) {\r\n            this.props.globalState.onSelectionChangedObservable.remove(this._onSelectionChangeObserver);\r\n        }\r\n\r\n        if (this._onNewSceneObserver) {\r\n            this.props.globalState.onNewSceneObservable.remove(this._onNewSceneObserver);\r\n        }\r\n\r\n        if (this._onParrentingChangeObserver) {\r\n            this.props.globalState.onParentingChangeObservable.remove(this._onParrentingChangeObserver);\r\n        }\r\n\r\n        if (this._onPropertyChangedObservable) {\r\n            this.props.globalState.onPropertyChangedObservable.remove(this._onPropertyChangedObservable);\r\n        }\r\n\r\n        if (this._onUpdateRequiredObserver) {\r\n            this.props.globalState.onUpdateRequiredObservable.remove(this._onUpdateRequiredObserver);\r\n        }\r\n    }\r\n\r\n    filterContent(filter: string) {\r\n        this.setState({ filter: filter });\r\n    }\r\n\r\n    findSiblings(parent: any, items: any[], target: any, goNext: boolean, data: { previousOne?: any; found?: boolean }): boolean {\r\n        if (!items) {\r\n            return false;\r\n        }\r\n\r\n        const sortedItems = Tools.SortAndFilter(parent, items);\r\n\r\n        if (!items || sortedItems.length === 0) {\r\n            return false;\r\n        }\r\n\r\n        for (const item of sortedItems) {\r\n            if (item === target) {\r\n                // found the current selection!\r\n                data.found = true;\r\n                if (!goNext) {\r\n                    if (data.previousOne) {\r\n                        this.props.globalState.select(data.previousOne);\r\n                    }\r\n                    return true;\r\n                }\r\n            } else {\r\n                if (data.found) {\r\n                    this.props.globalState.select(item);\r\n                    return true;\r\n                }\r\n                data.previousOne = item;\r\n            }\r\n\r\n            if (item.getChildren && item.reservedDataStore && item.reservedDataStore.isExpanded) {\r\n                if (this.findSiblings(item, item.getChildren(), target, goNext, data)) {\r\n                    return true;\r\n                }\r\n            }\r\n        }\r\n\r\n        return false;\r\n    }\r\n\r\n    processKeys(keyEvent: React.KeyboardEvent<HTMLDivElement>) {\r\n        // if typing inside a text box, don't process keys\r\n        if ((keyEvent.target as HTMLElement).localName === \"input\") {\r\n            return;\r\n        }\r\n\r\n        const scene = this.state.scene;\r\n        let search = false;\r\n        let goNext = false;\r\n\r\n        switch (keyEvent.key) {\r\n            case \"ArrowUp\":\r\n                search = true;\r\n                break;\r\n            case \"ArrowDown\":\r\n                goNext = true;\r\n                search = true;\r\n                break;\r\n            case \"Enter\":\r\n            case \"ArrowRight\":\r\n                this.props.globalState.selectedControls.forEach((node) => {\r\n                    const reservedDataStore = (node as any).reservedDataStore;\r\n                    if (reservedDataStore && reservedDataStore.setExpandedState) {\r\n                        reservedDataStore.setExpandedState(true);\r\n                    }\r\n                });\r\n                keyEvent.preventDefault();\r\n                this.forceUpdate();\r\n                return;\r\n            case \"ArrowLeft\":\r\n                this.props.globalState.selectedControls.forEach((node) => {\r\n                    const reservedDataStore = (node as any).reservedDataStore;\r\n                    Logger.Log(reservedDataStore);\r\n                    if (reservedDataStore && reservedDataStore.setExpandedState) {\r\n                        reservedDataStore.setExpandedState(false);\r\n                    }\r\n                });\r\n                keyEvent.preventDefault();\r\n                this.forceUpdate();\r\n                return;\r\n            case \"Delete\":\r\n            case \"Backspace\":\r\n                this.props.globalState.deleteSelectedNodes();\r\n                this.forceUpdate();\r\n                break;\r\n        }\r\n\r\n        if (!search) {\r\n            return;\r\n        }\r\n\r\n        keyEvent.preventDefault();\r\n        if (scene) {\r\n            const selectedEntity = this.props.globalState.selectedControls[this.props.globalState.selectedControls.length - 1];\r\n            const data = {};\r\n            if (!this.findSiblings(null, scene.rootNodes, selectedEntity, goNext, data)) {\r\n                if (!this.findSiblings(null, scene.materials, selectedEntity, goNext, data)) {\r\n                    this.findSiblings(null, scene.textures, selectedEntity, goNext, data);\r\n                }\r\n            }\r\n        }\r\n    }\r\n\r\n    renderContent() {\r\n        const scene = this.state.scene;\r\n\r\n        if (!scene) {\r\n            return null;\r\n        }\r\n\r\n        const guiElements = [this.props.globalState.guiTexture];\r\n\r\n        return (\r\n            <div\r\n                id=\"tree\"\r\n                onDrop={() => {\r\n                    this.props.globalState.onDropObservable.notifyObservers();\r\n                    this.props.globalState.onParentingChangeObservable.notifyObservers(null);\r\n                }}\r\n                onDragOver={(event) => {\r\n                    event.preventDefault();\r\n                }}\r\n                onClick={() => {\r\n                    if (!this.props.globalState.selectionLock) {\r\n                        this.props.globalState.setSelection([]);\r\n                    } else {\r\n                        this.props.globalState.selectionLock = false;\r\n                    }\r\n                }}\r\n                onContextMenu={(ev) => ev.preventDefault()}\r\n            >\r\n                {guiElements && guiElements.length > 0 && (\r\n                    <TreeItemComponent\r\n                        globalState={this.props.globalState}\r\n                        extensibilityGroups={this.props.extensibilityGroups}\r\n                        selectedEntities={this.props.globalState.selectedControls}\r\n                        items={guiElements}\r\n                        label=\"GUI\"\r\n                        offset={1}\r\n                        filter={this.state.filter}\r\n                    />\r\n                )}\r\n            </div>\r\n        );\r\n    }\r\n\r\n    onClose() {\r\n        if (!this.props.onClose) {\r\n            return;\r\n        }\r\n\r\n        this.props.onClose();\r\n    }\r\n\r\n    onPopup() {\r\n        if (!this.props.onPopup) {\r\n            return;\r\n        }\r\n\r\n        this.props.onPopup();\r\n    }\r\n\r\n    override render() {\r\n        return (\r\n            <div id=\"ge-sceneExplorer\" tabIndex={0} onKeyDown={(keyEvent) => this.processKeys(keyEvent)}>\r\n                {this.props.children}\r\n                {this.renderContent()}\r\n            </div>\r\n        );\r\n    }\r\n}\r\n","import * as React from \"react\";\r\nimport type { GlobalState } from \"../globalState\";\r\nimport { FileButtonLine } from \"shared-ui-components/lines/fileButtonLineComponent\";\r\n\r\ninterface ICommandDropdownComponentProps {\r\n    globalState: GlobalState;\r\n    icon?: string;\r\n    tooltip: string;\r\n    defaultValue?: string;\r\n    items: {\r\n        label: string;\r\n        icon?: string;\r\n        fileButton?: boolean;\r\n        loadControlButton?: boolean;\r\n        onClick?: () => void;\r\n        onCheck?: (value: boolean) => void;\r\n        storeKey?: string;\r\n        isActive?: boolean;\r\n        defaultValue?: boolean | string;\r\n        subItems?: string[];\r\n    }[];\r\n    toRight?: boolean;\r\n}\r\n\r\nexport class CommandDropdownComponent extends React.Component<ICommandDropdownComponentProps, { isExpanded: boolean; activeState: string }> {\r\n    public constructor(props: ICommandDropdownComponentProps) {\r\n        super(props);\r\n\r\n        this.state = { isExpanded: false, activeState: \"\" };\r\n    }\r\n\r\n    public override render() {\r\n        return (\r\n            <>\r\n                {this.state.isExpanded && (\r\n                    <div\r\n                        className=\"command-dropdown-blocker\"\r\n                        onClick={() => {\r\n                            this.setState({ isExpanded: false });\r\n                        }}\r\n                    ></div>\r\n                )}\r\n                <div className=\"command-dropdown-root\">\r\n                    <div\r\n                        className={\"command-dropdown\" + (this.state.isExpanded ? \" activated\" : \"\")}\r\n                        title={this.props.tooltip}\r\n                        onClick={() => {\r\n                            this.setState({ isExpanded: false });\r\n                            const newState = !this.state.isExpanded;\r\n                            const pgHost = document.getElementById(\"embed-host\");\r\n\r\n                            if (pgHost) {\r\n                                pgHost.style.zIndex = newState ? \"0\" : \"10\";\r\n                            }\r\n\r\n                            this.setState({ isExpanded: newState });\r\n                        }}\r\n                    >\r\n                        {this.props.icon && (\r\n                            <div className=\"command-dropdown-icon\">\r\n                                <img src={this.props.icon} />\r\n                            </div>\r\n                        )}\r\n                        {!this.props.icon && <div className=\"command-dropdown-active\"></div>}\r\n                    </div>\r\n                    {this.state.isExpanded && (\r\n                        <div className={\"command-dropdown-content sub1\" + (this.props.toRight ? \" toRight\" : \"\")}>\r\n                            {this.props.items.map((m) => {\r\n                                if (!m.fileButton) {\r\n                                    return (\r\n                                        <div\r\n                                            className={\"command-dropdown-label\" + (m.isActive ? \" active\" : \"\")}\r\n                                            key={m.label}\r\n                                            onClick={() => {\r\n                                                if (!m.onClick) {\r\n                                                    this.forceUpdate();\r\n                                                    return;\r\n                                                }\r\n                                                if (!m.subItems) {\r\n                                                    m.onClick();\r\n\r\n                                                    this.setState({ isExpanded: false, activeState: m.label });\r\n                                                }\r\n                                            }}\r\n                                            title={m.label}\r\n                                        >\r\n                                            {!m.icon && <div className=\"command-dropdown-label-text\">{(m.isActive ? \"> \" : \"\") + m.label}</div>}\r\n                                            {m.icon && (\r\n                                                <div className=\"command-dropdown-icon\">\r\n                                                    <img src={m.icon} />\r\n                                                </div>\r\n                                            )}\r\n                                            {m.onCheck && (\r\n                                                <input\r\n                                                    type=\"checkBox\"\r\n                                                    className=\"command-dropdown-label-check\"\r\n                                                    onChange={(evt) => {\r\n                                                        this.forceUpdate();\r\n                                                        m.onCheck!(evt.target.checked);\r\n                                                    }}\r\n                                                    checked={false}\r\n                                                />\r\n                                            )}\r\n                                            {m.subItems && <div className=\"command-dropdown-arrow\">{\">\"}</div>}\r\n                                            {m.subItems && (\r\n                                                <div className={\"sub-items \"}>\r\n                                                    {m.subItems.map((s) => {\r\n                                                        return (\r\n                                                            <div\r\n                                                                key={s}\r\n                                                                className={\"sub-item\"}\r\n                                                                onClick={() => {\r\n                                                                    m.onClick!();\r\n                                                                    this.setState({ isExpanded: false });\r\n                                                                }}\r\n                                                            >\r\n                                                                <div className=\"sub-item-label\">{s}</div>\r\n                                                            </div>\r\n                                                        );\r\n                                                    })}\r\n                                                </div>\r\n                                            )}\r\n                                        </div>\r\n                                    );\r\n                                } else {\r\n                                    return (\r\n                                        <FileButtonLine\r\n                                            key={m.label}\r\n                                            label={!m.loadControlButton ? \"Load\" : \"Load control\"}\r\n                                            onClick={(file) => this.props.globalState[!m.loadControlButton ? \"onLoadObservable\" : \"onControlLoadObservable\"].notifyObservers(file)}\r\n                                            accept=\".json\"\r\n                                        />\r\n                                    );\r\n                                }\r\n                            })}\r\n                        </div>\r\n                    )}\r\n                </div>\r\n            </>\r\n        );\r\n    }\r\n}\r\n","\n      import API from \"!../../../../../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js\";\n      import domAPI from \"!../../../../../node_modules/style-loader/dist/runtime/styleDomAPI.js\";\n      import insertFn from \"!../../../../../node_modules/style-loader/dist/runtime/insertBySelector.js\";\n      import setAttributes from \"!../../../../../node_modules/style-loader/dist/runtime/setAttributesWithoutAttributes.js\";\n      import insertStyleElement from \"!../../../../../node_modules/style-loader/dist/runtime/insertStyleElement.js\";\n      import styleTagTransformFn from \"!../../../../../node_modules/style-loader/dist/runtime/styleTagTransform.js\";\n      import content, * as namedExport from \"!!../../../../../node_modules/css-loader/dist/cjs.js??ruleSet[1].rules[2].use[1]!../../../../../node_modules/sass-loader/dist/cjs.js??ruleSet[1].rules[2].use[2]!./commandBar.scss\";\n      \n      \n\nvar options = {};\n\noptions.styleTagTransform = styleTagTransformFn;\noptions.setAttributes = setAttributes;\n\n      options.insert = insertFn.bind(null, \"head\");\n    \noptions.domAPI = domAPI;\noptions.insertStyleElement = insertStyleElement;\n\nvar update = API(content, options);\n\n\n\nexport * from \"!!../../../../../node_modules/css-loader/dist/cjs.js??ruleSet[1].rules[2].use[1]!../../../../../node_modules/sass-loader/dist/cjs.js??ruleSet[1].rules[2].use[2]!./commandBar.scss\";\n       export default content && content.locals ? content.locals : undefined;\n","import { DataStorage } from \"core/Misc/dataStorage\";\r\nimport * as React from \"react\";\r\nimport type { GlobalState } from \"../globalState\";\r\nimport { GUIEditorTool } from \"../globalState\";\r\nimport { FloatLineComponent } from \"shared-ui-components/lines/floatLineComponent\";\r\nimport { CheckBoxLineComponent } from \"shared-ui-components/lines/checkBoxLineComponent\";\r\nimport { OptionsLine } from \"shared-ui-components/lines/optionsLineComponent\";\r\nimport { CommandButtonComponent } from \"./commandButtonComponent\";\r\nimport { CommandDropdownComponent } from \"./commandDropdownComponent\";\r\nimport { ColorLine } from \"shared-ui-components/lines/colorLineComponent\";\r\nimport { LockObject } from \"shared-ui-components/tabs/propertyGrids/lockObject\";\r\n\r\nimport hamburgerIcon from \"../imgs/hamburgerIcon.svg\";\r\nimport pointerIcon from \"../imgs/pointerIcon.svg\";\r\nimport handIcon from \"../imgs/handIcon.svg\";\r\nimport zoomIcon from \"../imgs/zoomIcon.svg\";\r\nimport guidesIcon from \"../imgs/guidesIcon.svg\";\r\nimport logoIcon from \"../imgs/babylonLogo.svg\";\r\nimport canvasFitIcon from \"../imgs/canvasFitIcon.svg\";\r\nimport copyIcon from \"../imgs/buttonbar_copyIcon.svg\";\r\nimport pasteIcon from \"../imgs/buttonbar_pasteIcon.svg\";\r\nimport deleteIcon from \"../imgs/buttonBar_deleteIcon.svg\";\r\nimport copyIconDisabled from \"../imgs/buttonbar_copyIcon_disabled.svg\";\r\nimport pasteIconDisabled from \"../imgs/buttonbar_pasteIcon_disabled.svg\";\r\nimport deleteIconDisabled from \"../imgs/buttonBar_deleteIcon_disabled.svg\";\r\n\r\nimport \"../scss/commandBar.scss\";\r\n\r\ninterface ICommandBarComponentProps {\r\n    globalState: GlobalState;\r\n}\r\n\r\nconst SizeValues = [\r\n    { width: 1920, height: 1080 },\r\n    { width: 1366, height: 768 },\r\n    { width: 1280, height: 800 },\r\n    { width: 3840, height: 2160 },\r\n    { width: 750, height: 1334 },\r\n    { width: 1125, height: 2436 },\r\n    { width: 1170, height: 2532 },\r\n    { width: 1284, height: 2778 },\r\n    { width: 1080, height: 2220 },\r\n    { width: 1080, height: 2340 },\r\n    { width: 1024, height: 1024 },\r\n    { width: 2048, height: 2048 },\r\n];\r\n\r\nconst SizeOptions = [\r\n    { label: \"Web (1920)\", value: 0 },\r\n    { label: \"Web (1366)\", value: 1 },\r\n    { label: \"Web (1280)\", value: 2 },\r\n    { label: \"Web (3840)\", value: 3 },\r\n    { label: \"iPhone 8 (750)\", value: 4 },\r\n    { label: \"iPhone X, 11 (1125)\", value: 5 },\r\n    { label: \"iPhone 12 (1170)\", value: 6 },\r\n    { label: \"iPhone Pro Max (1284)\", value: 7 },\r\n    { label: \"Google Pixel 4 (1080)\", value: 8 },\r\n    { label: \"Google Pixel 5 (1080)\", value: 9 },\r\n    { label: \"Square (1024)\", value: 10 },\r\n    { label: \"Square (2048)\", value: 11 },\r\n];\r\n\r\n// eslint-disable-next-line @typescript-eslint/naming-convention\r\nconst MAX_TEXTURE_SIZE = 16384; //2^14\r\n\r\nexport class CommandBarComponent extends React.Component<ICommandBarComponentProps> {\r\n    private _sizeOption: number = 0;\r\n    private _stopUpdating: boolean = false;\r\n    private _lockObject: LockObject;\r\n\r\n    public constructor(props: ICommandBarComponentProps) {\r\n        super(props);\r\n\r\n        this._lockObject = new LockObject();\r\n\r\n        props.globalState.onToolChangeObservable.add(() => {\r\n            this.forceUpdate();\r\n        });\r\n\r\n        props.globalState.onOutlineChangedObservable.add(() => {\r\n            this.forceUpdate();\r\n        });\r\n\r\n        props.globalState.onResizeObservable.add(() => {\r\n            this.forceUpdate();\r\n        });\r\n        props.globalState.onSelectionChangedObservable.add(() => {\r\n            this.forceUpdate();\r\n        });\r\n        props.globalState.onWindowResizeObservable.add(() => {\r\n            this.forceUpdate();\r\n        });\r\n    }\r\n\r\n    public override render() {\r\n        const isPasteDisabled = this.props.globalState.workbench ? this.props.globalState.workbench.pasteDisabled : true;\r\n        const size = this.props.globalState.workbench ? { ...this.props.globalState.workbench.guiSize } : { width: 0, height: 0 };\r\n        const copyyIcon = this.props.globalState.selectedControls.length === 0 ? copyIconDisabled : copyIcon;\r\n        const deleteeIcon = this.props.globalState.selectedControls.length === 0 ? deleteIconDisabled : deleteIcon;\r\n        const pasteeIcon = isPasteDisabled ? pasteIconDisabled : pasteIcon;\r\n\r\n        const responsiveUI = this.props.globalState.fromPG ? DataStorage.ReadBoolean(\"responsiveUI\", true) : DataStorage.ReadBoolean(\"Responsive\", true);\r\n\r\n        this._sizeOption = SizeValues.findIndex((value) => value.width == size.width && value.height == size.height);\r\n        if (this._sizeOption < 0) {\r\n            this.props.globalState.onResponsiveChangeObservable.notifyObservers(false);\r\n            DataStorage.WriteBoolean(\"Responsive\", false);\r\n        }\r\n\r\n        return (\r\n            <div className={\"ge-commands\"}>\r\n                <div className=\"commands-left\">\r\n                    <div className=\"divider\">\r\n                        <img src={logoIcon} color=\"white\" className={\"active\"} draggable={false} />\r\n                        <CommandDropdownComponent\r\n                            globalState={this.props.globalState}\r\n                            toRight={true}\r\n                            icon={hamburgerIcon}\r\n                            tooltip=\"Options\"\r\n                            items={[\r\n                                {\r\n                                    label: \"Save\",\r\n                                    onClick: () => {\r\n                                        this.props.globalState.onSaveObservable.notifyObservers();\r\n                                    },\r\n                                },\r\n                                {\r\n                                    label: \"Load\",\r\n                                    fileButton: true,\r\n                                },\r\n                                {\r\n                                    label: \"Save to snippet\",\r\n                                    onClick: () => {\r\n                                        this.props.globalState.onSnippetSaveObservable.notifyObservers();\r\n                                    },\r\n                                },\r\n                                {\r\n                                    label: \"Load from snippet\",\r\n                                    onClick: () => {\r\n                                        this.props.globalState.onSnippetLoadObservable.notifyObservers();\r\n                                    },\r\n                                },\r\n                                {\r\n                                    label: \"Save selected control\",\r\n                                    onClick: () => {\r\n                                        this.props.globalState.onSaveSelectedControl.notifyObservers();\r\n                                    },\r\n                                },\r\n                                {\r\n                                    label: \"Load control\",\r\n                                    fileButton: true,\r\n                                    loadControlButton: true,\r\n                                },\r\n                                {\r\n                                    label: \"Help\",\r\n                                    onClick: () => {\r\n                                        window.open(\"https://doc.babylonjs.com/toolsAndResources/guiEditor\", \"_blank\");\r\n                                    },\r\n                                },\r\n                                {\r\n                                    label: \"Give feedback\",\r\n                                    onClick: () => {\r\n                                        window.open(\"https://forum.babylonjs.com/t/introducing-the-gui-editor-beta/28943\", \"_blank\");\r\n                                    },\r\n                                },\r\n                            ]}\r\n                        />\r\n                        <CommandButtonComponent\r\n                            tooltip=\"Select\"\r\n                            icon={pointerIcon}\r\n                            shortcut=\"S\"\r\n                            isActive={this.props.globalState.tool === GUIEditorTool.SELECT}\r\n                            onClick={() => {\r\n                                this.props.globalState.tool = GUIEditorTool.SELECT;\r\n                            }}\r\n                        />\r\n                        <CommandButtonComponent\r\n                            tooltip=\"Pan\"\r\n                            icon={handIcon}\r\n                            shortcut=\"P\"\r\n                            isActive={this.props.globalState.tool === GUIEditorTool.PAN}\r\n                            onClick={() => {\r\n                                this.props.globalState.tool = GUIEditorTool.PAN;\r\n                            }}\r\n                        />\r\n                        <CommandButtonComponent\r\n                            tooltip=\"Zoom\"\r\n                            shortcut=\"Z\"\r\n                            icon={zoomIcon}\r\n                            isActive={this.props.globalState.tool === GUIEditorTool.ZOOM}\r\n                            onClick={() => {\r\n                                this.props.globalState.tool = GUIEditorTool.ZOOM;\r\n                            }}\r\n                        />\r\n                    </div>\r\n                    <div className=\"divider\">\r\n                        <CommandButtonComponent\r\n                            tooltip=\"Copy Selected\"\r\n                            shortcut=\"Ctrl + C\"\r\n                            icon={copyyIcon}\r\n                            isActive={false}\r\n                            copyDeleteDisabled={this.props.globalState.selectedControls.length === 0} //disabled when nothing is selected\r\n                            onClick={() => {\r\n                                this.props.globalState.onCopyObservable.notifyObservers(\r\n                                    // eslint-disable-next-line @typescript-eslint/no-misused-promises\r\n                                    async (content) => await this.props.globalState.hostWindow.navigator.clipboard.writeText(content)\r\n                                );\r\n                                this.forceUpdate();\r\n                            }}\r\n                        />\r\n                        <CommandButtonComponent\r\n                            tooltip=\"Paste\"\r\n                            shortcut=\"Ctrl + V\"\r\n                            icon={pasteeIcon}\r\n                            isActive={false}\r\n                            pasteDisabled={isPasteDisabled}\r\n                            // eslint-disable-next-line @typescript-eslint/no-misused-promises\r\n                            onClick={async () => {\r\n                                this.props.globalState.onPasteObservable.notifyObservers(await this.props.globalState.hostWindow.navigator.clipboard.readText());\r\n                            }}\r\n                        />\r\n                        <CommandButtonComponent\r\n                            tooltip=\"Delete\"\r\n                            shortcut=\"Delete\"\r\n                            icon={deleteeIcon}\r\n                            isActive={false}\r\n                            copyDeleteDisabled={this.props.globalState.selectedControls.length === 0} //disabled when nothing is selected\r\n                            onClick={() => {\r\n                                for (const guiNode of this.props.globalState.selectedControls) {\r\n                                    if (guiNode != this.props.globalState.guiTexture.getChildren()[0]) {\r\n                                        this.props.globalState.guiTexture.removeControl(guiNode);\r\n                                        this.props.globalState.liveGuiTexture?.removeControl(guiNode);\r\n                                        guiNode.dispose();\r\n                                    }\r\n                                }\r\n                                this.props.globalState.setSelection([]);\r\n                            }}\r\n                        />\r\n                    </div>\r\n                    <div className=\"divider\">\r\n                        <CommandButtonComponent\r\n                            tooltip=\"Fit to Window\"\r\n                            shortcut=\"F\"\r\n                            icon={canvasFitIcon}\r\n                            isActive={false}\r\n                            onClick={() => {\r\n                                this.props.globalState.onFitControlsToWindowObservable.notifyObservers();\r\n                            }}\r\n                        />\r\n                        <CommandButtonComponent\r\n                            tooltip=\"Toggle Guides\"\r\n                            shortcut=\"G\"\r\n                            icon={guidesIcon}\r\n                            isActive={this.props.globalState.outlines}\r\n                            onClick={() => (this.props.globalState.outlines = !this.props.globalState.outlines)}\r\n                        />\r\n                    </div>\r\n                    <div className=\"divider padded\">\r\n                        <ColorLine lockObject={this._lockObject} label={\"Artboard:\"} target={this.props.globalState} propertyName=\"backgroundColor\" disableAlpha={true} />\r\n                    </div>\r\n                    <div className=\"divider padded\">\r\n                        <CheckBoxLineComponent\r\n                            label=\"Responsive:\"\r\n                            iconLabel=\"Responsive GUIs will resize the UI layout and reflow controls to accommodate different device screen sizes\"\r\n                            isSelected={() => DataStorage.ReadBoolean(\"Responsive\", true)}\r\n                            onSelect={(value: boolean) => {\r\n                                this.props.globalState.onResponsiveChangeObservable.notifyObservers(value);\r\n                                DataStorage.WriteBoolean(\"Responsive\", value);\r\n                                DataStorage.WriteBoolean(\"responsiveUI\", value);\r\n                                this._sizeOption = SizeOptions.length;\r\n                                if (value) {\r\n                                    this._sizeOption = 0;\r\n                                    this.props.globalState.workbench.guiSize = SizeValues[this._sizeOption];\r\n                                    DataStorage.WriteNumber(\"width\", this.props.globalState.workbench.guiSize.width);\r\n                                    DataStorage.WriteNumber(\"height\", this.props.globalState.workbench.guiSize.height);\r\n                                }\r\n                                this.forceUpdate();\r\n                            }}\r\n                            large\r\n                        />\r\n                        {responsiveUI && (\r\n                            <OptionsLine\r\n                                label=\"\"\r\n                                iconLabel=\"Size\"\r\n                                options={SizeOptions}\r\n                                target={this}\r\n                                propertyName={\"_sizeOption\"}\r\n                                noDirectUpdate={true}\r\n                                onSelect={(value: any) => {\r\n                                    this._sizeOption = value;\r\n                                    if (this._sizeOption !== SizeOptions.length) {\r\n                                        const newSize = SizeValues[this._sizeOption];\r\n                                        this.props.globalState.workbench.guiSize = newSize;\r\n                                        DataStorage.WriteNumber(\"width\", this.props.globalState.workbench.guiSize.width);\r\n                                        DataStorage.WriteNumber(\"height\", this.props.globalState.workbench.guiSize.height);\r\n                                    }\r\n                                    this.forceUpdate();\r\n                                }}\r\n                            />\r\n                        )}\r\n                        {!responsiveUI && (\r\n                            <>\r\n                                <FloatLineComponent\r\n                                    lockObject={this._lockObject}\r\n                                    label=\"W\"\r\n                                    target={size}\r\n                                    propertyName=\"width\"\r\n                                    min={1}\r\n                                    max={MAX_TEXTURE_SIZE}\r\n                                    onChange={(newValue) => {\r\n                                        if (!this._stopUpdating) {\r\n                                            this.props.globalState.workbench.guiSize = { width: newValue, height: size.height };\r\n                                            DataStorage.WriteNumber(\"width\", this.props.globalState.workbench.guiSize.width);\r\n                                        }\r\n                                    }}\r\n                                    onDragStart={() => {\r\n                                        this._stopUpdating = true;\r\n                                    }}\r\n                                    onDragStop={(newValue) => {\r\n                                        this._stopUpdating = false;\r\n                                        this.props.globalState.workbench.guiSize = { width: newValue, height: size.height };\r\n                                        DataStorage.WriteNumber(\"width\", this.props.globalState.workbench.guiSize.width);\r\n                                    }}\r\n                                    arrows={true}\r\n                                    isInteger={true}\r\n                                />\r\n                                <FloatLineComponent\r\n                                    lockObject={this._lockObject}\r\n                                    label=\"H\"\r\n                                    target={size}\r\n                                    propertyName=\"height\"\r\n                                    min={1}\r\n                                    max={MAX_TEXTURE_SIZE}\r\n                                    onChange={(newValue) => {\r\n                                        if (!this._stopUpdating) {\r\n                                            this.props.globalState.workbench.guiSize = { width: size.width, height: newValue };\r\n                                            DataStorage.WriteNumber(\"height\", this.props.globalState.workbench.guiSize.width);\r\n                                        }\r\n                                    }}\r\n                                    onDragStart={() => {\r\n                                        this._stopUpdating = true;\r\n                                    }}\r\n                                    onDragStop={(newValue) => {\r\n                                        this._stopUpdating = false;\r\n                                        this.props.globalState.workbench.guiSize = { width: size.width, height: newValue };\r\n                                        DataStorage.WriteNumber(\"height\", this.props.globalState.workbench.guiSize.width);\r\n                                    }}\r\n                                    arrows={true}\r\n                                    isInteger={true}\r\n                                />\r\n                            </>\r\n                        )}\r\n                    </div>\r\n                </div>\r\n                <div className=\"commands-right\"></div>\r\n            </div>\r\n        );\r\n    }\r\n}\r\n","import type { Vector2 } from \"core/Maths/math\";\r\nimport * as React from \"react\";\r\n\r\n// which side of the bounding box are we on?\r\nexport enum ScalePointPosition {\r\n    Top = -1,\r\n    Left = -1,\r\n    Center = 0,\r\n    Right = 1,\r\n    Bottom = 1,\r\n}\r\n\r\n// a single gizmo scale point on the bounding box\r\nexport interface IScalePoint {\r\n    position: Vector2;\r\n    horizontalPosition: ScalePointPosition;\r\n    verticalPosition: ScalePointPosition;\r\n    rotation: number;\r\n    isPivot: boolean;\r\n    defaultRotation: number;\r\n    id?: number;\r\n}\r\n\r\ninterface IGizmoScalePointProps {\r\n    scalePoint: IScalePoint;\r\n    clickable: boolean;\r\n    key: number;\r\n    onDrag: (event?: React.PointerEvent<HTMLDivElement>, scalePoint?: IScalePoint) => void;\r\n    onRotate: (event?: React.PointerEvent<HTMLDivElement>, scalePoint?: IScalePoint) => void;\r\n    onUp: () => void;\r\n    overrideCursor?: string;\r\n    canRotate: boolean;\r\n    allowClickOnPivot?: boolean;\r\n}\r\n\r\nimport gizmoPivotIcon from \"../imgs/gizmoPivotIcon.svg\";\r\n\r\n// load in custom cursor icons\r\nimport cursorScaleDiagonalLeftIcon from \"../imgs/cursor_scaleDiagonalLeft.svg\";\r\nimport cursorScaleDiagonalRightIcon from \"../imgs/cursor_scaleDiagonalRight.svg\";\r\nimport cursorScaleHorizontalIcon from \"../imgs/cursor_scaleHorizontal.svg\";\r\nimport cursorScaleVerticalIcon from \"../imgs/cursor_scaleVertical.svg\";\r\n\r\nimport cursorRotate0 from \"../imgs/cursor_rotate0.svg\";\r\nimport cursorRotate1 from \"../imgs/cursor_rotate1.svg\";\r\nimport cursorRotate2 from \"../imgs/cursor_rotate2.svg\";\r\nimport cursorRotate3 from \"../imgs/cursor_rotate3.svg\";\r\nimport cursorRotate4 from \"../imgs/cursor_rotate4.svg\";\r\nimport cursorRotate5 from \"../imgs/cursor_rotate5.svg\";\r\nimport cursorRotate6 from \"../imgs/cursor_rotate6.svg\";\r\nimport cursorRotate7 from \"../imgs/cursor_rotate7.svg\";\r\n\r\n// load in custom cursor icons\r\nconst CursorScaleDiagonaLeft: string = `url(\"${cursorScaleDiagonalLeftIcon}\") 12 12, nwse-resize`;\r\nconst CursorScaleDiagonalRight: string = `url(\"${cursorScaleDiagonalRightIcon}\") 12 12, nesw-resize`;\r\nconst CursorScaleHorizontal: string = `url(\"${cursorScaleHorizontalIcon}\") 12 12, pointer`;\r\nconst CursorScaleVertical: string = `url(\"${cursorScaleVerticalIcon}\") 12 12, ns-resize`;\r\nconst ScalePointCursors = [\r\n    CursorScaleVertical,\r\n    CursorScaleDiagonalRight,\r\n    CursorScaleHorizontal,\r\n    CursorScaleDiagonaLeft,\r\n    CursorScaleVertical,\r\n    CursorScaleDiagonalRight,\r\n    CursorScaleHorizontal,\r\n    CursorScaleDiagonaLeft,\r\n];\r\nconst RotateCursors = [cursorRotate0, cursorRotate1, cursorRotate2, cursorRotate3, cursorRotate4, cursorRotate5, cursorRotate6, cursorRotate7].map(\r\n    (cursor) => `url(\"${cursor}\") 12 12, pointer`\r\n);\r\n\r\nconst Modulo = (dividend: number, divisor: number) => ((dividend % divisor) + divisor) % divisor;\r\n\r\nexport function GizmoScalePoint(props: IGizmoScalePointProps) {\r\n    const { scalePoint, clickable, onDrag, onRotate, onUp, overrideCursor, canRotate, allowClickOnPivot } = props;\r\n\r\n    const style: React.CSSProperties = {\r\n        left: `${scalePoint.position.x}px`,\r\n        top: `${scalePoint.position.y}px`,\r\n        transform: \"translate(-50%, -50%) rotate(\" + scalePoint.rotation + \"deg)\",\r\n        pointerEvents: clickable ? \"auto\" : \"none\",\r\n    };\r\n\r\n    if (scalePoint.isPivot) {\r\n        return (\r\n            <img\r\n                className=\"pivot-point\"\r\n                src={gizmoPivotIcon}\r\n                style={style}\r\n                onDragStart={(evt) => evt.preventDefault()}\r\n                onPointerDown={(event) => {\r\n                    if (allowClickOnPivot) {\r\n                        onDrag(event, scalePoint);\r\n                    }\r\n                }}\r\n                onPointerUp={() => {\r\n                    if (allowClickOnPivot) {\r\n                        onUp();\r\n                    }\r\n                }}\r\n            />\r\n        );\r\n    }\r\n    // compute which cursor icon to use on hover\r\n    const angleOfCursor = scalePoint.defaultRotation + scalePoint.rotation;\r\n    const angleAdjusted = Modulo(angleOfCursor, 360);\r\n    const increment = 45;\r\n    const cursorIndex = Math.round(angleAdjusted / increment) % 8;\r\n    const cursor = overrideCursor || ScalePointCursors[cursorIndex];\r\n    const scalePointContainerSize = 30; // .scale-point-container width/height in px\r\n    const rotateClickAreaSize = 20; // .rotate-click-area width/height\r\n    const rotateClickAreaOffset = 7; // how much to offset the invisible rotate click area from the center\r\n    const rotateClickAreaStyle = {\r\n        top: (scalePointContainerSize - rotateClickAreaSize) / 2 + rotateClickAreaOffset * scalePoint.verticalPosition,\r\n        left: (scalePointContainerSize - rotateClickAreaSize) / 2 + rotateClickAreaOffset * scalePoint.horizontalPosition,\r\n        cursor: RotateCursors[cursorIndex],\r\n    };\r\n    const scaleClickAreaSize = 20; // .scale-click-area width/height\r\n    const scaleClickAreaOffset = 5; // how much to offset the invisible scale click area from the center\r\n    const scaleClickAreaStyle = {\r\n        top: (scalePointContainerSize - scaleClickAreaSize) / 2 - scaleClickAreaOffset * scalePoint.verticalPosition,\r\n        left: (scalePointContainerSize - scaleClickAreaSize) / 2 - scaleClickAreaOffset * scalePoint.horizontalPosition,\r\n        cursor,\r\n    };\r\n    return (\r\n        <div style={style} className=\"scale-point-container\">\r\n            {canRotate && (\r\n                <div\r\n                    className=\"rotate-click-area\"\r\n                    onPointerDown={(event) => {\r\n                        onRotate(event, scalePoint);\r\n                    }}\r\n                    style={rotateClickAreaStyle}\r\n                ></div>\r\n            )}\r\n            <div\r\n                className=\"scale-click-area\"\r\n                draggable={true}\r\n                onDragStart={(evt) => evt.preventDefault()}\r\n                onPointerDown={(event) => {\r\n                    // if left mouse button down\r\n                    if (event.buttons & 1) {\r\n                        onDrag(event, scalePoint);\r\n                    }\r\n                }}\r\n                onPointerUp={onUp}\r\n                style={scaleClickAreaStyle}\r\n            ></div>\r\n            <div\r\n                className=\"scale-point\"\r\n                draggable={true}\r\n                onDragStart={(evt) => evt.preventDefault()}\r\n                onPointerDown={(event) => {\r\n                    if (event.buttons & 1) {\r\n                        onDrag(event, scalePoint);\r\n                    }\r\n                }}\r\n                onPointerUp={onUp}\r\n                style={{ cursor }}\r\n            ></div>\r\n        </div>\r\n    );\r\n}\r\n","import { Control } from \"gui/2D/controls/control\";\r\nimport { Vector2 } from \"core/Maths/math.vector\";\r\nimport * as React from \"react\";\r\nimport type { GlobalState } from \"../globalState\";\r\nimport type { Image } from \"gui/2D/controls/image\";\r\nimport type { TextBlock } from \"gui/2D/controls/textBlock\";\r\nimport type { DimensionProperties } from \"./coordinateHelper\";\r\nimport { CoordinateHelper, Rect } from \"./coordinateHelper\";\r\nimport type { Observer } from \"core/Misc/observable\";\r\nimport type { Nullable } from \"core/types\";\r\nimport { ValueAndUnit } from \"gui/2D/valueAndUnit\";\r\nimport type { IScalePoint } from \"./gizmoScalePoint\";\r\nimport { GizmoScalePoint, ScalePointPosition } from \"./gizmoScalePoint\";\r\nimport { MathTools } from \"gui/2D/math2D\";\r\n\r\nexport interface IGuiGizmoProps {\r\n    globalState: GlobalState;\r\n    control: Control;\r\n}\r\n\r\ninterface IGuiGizmoState {\r\n    canvasBounds: Rect;\r\n    scalePoints: IScalePoint[];\r\n    scalePointDragging: number;\r\n    isRotating: boolean;\r\n}\r\n\r\nconst RoundFactor = 100;\r\nconst Round = (value: number) => Math.round(value * RoundFactor) / RoundFactor;\r\n\r\nconst Modulo = (dividend: number, divisor: number) => ((dividend % divisor) + divisor) % divisor;\r\n\r\n// this defines the lines that link the corners, making up the bounding box\r\nconst Lines = [\r\n    [0, 2],\r\n    [0, 6],\r\n    [2, 8],\r\n    [6, 8],\r\n];\r\n\r\n// used to calculate which cursor icon we should display for the scalepoints\r\nconst DefaultScalePointRotations = [315, 0, 45, 270, 0, 90, 225, 180, 135];\r\n\r\nexport class GizmoGeneric extends React.Component<IGuiGizmoProps, IGuiGizmoState> {\r\n    // used for scaling computations\r\n    private _storedValues: Rect;\r\n    private _localBounds: Rect;\r\n\r\n    private _rotation: {\r\n        pivot: Vector2;\r\n        initialAngleToPivot: number;\r\n    };\r\n\r\n    private _gizmoUpdateObserver: Nullable<Observer<void>>;\r\n    private _pointerUpObserver: Nullable<Observer<Nullable<React.PointerEvent<HTMLCanvasElement> | PointerEvent>>>;\r\n    private _pointerMoveObserver: Nullable<Observer<React.PointerEvent<HTMLCanvasElement>>>;\r\n\r\n    constructor(props: IGuiGizmoProps) {\r\n        super(props);\r\n\r\n        const scalePoints: IScalePoint[] = [];\r\n        for (let vertical = ScalePointPosition.Top; vertical <= ScalePointPosition.Bottom; vertical++) {\r\n            for (let horizontal = ScalePointPosition.Left; horizontal <= ScalePointPosition.Right; horizontal++) {\r\n                const isPivot = horizontal === ScalePointPosition.Center && vertical === ScalePointPosition.Center;\r\n                scalePoints.push({\r\n                    position: new Vector2(),\r\n                    horizontalPosition: horizontal,\r\n                    verticalPosition: vertical,\r\n                    rotation: 0,\r\n                    isPivot,\r\n                    defaultRotation: DefaultScalePointRotations[scalePoints.length],\r\n                });\r\n            }\r\n        }\r\n\r\n        this._localBounds = new Rect(0, 0, 0, 0);\r\n\r\n        this.state = {\r\n            canvasBounds: new Rect(0, 0, 0, 0),\r\n            scalePoints,\r\n            scalePointDragging: -1,\r\n            isRotating: false,\r\n        };\r\n\r\n        this._gizmoUpdateObserver = this.props.globalState.onGizmoUpdateRequireObservable.add(() => {\r\n            this.updateGizmo();\r\n        });\r\n\r\n        this._pointerUpObserver = this.props.globalState.onPointerUpObservable.add((evt) => this._onUp(evt));\r\n        this._pointerMoveObserver = this.props.globalState.onPointerMoveObservable.add(() => this._onMove());\r\n    }\r\n\r\n    override componentDidMount() {\r\n        this.updateGizmo();\r\n    }\r\n\r\n    override componentWillUnmount() {\r\n        this.props.globalState.onGizmoUpdateRequireObservable.remove(this._gizmoUpdateObserver);\r\n        this.props.globalState.onPointerUpObservable.remove(this._pointerUpObserver);\r\n        this.props.globalState.onPointerMoveObservable.remove(this._pointerMoveObserver);\r\n    }\r\n\r\n    /**\r\n     * Update the gizmo's positions\r\n     */\r\n    updateGizmo() {\r\n        const node = this.props.control;\r\n        // Calculating the offsets for each scale point.\r\n        const canvasBounds = new Rect(Number.MAX_VALUE, Number.MAX_VALUE, 0, 0);\r\n        const localBounds = CoordinateHelper.ComputeLocalBounds(node);\r\n\r\n        const totalPadding = {\r\n            left: 0,\r\n            right: 0,\r\n            top: 0,\r\n            bottom: 0,\r\n        };\r\n        let current = node.parent;\r\n        while (current !== null && current !== undefined) {\r\n            totalPadding.left += current.paddingLeftInPixels;\r\n            totalPadding.right += current.paddingRightInPixels;\r\n            totalPadding.top += current.paddingTopInPixels;\r\n            totalPadding.bottom += current.paddingBottomInPixels;\r\n\r\n            current = current.parent;\r\n        }\r\n\r\n        const horizontalAdjustment = (totalPadding.left - totalPadding.right) * 0.5;\r\n        localBounds.left += horizontalAdjustment;\r\n        localBounds.right += horizontalAdjustment;\r\n\r\n        const verticalAdjustment = (totalPadding.top - totalPadding.bottom) * 0.5;\r\n        localBounds.top += verticalAdjustment;\r\n        localBounds.bottom += verticalAdjustment;\r\n\r\n        const updatedPoints = this.state.scalePoints.map((scalePoint) => {\r\n            const nodeSpace = new Vector2();\r\n            switch (scalePoint.horizontalPosition) {\r\n                case ScalePointPosition.Left:\r\n                    nodeSpace.x = localBounds.left;\r\n                    break;\r\n                case ScalePointPosition.Center:\r\n                    nodeSpace.x = localBounds.center.x;\r\n                    break;\r\n                case ScalePointPosition.Right:\r\n                    nodeSpace.x = localBounds.right;\r\n                    break;\r\n            }\r\n            switch (scalePoint.verticalPosition) {\r\n                case ScalePointPosition.Top:\r\n                    nodeSpace.y = localBounds.top;\r\n                    break;\r\n                case ScalePointPosition.Center:\r\n                    nodeSpace.y = localBounds.center.y;\r\n                    break;\r\n                case ScalePointPosition.Bottom:\r\n                    nodeSpace.y = localBounds.bottom;\r\n                    break;\r\n            }\r\n            if (scalePoint.isPivot) {\r\n                // Calculate the pivot point\r\n                const pivotX = node.transformCenterX - 0.5;\r\n                const pivotY = node.transformCenterY - 0.5;\r\n                nodeSpace.x = node.widthInPixels * pivotX;\r\n                nodeSpace.y = node.heightInPixels * pivotY;\r\n            }\r\n            const rtt = CoordinateHelper.NodeToRTTSpace(node, nodeSpace.x, nodeSpace.y, undefined);\r\n            const canvas = CoordinateHelper.RttToCanvasSpace(rtt.x, rtt.y);\r\n            if (canvas.x < canvasBounds.left) {\r\n                canvasBounds.left = canvas.x;\r\n            }\r\n            if (canvas.x > canvasBounds.right) {\r\n                canvasBounds.right = canvas.x;\r\n            }\r\n            if (canvas.y < canvasBounds.top) {\r\n                canvasBounds.top = canvas.y;\r\n            }\r\n            if (canvas.y > canvasBounds.bottom) {\r\n                canvasBounds.bottom = canvas.y;\r\n            }\r\n            // edges, and rotate based on the rotation of the control\r\n            scalePoint.position.x = canvas.x;\r\n            scalePoint.position.y = canvas.y;\r\n            scalePoint.rotation = CoordinateHelper.GetRotation(node) * (180 / Math.PI);\r\n            return scalePoint;\r\n        });\r\n        this.setState({\r\n            canvasBounds,\r\n            scalePoints: [...updatedPoints],\r\n        });\r\n    }\r\n\r\n    private _onUp = (evt?: React.PointerEvent | PointerEvent | null) => {\r\n        // if left is still pressed, don't release\r\n        if (evt && evt.buttons & 1) {\r\n            return;\r\n        }\r\n        // cleanup on pointer up\r\n        this.setState({ scalePointDragging: -1, isRotating: false });\r\n    };\r\n\r\n    private _onMove = () => {\r\n        const scene = this.props.globalState.workbench._scene;\r\n        if (this.state.scalePointDragging !== -1) {\r\n            const node = this.props.control;\r\n            const inRTT = CoordinateHelper.MousePointerToRTTSpace(node, scene.pointerX, scene.pointerY);\r\n            const inNodeSpace = CoordinateHelper.RttToLocalNodeSpace(node, inRTT.x, inRTT.y, undefined, this._storedValues);\r\n            this._dragLocalBounds(inNodeSpace, this.props.globalState.shiftKeyPressed);\r\n            this._updateNodeFromLocalBounds();\r\n            this.props.globalState.onPropertyGridUpdateRequiredObservable.notifyObservers();\r\n        }\r\n        if (this.state.isRotating) {\r\n            const angle = Math.atan2(scene.pointerY - this._rotation.pivot.y, scene.pointerX - this._rotation.pivot.x);\r\n            for (const control of this.props.globalState.selectedControls) {\r\n                control.rotation += angle - this._rotation.initialAngleToPivot;\r\n            }\r\n            this._rotation.initialAngleToPivot = angle;\r\n            this.props.globalState.onPropertyGridUpdateRequiredObservable.notifyObservers();\r\n        }\r\n    };\r\n\r\n    private _rotate(x: number, y: number, centerX: number, centerY: number, angle: number) {\r\n        return {\r\n            x: (x - centerX) * Math.cos(angle) - (y - centerY) * Math.sin(angle) + centerX,\r\n            y: (x - centerX) * Math.sin(angle) + (y - centerY) * Math.cos(angle) + centerY,\r\n        };\r\n    }\r\n\r\n    private _dragLocalBounds(toPosition: Vector2, preserveAspectRatio = false) {\r\n        const scalePoint = this.state.scalePoints[this.state.scalePointDragging];\r\n        const newBounds = this._localBounds.clone();\r\n        const currentAspectRatio = MathTools.Round(this._localBounds.width / this._localBounds.height);\r\n\r\n        if (scalePoint.horizontalPosition === ScalePointPosition.Left) {\r\n            newBounds.left = Math.min(this._localBounds.right - 1, toPosition.x);\r\n        }\r\n        if (scalePoint.verticalPosition === ScalePointPosition.Top) {\r\n            newBounds.top = Math.min(this._localBounds.bottom - 1, toPosition.y);\r\n        }\r\n        if (scalePoint.horizontalPosition === ScalePointPosition.Right) {\r\n            newBounds.right = Math.max(this._localBounds.left + 1, toPosition.x);\r\n        }\r\n        if (scalePoint.verticalPosition === ScalePointPosition.Bottom) {\r\n            newBounds.bottom = Math.max(this._localBounds.top + 1, toPosition.y);\r\n        }\r\n\r\n        if (preserveAspectRatio) {\r\n            const deltaWidth = newBounds.width - this._localBounds.width;\r\n            const deltaHeight = newBounds.height - this._localBounds.height;\r\n\r\n            const signInverted = scalePoint.horizontalPosition === ScalePointPosition.Center || scalePoint.verticalPosition === ScalePointPosition.Center;\r\n            const comparison = Math.abs(deltaWidth) > Math.abs(deltaHeight);\r\n            if (signInverted ? comparison : !comparison) {\r\n                const aspectRatioDeltaHeight = deltaWidth / currentAspectRatio;\r\n                if (scalePoint.verticalPosition === ScalePointPosition.Top) {\r\n                    newBounds.top = this._localBounds.top - aspectRatioDeltaHeight;\r\n                } else if (scalePoint.verticalPosition === ScalePointPosition.Bottom) {\r\n                    newBounds.bottom = this._localBounds.bottom + aspectRatioDeltaHeight;\r\n                } else {\r\n                    newBounds.top = this._localBounds.top - aspectRatioDeltaHeight / 2;\r\n                    newBounds.bottom = this._localBounds.bottom + aspectRatioDeltaHeight / 2;\r\n                }\r\n            } else {\r\n                const aspectRatioDeltaWidth = deltaHeight * currentAspectRatio;\r\n                if (scalePoint.horizontalPosition === ScalePointPosition.Left) {\r\n                    newBounds.left = this._localBounds.left - aspectRatioDeltaWidth;\r\n                } else if (scalePoint.horizontalPosition === ScalePointPosition.Right) {\r\n                    newBounds.right = this._localBounds.right + aspectRatioDeltaWidth;\r\n                } else {\r\n                    newBounds.left = this._localBounds.left - aspectRatioDeltaWidth / 2;\r\n                    newBounds.right = this._localBounds.right + aspectRatioDeltaWidth / 2;\r\n                }\r\n            }\r\n        }\r\n\r\n        // apply bounds changes to all controls\r\n        const edges: [\"left\", \"top\", \"right\", \"bottom\"] = [\"left\", \"top\", \"right\", \"bottom\"];\r\n        for (const node of this.props.globalState.selectedControls) {\r\n            const initialBounds = node.metadata.localBounds as Rect;\r\n            const nb = initialBounds.clone();\r\n            // account for rotation: if other control is rotated 90 degrees\r\n            // relative to primary control, we should modify top instead of left\r\n            const rotationModifier = (Modulo(this.props.control.rotation - node.rotation, Math.PI * 2) / Math.PI) * 2;\r\n            edges.forEach((edge, index) => {\r\n                const modifiedIndex = Math.round(index + rotationModifier) % 4;\r\n                const flipSign = index < 2 === modifiedIndex < 2 ? 1 : -1;\r\n                nb[edges[modifiedIndex]] += (newBounds[edge] - this._localBounds[edge]) * flipSign;\r\n            });\r\n            nb.left = Math.min(initialBounds.right - 1, nb.left);\r\n            nb.top = Math.min(initialBounds.bottom - 1, nb.top);\r\n            nb.right = Math.max(initialBounds.left + 1, nb.right);\r\n            nb.bottom = Math.max(initialBounds.top + 1, nb.bottom);\r\n            node.metadata.localBounds = nb;\r\n        }\r\n        this._localBounds = newBounds;\r\n    }\r\n\r\n    private _updateNodeFromLocalBounds() {\r\n        const scalePoint = this.state.scalePoints[this.state.scalePointDragging];\r\n        const left = scalePoint.horizontalPosition === ScalePointPosition.Left && scalePoint.verticalPosition !== ScalePointPosition.Center;\r\n        const top = scalePoint.verticalPosition === ScalePointPosition.Top && scalePoint.horizontalPosition !== ScalePointPosition.Center;\r\n        for (const selectedControl of this.props.globalState.selectedControls) {\r\n            const width = selectedControl.metadata.localBounds.right - selectedControl.metadata.localBounds.left;\r\n            const height = selectedControl.metadata.localBounds.bottom - selectedControl.metadata.localBounds.top;\r\n            // calculate the center point\r\n            const localRotation = CoordinateHelper.GetRotation(selectedControl, true);\r\n            const localScaling = CoordinateHelper.GetScale(selectedControl, true);\r\n            const absoluteCenter = (selectedControl.metadata.localBounds as Rect).center;\r\n            const center = absoluteCenter.clone();\r\n            // move to pivot\r\n            center.multiplyInPlace(localScaling);\r\n            const cosRotation = Math.cos(localRotation);\r\n            const sinRotation = Math.sin(localRotation);\r\n            const cosRotation180 = Math.cos(localRotation + Math.PI);\r\n            const sinRotation180 = Math.sin(localRotation + Math.PI);\r\n\r\n            const widthDelta = (selectedControl.metadata.storedValues.width - width) * 0.5;\r\n            const heightDelta = (selectedControl.metadata.storedValues.height - height) * 0.5;\r\n            // alignment compensation\r\n            switch (selectedControl.horizontalAlignment) {\r\n                case Control.HORIZONTAL_ALIGNMENT_LEFT:\r\n                    center.x += (left ? widthDelta : -absoluteCenter.x) * cosRotation;\r\n                    center.y += (left ? -widthDelta : absoluteCenter.x) * sinRotation;\r\n                    break;\r\n                case Control.HORIZONTAL_ALIGNMENT_RIGHT:\r\n                    center.x += (left ? -widthDelta : absoluteCenter.x) * cosRotation;\r\n                    center.y += (left ? widthDelta : -absoluteCenter.x) * sinRotation;\r\n                    break;\r\n            }\r\n\r\n            switch (selectedControl.verticalAlignment) {\r\n                case Control.VERTICAL_ALIGNMENT_TOP:\r\n                    center.y += (top ? -heightDelta : absoluteCenter.y) * cosRotation180;\r\n                    center.x += (top ? -heightDelta : absoluteCenter.y) * sinRotation180;\r\n                    break;\r\n                case Control.VERTICAL_ALIGNMENT_BOTTOM:\r\n                    center.y += (top ? heightDelta : -absoluteCenter.y) * cosRotation180;\r\n                    center.x += (top ? heightDelta : -absoluteCenter.y) * sinRotation180;\r\n                    break;\r\n            }\r\n\r\n            // rotate the center around 0,0\r\n            const rotatedCenter = this._rotate(center.x, center.y, 0, 0, localRotation);\r\n            const properties: DimensionProperties[] = [\"left\", \"top\", \"width\", \"height\"];\r\n            for (const property of properties) {\r\n                let newPixels = 0;\r\n                switch (property) {\r\n                    case \"left\":\r\n                        newPixels = Round(selectedControl.metadata.storedValues.left + rotatedCenter.x);\r\n                        break;\r\n                    case \"top\":\r\n                        newPixels = Round(selectedControl.metadata.storedValues.top + rotatedCenter.y);\r\n                        break;\r\n                    case \"width\":\r\n                        newPixels = Round(width);\r\n                        break;\r\n                    case \"height\":\r\n                        newPixels = Round(height);\r\n                        break;\r\n                }\r\n                // compute real change in property\r\n                const initialUnit = (selectedControl as any)[`_${property}`].unit;\r\n                (selectedControl as any)[`${property}InPixels`] = newPixels;\r\n                if (initialUnit === ValueAndUnit.UNITMODE_PERCENTAGE) {\r\n                    CoordinateHelper.ConvertToPercentage(selectedControl, [property]);\r\n                }\r\n            }\r\n\r\n            if (selectedControl.typeName === \"Image\") {\r\n                (selectedControl as Image).autoScale = false;\r\n            } else if (selectedControl.typeName === \"TextBlock\") {\r\n                (selectedControl as TextBlock).resizeToFit = false;\r\n            }\r\n        }\r\n    }\r\n\r\n    private _beginDraggingScalePoint = (scalePointIndex: number) => {\r\n        this.setState({ scalePointDragging: scalePointIndex });\r\n        const node = this.props.control;\r\n        this._localBounds = CoordinateHelper.ComputeLocalBounds(node);\r\n        this._storedValues = new Rect(node.leftInPixels, node.topInPixels, node.leftInPixels + node.widthInPixels, node.topInPixels + node.heightInPixels);\r\n        for (const node of this.props.globalState.selectedControls) {\r\n            node.metadata.localBounds = CoordinateHelper.ComputeLocalBounds(node);\r\n            node.metadata.storedValues = new Rect(node.leftInPixels, node.topInPixels, node.leftInPixels + node.widthInPixels, node.topInPixels + node.heightInPixels);\r\n        }\r\n    };\r\n\r\n    private _beginRotate = () => {\r\n        const scene = this.props.globalState.workbench._scene;\r\n        const node = this.props.control;\r\n        const nodeSpace = new Vector2(node.transformCenterX, node.transformCenterY);\r\n        const rtt = CoordinateHelper.NodeToRTTSpace(node, nodeSpace.x, nodeSpace.y, undefined);\r\n        const canvas = CoordinateHelper.RttToCanvasSpace(rtt.x, rtt.y);\r\n        const pivot = new Vector2(canvas.x, canvas.y);\r\n        const initialAngleToPivot = Math.atan2(scene.pointerY - pivot.y, scene.pointerX - pivot.x);\r\n        this._rotation = {\r\n            pivot,\r\n            initialAngleToPivot,\r\n        };\r\n        this.setState({ isRotating: true });\r\n    };\r\n\r\n    override render() {\r\n        return (\r\n            <div className=\"gizmo\">\r\n                {Lines.map((line, index) => {\r\n                    const start = this.state.scalePoints[line[0]];\r\n                    const end = this.state.scalePoints[line[1]];\r\n                    // the vector between start and end\r\n                    const delta = end.position.subtract(start.position);\r\n                    const angle = Math.atan2(delta.y, delta.x);\r\n                    const length = delta.length();\r\n                    return (\r\n                        <div\r\n                            className=\"bounding-box-line\"\r\n                            key={index}\r\n                            style={{\r\n                                left: `${start.position.x + delta.x / 2}px`,\r\n                                top: `${start.position.y + delta.y / 2}px`,\r\n                                width: `${length}px`,\r\n                                transform: `translate(-50%, -50%) rotate(${angle}rad)`,\r\n                            }}\r\n                        ></div>\r\n                    );\r\n                })}\r\n                {this.state.scalePoints.map((scalePoint, index) => (\r\n                    <GizmoScalePoint\r\n                        clickable={this.state.scalePointDragging === -1 && !scalePoint.isPivot && !this.state.isRotating}\r\n                        scalePoint={scalePoint}\r\n                        key={index}\r\n                        onDrag={() => this._beginDraggingScalePoint(index)}\r\n                        onRotate={() => this._beginRotate()}\r\n                        onUp={() => this._onUp()}\r\n                        canRotate={true}\r\n                    />\r\n                ))}\r\n            </div>\r\n        );\r\n    }\r\n}\r\n","import * as React from \"react\";\r\nimport type { GlobalState } from \"../globalState\";\r\nimport type { IScalePoint } from \"./gizmoScalePoint\";\r\nimport { GizmoScalePoint, ScalePointPosition } from \"./gizmoScalePoint\";\r\nimport { Vector2 } from \"core/Maths/math\";\r\nimport type { Line } from \"gui/2D/controls/line\";\r\nimport { CoordinateHelper } from \"./coordinateHelper\";\r\nimport { Matrix2D, MathTools } from \"gui/2D/math2D\";\r\nimport type { ValueAndUnit } from \"gui/2D/valueAndUnit\";\r\nimport type { AdvancedDynamicTexture } from \"gui/2D/advancedDynamicTexture\";\r\n\r\ninterface IGizmoLineProps {\r\n    globalState: GlobalState;\r\n    control: Line;\r\n}\r\n\r\nfunction GetPivotToRef(x1: number, y1: number, x2: number, y2: number, centerX: number, centerY: number, ref: Vector2) {\r\n    const minX = Math.min(x1, x2);\r\n    const minY = Math.min(y1, y2);\r\n    const maxX = Math.max(x1, x2);\r\n    const maxY = Math.max(y1, y2);\r\n    const width = maxX - minX;\r\n    const height = maxY - minY;\r\n\r\n    // Get pivot\r\n    const xm = minX + width * centerX;\r\n    const ym = minY + height * centerY;\r\n\r\n    ref.x = xm;\r\n    ref.y = ym;\r\n}\r\n\r\nconst TmpVectors = [new Vector2(), new Vector2(), new Vector2()];\r\n\r\n/**\r\n * This class represents the gizmo drawn on a line Control.\r\n * It is used to scale and rotate the control around a pivot point\r\n * @param props the properties of the gizmo\r\n * @returns a gizmo line\r\n */\r\nexport function GizmoLine(props: IGizmoLineProps) {\r\n    const { control, globalState } = props;\r\n    const isPivotMoving = React.useRef(false);\r\n    const isDragging = React.useRef(false);\r\n    const isRotating = React.useRef(false);\r\n    const movedScalePoint = React.useRef<number>();\r\n    const lastCursor = React.useRef(new Vector2());\r\n    const pivot = React.useRef(new Vector2());\r\n\r\n    const [scalePoints, setScalePoints] = React.useState<IScalePoint[]>([\r\n        {\r\n            position: new Vector2(),\r\n            horizontalPosition: ScalePointPosition.Left,\r\n            verticalPosition: ScalePointPosition.Top,\r\n            rotation: 0,\r\n            isPivot: false,\r\n            defaultRotation: 0,\r\n            id: 0,\r\n        },\r\n        {\r\n            position: new Vector2(),\r\n            horizontalPosition: ScalePointPosition.Center,\r\n            verticalPosition: ScalePointPosition.Center,\r\n            rotation: 0,\r\n            isPivot: true,\r\n            defaultRotation: 0,\r\n            id: 1,\r\n        },\r\n        {\r\n            position: new Vector2(),\r\n            horizontalPosition: ScalePointPosition.Right,\r\n            verticalPosition: ScalePointPosition.Bottom,\r\n            rotation: 0,\r\n            isPivot: false,\r\n            defaultRotation: 0,\r\n            id: 2,\r\n        },\r\n    ]);\r\n\r\n    React.useEffect(() => {\r\n        // setup\r\n        const gizmoUpdateObserver = globalState.onGizmoUpdateRequireObservable.add(() => {\r\n            update();\r\n        });\r\n        return () => {\r\n            // cleanup\r\n            globalState.onGizmoUpdateRequireObservable.remove(gizmoUpdateObserver);\r\n        };\r\n    }, []);\r\n\r\n    const update = () => {\r\n        const line = control;\r\n        const x1 = line._cachedParentMeasure.left + line._x1.getValue(line._host);\r\n        const y1 = line._cachedParentMeasure.top + line._y1.getValue(line._host);\r\n        const x2 = line._cachedParentMeasure.left + line._effectiveX2;\r\n        const y2 = line._cachedParentMeasure.top + line._effectiveY2;\r\n\r\n        const v1 = TmpVectors[0].set(x1, y1);\r\n        const v2 = TmpVectors[1].set(x2, y2);\r\n        const vm = TmpVectors[2];\r\n        GetPivotToRef(x1, y1, x2, y2, line.transformCenterX, line.transformCenterY, vm);\r\n\r\n        const matrix = line._transformMatrix;\r\n\r\n        matrix.transformCoordinates(v1.x, v1.y, v1);\r\n        matrix.transformCoordinates(v2.x, v2.y, v2);\r\n        matrix.transformCoordinates(vm.x, vm.y, vm);\r\n\r\n        pivot.current = vm;\r\n\r\n        const positions = [v1, vm, v2];\r\n\r\n        setScalePoints(\r\n            scalePoints.map((point, index) => {\r\n                const position = positions[index];\r\n                return {\r\n                    ...point,\r\n                    position,\r\n                    rotation: line.rotation,\r\n                };\r\n            })\r\n        );\r\n    };\r\n\r\n    const _getAddAndRound = (value: ValueAndUnit, host: AdvancedDynamicTexture, delta: number) => {\r\n        return MathTools.Round(value.getValue(host) + delta);\r\n    };\r\n\r\n    const _getDeltasToRef = (currentPointer: Vector2, ref: Vector2) => {\r\n        // We have to compute the difference in movement in the local node\r\n        // coordintes, so that it accounts for zoom\r\n        const rttClientCoords = CoordinateHelper.MousePointerToRTTSpace(control, currentPointer.x, currentPointer.y);\r\n        const localClientCoords = CoordinateHelper.RttToLocalNodeSpace(control, rttClientCoords.x, rttClientCoords.y);\r\n\r\n        const rttLastCoordinates = CoordinateHelper.MousePointerToRTTSpace(control, lastCursor.current.x, lastCursor.current.y);\r\n        const localLastCoordinates = CoordinateHelper.RttToLocalNodeSpace(control, rttLastCoordinates.x, rttLastCoordinates.y);\r\n\r\n        const delta = TmpVectors[0];\r\n        localClientCoords.subtractToRef(localLastCoordinates, delta);\r\n\r\n        const rotatedDelta = TmpVectors[1];\r\n        delta.rotateToRef(control.rotation, rotatedDelta);\r\n\r\n        ref.x = rotatedDelta.x;\r\n        ref.y = rotatedDelta.y;\r\n    };\r\n\r\n    const _dragPivot = (currentPointer: Vector2) => {\r\n        const deltas = TmpVectors[0];\r\n        _getDeltasToRef(currentPointer, deltas);\r\n\r\n        control.x1 = _getAddAndRound(control._x1, control._host, deltas.x);\r\n        control.y1 = _getAddAndRound(control._y1, control._host, deltas.y);\r\n        control.x2 = _getAddAndRound(control._x2, control._host, deltas.x);\r\n        control.y2 = _getAddAndRound(control._y2, control._host, deltas.y);\r\n\r\n        globalState.onPropertyGridUpdateRequiredObservable.notifyObservers();\r\n    };\r\n\r\n    const _dragEndpoint = (currentPointer: Vector2) => {\r\n        const deltas = TmpVectors[0];\r\n        _getDeltasToRef(currentPointer, deltas);\r\n\r\n        // Move only the scale point that was touched\r\n        const movedPointIndex = movedScalePoint.current;\r\n\r\n        if (movedPointIndex === 0) {\r\n            // Moved first point, (x1, y1)\r\n            control.x1 = _getAddAndRound(control._x1, control._host, deltas.x);\r\n            control.y1 = _getAddAndRound(control._y1, control._host, deltas.y);\r\n        } else if (movedPointIndex === 2) {\r\n            // Moved second point, (x2, y2)\r\n            control.x2 = _getAddAndRound(control._x2, control._host, deltas.x);\r\n            control.y2 = _getAddAndRound(control._y2, control._host, deltas.y);\r\n        }\r\n        globalState.onPropertyGridUpdateRequiredObservable.notifyObservers();\r\n    };\r\n\r\n    const _rotateEndpoint = (currentPointer: Vector2) => {\r\n        const currentToPivot = currentPointer.subtract(pivot.current);\r\n        currentToPivot.normalize();\r\n        const lastToPivot = lastCursor.current.subtract(pivot.current);\r\n        lastToPivot.normalize();\r\n\r\n        const dotProd = Vector2.Dot(currentToPivot, lastToPivot);\r\n        const angle = Math.acos(dotProd);\r\n\r\n        const direction = -Math.sign(currentToPivot.x * lastToPivot.y - currentToPivot.y * lastToPivot.x);\r\n\r\n        if (!isNaN(angle)) {\r\n            control.rotation += direction * angle;\r\n            control.rotation = MathTools.Round(control.rotation);\r\n            globalState.onPropertyGridUpdateRequiredObservable.notifyObservers();\r\n        }\r\n    };\r\n\r\n    const onMove = () => {\r\n        const scene = globalState.workbench._scene;\r\n        const currentPointer = new Vector2(scene.pointerX, scene.pointerY);\r\n        if (isDragging.current && isPivotMoving.current) {\r\n            _dragPivot(currentPointer);\r\n        } else if (isDragging.current) {\r\n            _dragEndpoint(currentPointer);\r\n        } else if (isRotating.current) {\r\n            _rotateEndpoint(currentPointer);\r\n        }\r\n        lastCursor.current = currentPointer;\r\n    };\r\n\r\n    const onUp = () => {\r\n        isDragging.current = false;\r\n        isRotating.current = false;\r\n    };\r\n\r\n    React.useEffect(() => {\r\n        const pointerMoveObserver = props.globalState.onPointerMoveObservable.add(onMove);\r\n        const pointerUpObserver = props.globalState.onPointerUpObservable.add(onUp);\r\n        return () => {\r\n            props.globalState.onPointerMoveObservable.remove(pointerMoveObserver);\r\n            props.globalState.onPointerUpObservable.remove(pointerUpObserver);\r\n        };\r\n    }, []);\r\n\r\n    const onDrag = (event?: React.PointerEvent<HTMLDivElement>, scalePoint?: IScalePoint) => {\r\n        if (event && scalePoint) {\r\n            const scene = globalState.workbench._scene;\r\n            lastCursor.current = new Vector2(scene.pointerX, scene.pointerY);\r\n            isPivotMoving.current = scalePoint.isPivot;\r\n            // If the control has any rotation, reset the\r\n            // rotation, modifying the so the scale behave as expected\r\n            if (!scalePoint.isPivot && control.rotation) {\r\n                const line = control;\r\n                const x1 = line._x1.getValue(line._host);\r\n                const y1 = line._y1.getValue(line._host);\r\n                const x2 = line._x2.getValue(line._host);\r\n                const y2 = line._y2.getValue(line._host);\r\n\r\n                const v1 = TmpVectors[0].set(x1, y1);\r\n                const v2 = TmpVectors[1].set(x2, y2);\r\n                const vm = TmpVectors[2];\r\n\r\n                GetPivotToRef(x1, y1, x2, y2, line.transformCenterX, line.transformCenterY, vm);\r\n\r\n                const finalTransform = Matrix2D.Identity();\r\n                const currentTransform = Matrix2D.Identity();\r\n                Matrix2D.TranslationToRef(-vm.x, -vm.y, currentTransform);\r\n                finalTransform.multiplyToRef(currentTransform, finalTransform);\r\n                Matrix2D.RotationToRef(control.rotation, currentTransform);\r\n                finalTransform.multiplyToRef(currentTransform, finalTransform);\r\n                Matrix2D.TranslationToRef(vm.x, vm.y, currentTransform);\r\n                finalTransform.multiplyToRef(currentTransform, finalTransform);\r\n\r\n                finalTransform.transformCoordinates(v1.x, v1.y, v1);\r\n                finalTransform.transformCoordinates(v2.x, v2.y, v2);\r\n\r\n                control.rotation = 0;\r\n                control.x1 = MathTools.Round(v1.x);\r\n                control.y1 = MathTools.Round(v1.y);\r\n                control.x2 = MathTools.Round(v2.x);\r\n                control.y2 = MathTools.Round(v2.y);\r\n                globalState.onPropertyGridUpdateRequiredObservable.notifyObservers();\r\n            }\r\n            isDragging.current = true;\r\n            isRotating.current = false;\r\n            movedScalePoint.current = scalePoint.id!;\r\n        }\r\n    };\r\n\r\n    const onRotate = (event?: React.PointerEvent<HTMLDivElement>) => {\r\n        if (event) {\r\n            isRotating.current = true;\r\n            isDragging.current = false;\r\n\r\n            const scene = globalState.workbench._scene;\r\n            lastCursor.current = new Vector2(scene.pointerX, scene.pointerY);\r\n        }\r\n    };\r\n\r\n    return (\r\n        <div className=\"gizmo\">\r\n            {scalePoints.map((point, index) => (\r\n                <GizmoScalePoint scalePoint={point} allowClickOnPivot={true} clickable={true} onDrag={onDrag} onRotate={onRotate} onUp={onUp} key={index} canRotate={true} />\r\n            ))}\r\n        </div>\r\n    );\r\n}\r\n","import type { Nullable } from \"core/types\";\r\nimport type { Observer } from \"core/Misc/observable\";\r\nimport * as React from \"react\";\r\nimport type { GlobalState } from \"../globalState\";\r\nimport { GizmoGeneric } from \"./gizmoGeneric\";\r\nimport { GizmoLine } from \"./gizmoLine\";\r\nimport type { Line } from \"gui/2D/controls/line\";\r\n\r\nexport interface IGizmoWrapperProps {\r\n    globalState: GlobalState;\r\n}\r\n\r\nexport class GizmoWrapper extends React.Component<IGizmoWrapperProps> {\r\n    observer: Nullable<Observer<void>>;\r\n    override componentDidMount() {\r\n        this.observer = this.props.globalState.onSelectionChangedObservable.add(() => this.forceUpdate());\r\n    }\r\n\r\n    override componentWillUnmount() {\r\n        this.props.globalState.onSelectionChangedObservable.remove(this.observer);\r\n    }\r\n\r\n    override render() {\r\n        const controls = this.props.globalState.selectedControls;\r\n        return (\r\n            <>\r\n                {controls.map((control) =>\r\n                    control.getClassName() === \"Line\" ? (\r\n                        <GizmoLine globalState={this.props.globalState} control={control as Line} key={control.uniqueId} />\r\n                    ) : (\r\n                        <GizmoGeneric globalState={this.props.globalState} control={control} key={control.uniqueId} />\r\n                    )\r\n                )}\r\n            </>\r\n        );\r\n    }\r\n}\r\n","import * as React from \"react\";\r\nimport type { GlobalState } from \"../globalState\";\r\nimport { CoordinateHelper, Rect } from \"./coordinateHelper\";\r\n\r\ninterface IArtBoardProps {\r\n    globalState: GlobalState;\r\n}\r\n\r\ninterface IArtBoardState {\r\n    bounds: Rect;\r\n}\r\n\r\nexport class ArtBoardComponent extends React.Component<IArtBoardProps, IArtBoardState> {\r\n    constructor(props: IArtBoardProps) {\r\n        super(props);\r\n        this.state = {\r\n            bounds: new Rect(0, 0, 0, 0),\r\n        };\r\n        this.props.globalState.onArtBoardUpdateRequiredObservable.add(() => this.update());\r\n    }\r\n\r\n    update() {\r\n        const visibleRegion = this.props.globalState.workbench.visibleRegionContainer;\r\n        if (!visibleRegion) {\r\n            return;\r\n        }\r\n        const localBounds = CoordinateHelper.ComputeLocalBounds(visibleRegion);\r\n        const topLeftRTT = CoordinateHelper.NodeToRTTSpace(visibleRegion, localBounds.left, localBounds.top, undefined);\r\n        const topLeftCanvas = CoordinateHelper.RttToCanvasSpace(topLeftRTT.x, topLeftRTT.y);\r\n        const bottomRightRTT = CoordinateHelper.NodeToRTTSpace(visibleRegion, localBounds.right, localBounds.bottom, undefined);\r\n        const bottomRightCanvas = CoordinateHelper.RttToCanvasSpace(bottomRightRTT.x, bottomRightRTT.y);\r\n        this.setState({\r\n            bounds: new Rect(topLeftCanvas.x, topLeftCanvas.y, bottomRightCanvas.x, bottomRightCanvas.y),\r\n        });\r\n    }\r\n\r\n    override render() {\r\n        const style = {\r\n            top: `${this.state.bounds.top}px`,\r\n            left: `${this.state.bounds.left}px`,\r\n            width: `${this.state.bounds.width}px`,\r\n            height: `${this.state.bounds.height}px`,\r\n        };\r\n        return (\r\n            <>\r\n                <div className=\"artboard-stroke\" style={style}></div>\r\n                <div className=\"artboard-background\" style={style}></div>\r\n            </>\r\n        );\r\n    }\r\n}\r\n","\n      import API from \"!../../../../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js\";\n      import domAPI from \"!../../../../node_modules/style-loader/dist/runtime/styleDomAPI.js\";\n      import insertFn from \"!../../../../node_modules/style-loader/dist/runtime/insertBySelector.js\";\n      import setAttributes from \"!../../../../node_modules/style-loader/dist/runtime/setAttributesWithoutAttributes.js\";\n      import insertStyleElement from \"!../../../../node_modules/style-loader/dist/runtime/insertStyleElement.js\";\n      import styleTagTransformFn from \"!../../../../node_modules/style-loader/dist/runtime/styleTagTransform.js\";\n      import content, * as namedExport from \"!!../../../../node_modules/css-loader/dist/cjs.js??ruleSet[1].rules[2].use[1]!../../../../node_modules/sass-loader/dist/cjs.js??ruleSet[1].rules[2].use[2]!./main.scss\";\n      \n      \n\nvar options = {};\n\noptions.styleTagTransform = styleTagTransformFn;\noptions.setAttributes = setAttributes;\n\n      options.insert = insertFn.bind(null, \"head\");\n    \noptions.domAPI = domAPI;\noptions.insertStyleElement = insertStyleElement;\n\nvar update = API(content, options);\n\n\n\nexport * from \"!!../../../../node_modules/css-loader/dist/cjs.js??ruleSet[1].rules[2].use[1]!../../../../node_modules/sass-loader/dist/cjs.js??ruleSet[1].rules[2].use[2]!./main.scss\";\n       export default content && content.locals ? content.locals : undefined;\n","\n      import API from \"!../../../../../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js\";\n      import domAPI from \"!../../../../../node_modules/style-loader/dist/runtime/styleDomAPI.js\";\n      import insertFn from \"!../../../../../node_modules/style-loader/dist/runtime/insertBySelector.js\";\n      import setAttributes from \"!../../../../../node_modules/style-loader/dist/runtime/setAttributesWithoutAttributes.js\";\n      import insertStyleElement from \"!../../../../../node_modules/style-loader/dist/runtime/insertStyleElement.js\";\n      import styleTagTransformFn from \"!../../../../../node_modules/style-loader/dist/runtime/styleTagTransform.js\";\n      import content, * as namedExport from \"!!../../../../../node_modules/css-loader/dist/cjs.js??ruleSet[1].rules[2].use[1]!../../../../../node_modules/sass-loader/dist/cjs.js??ruleSet[1].rules[2].use[2]!./header.scss\";\n      \n      \n\nvar options = {};\n\noptions.styleTagTransform = styleTagTransformFn;\noptions.setAttributes = setAttributes;\n\n      options.insert = insertFn.bind(null, \"head\");\n    \noptions.domAPI = domAPI;\noptions.insertStyleElement = insertStyleElement;\n\nvar update = API(content, options);\n\n\n\nexport * from \"!!../../../../../node_modules/css-loader/dist/cjs.js??ruleSet[1].rules[2].use[1]!../../../../../node_modules/sass-loader/dist/cjs.js??ruleSet[1].rules[2].use[2]!./header.scss\";\n       export default content && content.locals ? content.locals : undefined;\n","import * as React from \"react\";\r\nimport type { GlobalState } from \"./globalState\";\r\nimport { GUIEditorTool } from \"./globalState\";\r\nimport { PropertyTabComponent } from \"./components/propertyTab/propertyTabComponent\";\r\nimport { Portal } from \"./portal\";\r\nimport { LogComponent } from \"./components/log/logComponent\";\r\nimport { DataStorage } from \"core/Misc/dataStorage\";\r\nimport { GUINodeTools } from \"./guiNodeTools\";\r\nimport { WorkbenchComponent } from \"./diagram/workbench\";\r\nimport { MessageDialog } from \"shared-ui-components/components/MessageDialog\";\r\nimport { SceneExplorerComponent } from \"./components/sceneExplorer/sceneExplorerComponent\";\r\nimport { CommandBarComponent } from \"./components/commandBarComponent\";\r\nimport { GizmoWrapper } from \"./diagram/gizmoWrapper\";\r\nimport type { Nullable } from \"core/types\";\r\nimport { ArtBoardComponent } from \"./diagram/artBoard\";\r\nimport type { Control } from \"gui/2D/controls/control\";\r\nimport { ControlTypes } from \"./controlTypes\";\r\n\r\nimport \"./main.scss\";\r\nimport \"./scss/header.scss\";\r\n\r\nimport toolbarExpandIcon from \"./imgs/toolbarExpandIcon.svg\";\r\nimport toolbarCollapseIcon from \"./imgs/toolbarCollapseIcon.svg\";\r\nimport type { Observer } from \"core/Misc/observable\";\r\n\r\ninterface IGraphEditorProps {\r\n    globalState: GlobalState;\r\n    onReady?: () => Promise<void>;\r\n}\r\n\r\ninterface IGraphEditorState {\r\n    showPreviewPopUp: boolean;\r\n    toolbarExpand: boolean;\r\n    message: string;\r\n}\r\n\r\nexport class WorkbenchEditor extends React.Component<IGraphEditorProps, IGraphEditorState> {\r\n    private _moveInProgress: boolean;\r\n\r\n    private _leftWidth = DataStorage.ReadNumber(\"LeftWidth\", 200);\r\n    private _rightWidth = DataStorage.ReadNumber(\"RightWidth\", 300);\r\n\r\n    private _popUpWindow: Window;\r\n    private _draggedItem: Nullable<string>;\r\n    private _rootRef: React.RefObject<HTMLDivElement>;\r\n    private _onErrorMessageObserver: Nullable<Observer<string>>;\r\n    private _workbenchRef: React.RefObject<WorkbenchComponent> = React.createRef();\r\n\r\n    override componentDidMount() {\r\n        if (navigator.userAgent.indexOf(\"Mobile\") !== -1) {\r\n            ((this.props.globalState.hostDocument || document).querySelector(\".blocker\") as HTMLElement).style.visibility = \"visible\";\r\n        }\r\n        document.addEventListener(\"keydown\", this.addToolControls);\r\n        document.addEventListener(\"keyup\", this.removePressToolControls);\r\n        // eslint-disable-next-line @typescript-eslint/no-floating-promises\r\n        this.props.onReady?.();\r\n    }\r\n\r\n    override componentWillUnmount() {\r\n        document.removeEventListener(\"keydown\", this.addToolControls);\r\n        document.removeEventListener(\"keyup\", this.removePressToolControls);\r\n        if (this._onErrorMessageObserver) {\r\n            this.props.globalState.onErrorMessageDialogRequiredObservable.remove(this._onErrorMessageObserver);\r\n        }\r\n    }\r\n\r\n    addToolControls = (evt: KeyboardEvent) => {\r\n        // If the event target is a text input, we're currently focused on it, and the user\r\n        // just wants to type normal text\r\n        if (evt.target && evt.target instanceof HTMLInputElement && evt.target.type === \"text\") {\r\n            return;\r\n        }\r\n        switch (evt.key) {\r\n            case \"s\": //select\r\n            case \"S\":\r\n                this.props.globalState.tool = GUIEditorTool.SELECT;\r\n                break;\r\n            case \"p\": //pan\r\n            case \"P\":\r\n            case \" \":\r\n                this.props.globalState.tool = GUIEditorTool.PAN;\r\n                break;\r\n            case \"z\": //zoom\r\n            case \"Z\":\r\n                this.props.globalState.tool = GUIEditorTool.ZOOM;\r\n                break;\r\n            case \"g\": //outlines\r\n            case \"G\":\r\n                this.props.globalState.outlines = !this.props.globalState.outlines;\r\n                break;\r\n            case \"f\": //fit to window\r\n            case \"F\":\r\n                this.props.globalState.onFitControlsToWindowObservable.notifyObservers();\r\n                break;\r\n        }\r\n    };\r\n\r\n    removePressToolControls = (evt: KeyboardEvent) => {\r\n        if (evt.key === \" \") {\r\n            this.props.globalState.restorePreviousTool();\r\n        }\r\n    };\r\n\r\n    constructor(props: IGraphEditorProps) {\r\n        super(props);\r\n        this._rootRef = React.createRef();\r\n        this.state = {\r\n            showPreviewPopUp: false,\r\n            toolbarExpand: true,\r\n            message: \"\",\r\n        };\r\n\r\n        this.props.globalState.onBackgroundColorChangeObservable.add(() => this.forceUpdate());\r\n        this.props.globalState.onDropObservable.add(() => {\r\n            if (this._draggedItem != null) {\r\n                this.props.globalState.draggedControl = this.onCreate(this._draggedItem);\r\n            }\r\n            this._draggedItem = null;\r\n        });\r\n        this._onErrorMessageObserver = this.props.globalState.onErrorMessageDialogRequiredObservable.add((message) => {\r\n            this.setState({ message });\r\n        });\r\n    }\r\n\r\n    showWaitScreen() {\r\n        this.props.globalState.hostDocument.querySelector(\".wait-screen\")?.classList.remove(\"hidden\");\r\n    }\r\n\r\n    hideWaitScreen() {\r\n        this.props.globalState.hostDocument.querySelector(\".wait-screen\")?.classList.add(\"hidden\");\r\n    }\r\n\r\n    onPointerDown(evt: React.PointerEvent<HTMLDivElement>) {\r\n        if (evt.button !== 0) {\r\n            return;\r\n        }\r\n        this._moveInProgress = true;\r\n        evt.currentTarget.setPointerCapture(evt.pointerId);\r\n    }\r\n\r\n    onPointerUp(evt: React.PointerEvent<HTMLDivElement>) {\r\n        if (evt.button !== 0) {\r\n            return;\r\n        }\r\n        this._moveInProgress = false;\r\n        evt.currentTarget.releasePointerCapture(evt.pointerId);\r\n    }\r\n\r\n    resizeColumns(evt: React.PointerEvent<HTMLDivElement>, forLeft = true) {\r\n        if (!this._moveInProgress) {\r\n            return;\r\n        }\r\n\r\n        const rootElement = evt.currentTarget.ownerDocument.getElementById(\"gui-editor-workbench-root\") as HTMLDivElement;\r\n\r\n        const maxWidth = this.props.globalState.hostWindow.innerWidth;\r\n\r\n        if (forLeft) {\r\n            this._leftWidth = Math.max(150, Math.min(maxWidth - this._rightWidth, evt.clientX - this._rootRef.current!.clientLeft));\r\n            DataStorage.WriteNumber(\"LeftWidth\", this._leftWidth);\r\n        } else {\r\n            this._rightWidth = Math.max(250, Math.min(maxWidth - this._leftWidth, this._rootRef.current!.clientLeft + this._rootRef.current!.clientWidth - evt.clientX));\r\n            DataStorage.WriteNumber(\"RightWidth\", this._rightWidth);\r\n        }\r\n\r\n        rootElement.style.gridTemplateColumns = this.buildColumnLayout();\r\n\r\n        this.props.globalState.onWindowResizeObservable.notifyObservers();\r\n    }\r\n\r\n    buildColumnLayout() {\r\n        return `${this._leftWidth}px 1fr ${this._rightWidth}px`;\r\n    }\r\n\r\n    handlePopUp = () => {\r\n        this.setState({\r\n            showPreviewPopUp: true,\r\n        });\r\n        this.props.globalState.hostWindow.addEventListener(\"beforeunload\", this.handleClosingPopUp);\r\n    };\r\n\r\n    handleClosingPopUp = () => {\r\n        this._popUpWindow.close();\r\n    };\r\n\r\n    switchExpandedState(): void {\r\n        this.setState({ toolbarExpand: !this.state.toolbarExpand });\r\n        if (!this.state.toolbarExpand) {\r\n            this._leftWidth = this._leftWidth - 50;\r\n        } else {\r\n            this._leftWidth = this._leftWidth + 50;\r\n        }\r\n    }\r\n\r\n    override render() {\r\n        const classForElement = this.state.toolbarExpand ? \"left-panel\" : \"left-panel expand\";\r\n        return (\r\n            <Portal globalState={this.props.globalState}>\r\n                <div id=\"ge-header\">\r\n                    <div className=\"command-bar\">\r\n                        <CommandBarComponent globalState={this.props.globalState} />\r\n                    </div>\r\n                </div>\r\n                <div\r\n                    id=\"gui-editor-workbench-root\"\r\n                    style={{\r\n                        gridTemplateColumns: this.buildColumnLayout(),\r\n                    }}\r\n                    onMouseDown={(evt) => {\r\n                        if ((evt.target as HTMLElement).nodeName === \"INPUT\") {\r\n                            return;\r\n                        }\r\n                    }}\r\n                    ref={this._rootRef}\r\n                    onPointerUp={(evt) => this.onPointerUp(evt)}\r\n                >\r\n                    {/* Node creation menu */}\r\n                    <div className={classForElement}>\r\n                        <SceneExplorerComponent globalState={this.props.globalState} noExpand={true}></SceneExplorerComponent>\r\n                        {this.createToolbar()}\r\n                        <div id=\"leftGrab\" onPointerDown={(evt) => this.onPointerDown(evt)} onPointerMove={(evt) => this.resizeColumns(evt)}></div>\r\n                    </div>\r\n                    <SceneExplorerComponent globalState={this.props.globalState} noExpand={true}></SceneExplorerComponent>\r\n                    {this.createToolbar()}\r\n                    {/* The gui workbench diagram */}\r\n                    <div\r\n                        className=\"diagram-container\"\r\n                        onDrop={(event) => {\r\n                            event.preventDefault();\r\n                            this.props.globalState.onDropObservable.notifyObservers();\r\n                            this.props.globalState.onParentingChangeObservable.notifyObservers(null);\r\n                        }}\r\n                        onDragOver={(event) => {\r\n                            event.preventDefault();\r\n                        }}\r\n                        style={{\r\n                            backgroundColor: this.props.globalState.backgroundColor.toHexString(),\r\n                        }}\r\n                    >\r\n                        <ArtBoardComponent globalState={this.props.globalState} />\r\n                        <WorkbenchComponent ref={this._workbenchRef} globalState={this.props.globalState} />\r\n                        <GizmoWrapper globalState={this.props.globalState} />\r\n                    </div>\r\n                    {/* Property tab */}\r\n                    <div className=\"right-panel\">\r\n                        <div id=\"rightGrab\" onPointerDown={(evt) => this.onPointerDown(evt)} onPointerMove={(evt) => this.resizeColumns(evt, false)}></div>\r\n                        <PropertyTabComponent globalState={this.props.globalState} />\r\n                    </div>\r\n\r\n                    <LogComponent globalState={this.props.globalState} />\r\n                </div>\r\n                <MessageDialog message={this.state.message} isError={true} />\r\n                <div className=\"blocker\">GUI Editor runs only on desktop</div>\r\n                <div className=\"wait-screen hidden\">Processing...please wait</div>\r\n            </Portal>\r\n        );\r\n    }\r\n\r\n    onCreate(value: string): Control {\r\n        const guiElement = GUINodeTools.CreateControlFromString(value);\r\n        const newGuiNode = this.props.globalState.workbench.appendBlock(guiElement);\r\n        this.props.globalState.setSelection([newGuiNode]);\r\n        this.props.globalState.onPointerUpObservable.notifyObservers(null);\r\n        this.forceUpdate();\r\n        return newGuiNode;\r\n    }\r\n    createBlackLine() {\r\n        const icon = this.state.toolbarExpand ? <img src={toolbarExpandIcon} className=\"icon\" /> : <img src={toolbarCollapseIcon} className=\"icon\" />;\r\n        return (\r\n            <div className=\"blackLine\">\r\n                <div className=\"arrow\" onClick={() => this.switchExpandedState()}>\r\n                    {icon}\r\n                </div>\r\n            </div>\r\n        );\r\n    }\r\n    createToolbarHelper(ct: { className: string; icon: string }[]) {\r\n        return ct.map((type) => {\r\n            return (\r\n                <div\r\n                    className={\"toolbar-label\"}\r\n                    key={type.className}\r\n                    onDragStart={() => {\r\n                        this._draggedItem = type.className;\r\n                    }}\r\n                    onClick={() => {\r\n                        this.onCreate(type.className);\r\n                    }}\r\n                    title={type.className}\r\n                >\r\n                    {type.icon && (\r\n                        <div className=\"toolbar-icon\" draggable={true}>\r\n                            <img src={type.icon} alt={type.className} width=\"40px\" height={\"40px\"} />\r\n                        </div>\r\n                    )}\r\n                </div>\r\n            );\r\n        });\r\n    }\r\n    createToolbar() {\r\n        if (this.state.toolbarExpand) {\r\n            return (\r\n                <>\r\n                    <div className=\"toolbarGrab\">\r\n                        {this.createBlackLine()}\r\n                        {<div className={\"toolbar-content-sub1\"}>{this.createToolbarHelper(ControlTypes)}</div>}\r\n                    </div>\r\n                </>\r\n            );\r\n        } else {\r\n            return (\r\n                <>\r\n                    <div className=\"toolbarGrab expanded\">\r\n                        {this.createBlackLine()}\r\n                        {\r\n                            <div className={\"toolbar-content-sub1\"}>\r\n                                {this.createToolbarHelper(ControlTypes.slice(0, Math.ceil(ControlTypes.length / 2)))}\r\n                                {this.createToolbarHelper(ControlTypes.slice(Math.ceil(ControlTypes.length / 2)))}\r\n                            </div>\r\n                        }\r\n                    </div>\r\n                </>\r\n            );\r\n        }\r\n    }\r\n}\r\n","import * as React from \"react\";\r\nimport { createRoot } from \"react-dom/client\";\r\nimport { GlobalState } from \"./globalState\";\r\nimport { WorkbenchEditor } from \"./workbenchEditor\";\r\nimport { CreatePopup } from \"shared-ui-components/popupHelper\";\r\nimport type { Observable } from \"core/Misc/observable\";\r\nimport type { AdvancedDynamicTexture } from \"gui/2D/advancedDynamicTexture\";\r\n\r\n/**\r\n * Interface used to specify creation options for the gui editor\r\n */\r\nexport interface IGUIEditorOptions {\r\n    liveGuiTexture?: AdvancedDynamicTexture;\r\n    customLoad?: { label: string; action: (data: string) => Promise<string> } | undefined;\r\n    hostElement?: HTMLElement;\r\n    customSave?: { label: string; action: (data: string) => Promise<string> };\r\n    currentSnippetToken?: string;\r\n    customLoadObservable?: Observable<any>;\r\n}\r\n\r\n/**\r\n * Class used to create a gui editor\r\n */\r\nexport class GUIEditor {\r\n    private static _CurrentState: GlobalState;\r\n    /** @internal */\r\n    public static _PopupWindow: Window | null = null;\r\n    /**\r\n     * Show the gui editor\r\n     * @param options defines the options to use to configure the gui editor\r\n     * @param embed defines whether editor is being opened from the Playground\r\n     */\r\n    // eslint-disable-next-line @typescript-eslint/naming-convention\r\n    public static async Show(options: IGUIEditorOptions, embed?: boolean) {\r\n        let hostElement = options.hostElement;\r\n\r\n        // if we are in a standalone window and we have some current state, just load the GUI from the snippet server, don't do anything else\r\n        if (this._CurrentState && hostElement) {\r\n            if (options.currentSnippetToken) {\r\n                try {\r\n                    // eslint-disable-next-line @typescript-eslint/no-floating-promises\r\n                    this._CurrentState.workbench.loadFromSnippet(options.currentSnippetToken);\r\n                } catch (error) {\r\n                    //swallow and continue\r\n                }\r\n            }\r\n            return;\r\n        }\r\n\r\n        if (!hostElement) {\r\n            if (this._PopupWindow) {\r\n                this._PopupWindow.close();\r\n            }\r\n            hostElement = CreatePopup(\"BABYLON.JS GUI EDITOR\", { onWindowCreateCallback: (w) => (this._PopupWindow = w), width: 1200, height: 800 })!;\r\n        }\r\n\r\n        const globalState = new GlobalState();\r\n        if (options.liveGuiTexture) {\r\n            globalState.liveGuiTexture = options.liveGuiTexture;\r\n        }\r\n        globalState.hostElement = hostElement;\r\n        globalState.hostDocument = hostElement.ownerDocument!;\r\n        globalState.customSave = options.customSave;\r\n        globalState.customLoad = options.customLoad;\r\n        globalState.hostWindow = hostElement.ownerDocument.defaultView!;\r\n        globalState.registerEventListeners();\r\n\r\n        const onReadyAsync = async () => {\r\n            // create the middle workbench canvas\r\n            if (!globalState.guiTexture) {\r\n                globalState.workbench.createGUICanvas(embed);\r\n                if (options.currentSnippetToken) {\r\n                    try {\r\n                        await globalState.workbench.loadFromSnippet(options.currentSnippetToken);\r\n                    } catch (error) {\r\n                        //swallow and continue\r\n                    }\r\n                }\r\n            }\r\n        };\r\n\r\n        const graphEditor = React.createElement(WorkbenchEditor, {\r\n            globalState,\r\n            onReady: onReadyAsync,\r\n        });\r\n\r\n        const root = createRoot(hostElement);\r\n        root.render(graphEditor);\r\n\r\n        if (options.customLoadObservable) {\r\n            options.customLoadObservable.add(() => {\r\n                globalState.onResetRequiredObservable.notifyObservers();\r\n                globalState.onBuiltObservable.notifyObservers();\r\n            });\r\n        }\r\n\r\n        this._CurrentState = globalState;\r\n\r\n        // Close the popup window when the page is refreshed or scene is disposed\r\n        if (this._PopupWindow) {\r\n            window.onbeforeunload = () => {\r\n                if (this._PopupWindow) {\r\n                    this._PopupWindow.close();\r\n                }\r\n            };\r\n        }\r\n        globalState.hostWindow.addEventListener(\"beforeunload\", () => {\r\n            globalState.onPopupClosedObservable.notifyObservers();\r\n            globalState.dispose();\r\n        });\r\n    }\r\n}\r\n","// Imports\nimport ___CSS_LOADER_API_SOURCEMAP_IMPORT___ from \"../../../../../../node_modules/css-loader/dist/runtime/sourceMaps.js\";\nimport ___CSS_LOADER_API_IMPORT___ from \"../../../../../../node_modules/css-loader/dist/runtime/api.js\";\nvar ___CSS_LOADER_EXPORT___ = ___CSS_LOADER_API_IMPORT___(___CSS_LOADER_API_SOURCEMAP_IMPORT___);\n// Module\n___CSS_LOADER_EXPORT___.push([module.id, `:root{--backgroundGrey: #aaaaaa;--spacingHeight: 30px;--button: #333333;--buttonBackground: #ffffff;--buttonDisabledBackground: #c8c8c8;--disabledBackground: #c8c8c8;--buttonPressed: #ffffff;--buttonPressedBackground: #606060;--buttonHoverBackground: #afafaf}#ge-propertyTab{user-select:none;color:#000;background:#e2e2e2}#ge-propertyTab *{font-family:\"acumin-pro-condensed\",sans-serif;font-size:12px}#ge-propertyTab #header{height:32px;font-size:16px;color:#fff;background:#fff;grid-row:1;text-align:center;display:grid;grid-template-columns:30px 1fr;user-select:none}#ge-propertyTab #header #logo{position:relative;grid-column:1;width:32px;height:32px;left:0;display:flex;align-self:center;justify-self:center;filter:invert(1)}#ge-propertyTab #header #title{background:#fff;color:#000;grid-column:2;display:grid;align-items:center;text-align:center}#ge-propertyTab .copy{display:none}#ge-propertyTab .range{-webkit-appearance:none;width:100%;height:2px;background:#bcbcbc;border-radius:5px;outline:none;opacity:.7;transition:opacity .2s;padding:0}#ge-propertyTab .range:hover{opacity:1}#ge-propertyTab .range::-webkit-slider-thumb{-webkit-appearance:none;appearance:none;width:14px;height:14px;border-radius:50%;background:#e2e2e2;border:solid;border-width:thin;cursor:pointer}#ge-propertyTab .range::-moz-range-thumb{width:14px;height:14px;border-radius:50%;background:#000;cursor:pointer}#ge-propertyTab input[type=color]{-webkit-appearance:none;border:1px solid hsla(0,0%,100%,.5);padding:0;width:30px;height:20px}#ge-propertyTab input[type=color]::-webkit-color-swatch-wrapper{padding:0}#ge-propertyTab input[type=color]::-webkit-color-swatch{border:none}#ge-propertyTab hr{border:1px solid #d0cece}#ge-propertyTab .icon{width:30px;height:30px}#ge-propertyTab .unit{width:26px;height:26px;color:var(--button);background-color:var(--buttonBackground);border:none;margin-top:2px;cursor:pointer;margin-left:2px;font-family:\"atten-round-new\",sans-serif;font-weight:500;font-style:normal;display:flex;justify-content:center;align-items:center}#ge-propertyTab .unit:disabled{background-color:var(--buttonDisabledBackground);cursor:not-allowed}#ge-propertyTab .unit:not(:disabled):hover{background-color:var(--buttonHoverBackground)}#ge-propertyTab .unit:not(:disabled):active{color:var(--buttonPressed);background-color:var(--buttonPressedBackground)}#ge-propertyTab input,#ge-propertyTab select{outline-style:solid;outline-width:0px;outline-color:rgba(0,0,0,0);outline-offset:-1px;outline-width:1px;transition:outline-color .2s;border:rgba(0,0,0,0);padding-left:5px}#ge-propertyTab input:focus,#ge-propertyTab select:focus{outline-width:1px;outline-color:#000}#ge-propertyTab .hasArrows input::-webkit-outer-spin-button,#ge-propertyTab .hasArrows input::-webkit-inner-spin-button{-webkit-appearance:none;margin:0}#ge-propertyTab .sliderLine{height:var(--spacingHeight);display:grid;grid-template-rows:100%;grid-template-columns:auto 1fr 20px 1fr;flex-grow:1}#ge-propertyTab .sliderLine .label{grid-column:1;display:flex;align-items:center;min-width:15px;font-weight:600}#ge-propertyTab .sliderLine .img{grid-column:1;display:flex;align-items:center}#ge-propertyTab .sliderLine .slider{grid-column:4;grid-row:1;margin-right:5px;display:flex;align-items:center;padding-left:5px}#ge-propertyTab .sliderLine .floatLine{grid-column:2;padding-left:0px;grid-template-columns:1fr auto}#ge-propertyTab .sliderLine .floatLine .label{grid-column:1;display:none;align-items:center;font-weight:600}#ge-propertyTab .sliderLine .floatLine .short{grid-column:1;display:flex;align-items:center}#ge-propertyTab .sliderLine .floatLine .short input{width:100%;background-color:#fff;height:24px}#ge-propertyTab .sliderLine .floatLine .short input::-webkit-outer-spin-button,#ge-propertyTab .sliderLine .floatLine .short input::-webkit-inner-spin-button{-webkit-appearance:none;margin:0}#ge-propertyTab .sliderLine .floatLine .short input[type=number]{-webkit-appearance:textfield;appearance:textfield}#ge-propertyTab .sliderLine .floatLine .copy{display:none}#ge-propertyTab .sliderLine .copy{display:none}#ge-propertyTab .ge-divider{padding-right:18px;padding-left:5px;display:grid;grid-template-columns:auto 1fr;padding-top:1px;padding-bottom:1px}#ge-propertyTab .ge-divider>.textLine+.command-button{margin-top:-3px;grid-column:5}#ge-propertyTab .ge-divider.double{display:grid;grid-template-columns:auto 1fr 5px 1fr}#ge-propertyTab .ge-divider.double>.textInputLine:first-of-type,#ge-propertyTab .ge-divider.double>.floatLine:first-of-type{grid-column:2}#ge-propertyTab .ge-divider.double>.textInputLine:nth-of-type(2),#ge-propertyTab .ge-divider.double>.floatLine:nth-of-type(2){grid-column:4}#ge-propertyTab .ge-divider.double>.command-button{grid-column:5;margin-left:5px}#ge-propertyTab .ge-divider.quad{display:grid;grid-template-columns:1fr 5px 1fr 5px 1fr 5px 1fr}#ge-propertyTab .ge-divider.quad>.textInputLine:first-of-type,#ge-propertyTab .ge-divider.quad>.floatLine:first-of-type{grid-column:1}#ge-propertyTab .ge-divider.quad>.textInputLine:nth-of-type(2),#ge-propertyTab .ge-divider.quad>.floatLine:nth-of-type(2){grid-column:3}#ge-propertyTab .ge-divider.quad>.textInputLine:nth-of-type(3),#ge-propertyTab .ge-divider.quad>.floatLine:nth-of-type(3){grid-column:5}#ge-propertyTab .ge-divider.quad>.textInputLine:nth-of-type(4),#ge-propertyTab .ge-divider.quad>.floatLine:nth-of-type(4){grid-column:7}#ge-propertyTab .ge-grid-divider{display:grid;grid-template-columns:150px 1fr auto}#ge-propertyTab .ge-grid-divider .textLine{grid-column:auto}#ge-propertyTab .ge-grid-button-divider{display:grid;grid-template-columns:60px 60px 60px 60px}#ge-propertyTab .ge-grid-remove{display:grid;background-color:#c2c2c2;margin-bottom:5px;filter:invert(1)}#ge-propertyTab .ge-grid-edit{display:grid;background-color:#878787;margin-bottom:5px;filter:invert(1)}#ge-propertyTab .ge-grid{display:grid;margin-bottom:5px}#ge-propertyTab .ge-divider.double .textInputLine{grid-template-columns:auto auto 1fr auto}#ge-propertyTab .textInputLine,#ge-propertyTab .floatLine{user-select:none;padding-bottom:0px;padding-top:0px;height:var(--spacingHeight);display:grid;grid-template-columns:auto auto 1fr;flex-grow:1}#ge-propertyTab .textInputLine .label,#ge-propertyTab .floatLine .label{grid-column:2;display:flex;align-items:center;min-width:15px;font-weight:600}#ge-propertyTab .textInputLine .disabled,#ge-propertyTab .floatLine .disabled{color:var(--backgroundGrey);background-color:var(--disabledBackground)}#ge-propertyTab .textInputLine img,#ge-propertyTab .floatLine img{width:30px}#ge-propertyTab .textInputLine .img,#ge-propertyTab .floatLine .img{grid-column:1;display:flex;align-items:center}#ge-propertyTab .textInputLine .value,#ge-propertyTab .floatLine .value{display:flex;align-items:center;grid-column:3;background:rgba(0,0,0,0);height:26px;position:relative;background-color:#fff;margin-top:2px;overflow-y:hidden}#ge-propertyTab .textInputLine .value input,#ge-propertyTab .floatLine .value input{width:100%;height:24px;color:#333}#ge-propertyTab .textInputLine .value input.hasArrows,#ge-propertyTab .floatLine .value input.hasArrows{padding-right:15px}#ge-propertyTab .textInputLine .value .arrows,#ge-propertyTab .floatLine .value .arrows{display:none;position:absolute;right:0;flex-direction:column;cursor:grab}#ge-propertyTab .textInputLine .value .arrows .downArrowIcon,#ge-propertyTab .textInputLine .value .arrows .upArrowIcon,#ge-propertyTab .floatLine .value .arrows .downArrowIcon,#ge-propertyTab .floatLine .value .arrows .upArrowIcon{width:13px;height:13px}#ge-propertyTab .textInputLine .value:hover .arrows,#ge-propertyTab .textInputLine .value:focus .arrows,#ge-propertyTab .textInputLine .value.dragging .arrows,#ge-propertyTab .floatLine .value:hover .arrows,#ge-propertyTab .floatLine .value:focus .arrows,#ge-propertyTab .floatLine .value.dragging .arrows{display:flex}#ge-propertyTab .textInputLine .value .arrows:hover,#ge-propertyTab .floatLine .value .arrows:hover{background-color:var(--buttonHoverBackground)}#ge-propertyTab .textInputLine .value.dragging .arrows,#ge-propertyTab .floatLine .value.dragging .arrows{background-color:var(--buttonPressedBackground)}#ge-propertyTab .textInputLine .value.dragging .arrows .downArrowIcon,#ge-propertyTab .textInputLine .value.dragging .arrows .upArrowIcon,#ge-propertyTab .floatLine .value.dragging .arrows .downArrowIcon,#ge-propertyTab .floatLine .value.dragging .arrows .upArrowIcon{filter:brightness(10)}#ge-propertyTab .textInputLine .copy,#ge-propertyTab .floatLine .copy{display:none}#ge-propertyTab .textInputLine.withUnits{grid-template-columns:auto auto 1fr auto}#ge-propertyTab .textInputArea{height:100%;display:grid;grid-template-columns:1fr 120px}#ge-propertyTab .textInputArea .disabled{color:var(--backgroundGrey);background-color:var(--disabledBackground)}#ge-propertyTab .textInputArea .label{grid-column:1;display:flex;align-items:center}#ge-propertyTab .textInputArea .value{display:flex;align-items:center;grid-column:2}#ge-propertyTab .textInputArea .value textarea{width:calc(150% - 5px);margin-left:-50%;height:40px}#ge-propertyTab .paneContainer{margin-top:3px;display:grid;grid-template-rows:100%;grid-template-columns:100%}#ge-propertyTab .paneContainer .paneList{border-left:3px solid rgba(0,0,0,0)}#ge-propertyTab .paneContainer:hover .paneList{border-left:3px solid rgba(51,122,183,.8)}#ge-propertyTab .paneContainer:hover .paneContainer-content .header .title{border-left:3px solid #337ab7}#ge-propertyTab .paneContainer .paneContainer-highlight-border{grid-row:1;grid-column:1;opacity:1;border:3px solid red;transition:opacity 250ms;pointer-events:none}#ge-propertyTab .paneContainer .paneContainer-highlight-border.transparent{opacity:0}#ge-propertyTab .paneContainer .paneContainer-content{grid-row:1;grid-column:1}#ge-propertyTab .paneContainer .paneContainer-content .header{display:grid;grid-template-columns:1fr auto;background:#ccc;height:var(--spacingHeight);padding-bottom:0px;padding-top:0px;padding-right:5px;cursor:pointer}#ge-propertyTab .paneContainer .paneContainer-content .header .title{border-left:3px solid rgba(0,0,0,0);padding-left:5px;grid-column:1;display:flex;align-items:center}#ge-propertyTab .paneContainer .paneContainer-content .header .collapse{grid-column:2;display:flex;align-items:center;justify-items:center;transform-origin:center}#ge-propertyTab .paneContainer .paneContainer-content .header .collapse.closed{transform:rotate(180deg)}#ge-propertyTab .paneContainer .paneContainer-content .paneList>div:not(:last-child){border-bottom:.5px solid hsla(0,0%,100%,.1)}#ge-propertyTab .paneContainer .paneContainer-content .fragment>div:not(:last-child){border-bottom:.5px solid hsla(0,0%,100%,.1)}#ge-propertyTab .color-picker{height:26px;width:26px}#ge-propertyTab .color-picker .color-rect-background{width:calc(100% - 2px);height:calc(100% - 2px);border:1px #000 solid;cursor:pointer;background:repeating-conic-gradient(#e2e2e2 0% 25%, white 0% 50%) 50%/100% 100%}#ge-propertyTab .color-picker .color-rect-background .color-rect{height:100%}#ge-propertyTab .color-picker .color-picker-cover{z-index:2;position:fixed;top:0px;right:0px;bottom:0px;left:0px}#ge-propertyTab .color-picker .color-picker-float{position:absolute;outline:1px solid #000}#ge-propertyTab .color-picker .color-picker-container{background-color:#e2e2e2}#ge-propertyTab .gradient-step{display:grid;grid-template-rows:100%;grid-template-columns:20px 30px 40px auto 20px 30px;padding-top:5px;padding-left:5px;padding-bottom:5px}#ge-propertyTab .gradient-step .step{grid-row:1;grid-column:1}#ge-propertyTab .gradient-step .color{grid-row:1;grid-column:2;cursor:pointer}#ge-propertyTab .gradient-step .step-value{margin-left:5px;grid-row:1;grid-column:3;text-align:right;margin-right:5px}#ge-propertyTab .gradient-step .step-slider{grid-row:1;grid-column:4;display:grid;justify-content:stretch;align-content:center;margin-right:-5px;padding-left:12px}#ge-propertyTab .gradient-step .step-slider input{width:90%}#ge-propertyTab .gradient-step .gradient-copy{grid-row:1;grid-column:5;display:grid;align-content:center;justify-content:center}#ge-propertyTab .gradient-step .gradient-copy .img{height:20px;width:20px}#ge-propertyTab .gradient-step .gradient-copy .img:hover{cursor:pointer}#ge-propertyTab .gradient-step .gradient-delete{grid-row:1;grid-column:6;display:grid;align-content:center;justify-content:center}#ge-propertyTab .gradient-step .gradient-delete .img{height:20px;width:20px}#ge-propertyTab .gradient-step .gradient-delete .img:hover{cursor:pointer}#ge-propertyTab .alignment-bar{display:flex;justify-content:center;padding-right:5px}#ge-propertyTab .command-button{cursor:pointer;width:30px}#ge-propertyTab .command-button .command-label{display:none}#ge-propertyTab .command-button .command-button-icon{height:100%;width:100%;display:grid;color:#fff;align-content:center;justify-content:center}#ge-propertyTab .command-button:hover{background-color:#fff}#ge-propertyTab .command-button .active{transform-origin:center;background-color:#fff}#ge-propertyTab .command-button img.active{background-color:#fff}#ge-propertyTab .command-button.disabled{background-color:var(--buttonDisabledBackground);pointer-events:none}#ge-propertyTab .command-button-alt{cursor:pointer;width:40px;margin-left:5px;margin-right:5px;background-color:#fff}#ge-propertyTab .command-button-alt .command-label{display:none}#ge-propertyTab .command-button-alt .command-button-icon{height:100%;width:100%;display:grid;align-content:center;justify-content:center}#ge-propertyTab .command-button-alt:hover{background-color:#c2c2c2;filter:invert(1)}#ge-propertyTab .command-button-alt-disabled{cursor:pointer;pointer-events:none;width:40px;margin-left:5px;margin-right:5px;background-color:#fff}#ge-propertyTab .command-button-alt-disabled .command-label{display:none}#ge-propertyTab .command-button-alt-disabled .command-button-icon{height:100%;width:100%;display:grid;align-content:center;justify-content:center}#ge-propertyTab .command-button-alt-disabled img{filter:invert(1)}#ge-propertyTab .command-button-alt-active{cursor:pointer;pointer-events:none;width:40px;margin-left:5px;margin-right:5px;background-color:#c2c2c2;filter:invert(1)}#ge-propertyTab .command-button-alt-active .command-label{display:none}#ge-propertyTab .command-button-alt-active .command-button-icon{height:100%;width:100%;display:grid;align-content:center;justify-content:center}#ge-propertyTab .floatLine{user-select:none;height:var(--spacingHeight);padding-bottom:0px;padding-top:0px;display:grid;grid-template-columns:auto auto 2fr auto;flex-grow:1}#ge-propertyTab .floatLine .label{grid-column:2;display:flex;align-items:center;min-width:15px;font-weight:600}#ge-propertyTab .floatLine img{width:30px}#ge-propertyTab .floatLine .img{grid-column:1;display:flex;align-items:center}#ge-propertyTab .floatLine .value{display:flex;align-items:center;grid-column:3;background:rgba(0,0,0,0);height:26px}#ge-propertyTab .floatLine .value input{width:100%;background-color:#fff;height:24px}#ge-propertyTab .floatLine .short{grid-column:2;display:flex;align-items:center}#ge-propertyTab .floatLine .short input{width:100%}#ge-propertyTab .floatLine .short input::-webkit-outer-spin-button,#ge-propertyTab .floatLine .short input::-webkit-inner-spin-button{-webkit-appearance:none;margin:0}#ge-propertyTab .floatLine .copy{display:none}#ge-propertyTab .vector3Line{padding-bottom:0px;padding-top:0px;display:grid}#ge-propertyTab .vector3Line .firstLine{display:grid;grid-template-columns:1fr auto 20px;height:var(--spacingHeight)}#ge-propertyTab .vector3Line .firstLine .label{grid-column:1;display:flex;align-items:center}#ge-propertyTab .vector3Line .firstLine .vector{grid-column:2;display:flex;align-items:center;text-align:right;opacity:.8}#ge-propertyTab .vector3Line .firstLine .expand{grid-column:3;display:grid;align-items:center;justify-items:center;cursor:pointer}#ge-propertyTab .vector3Line .firstLine .copy{display:none}#ge-propertyTab .vector3Line .secondLine{display:grid;padding-right:5px;border-left:1px solid #337ab7}#ge-propertyTab .vector3Line .secondLine .no-right-margin{margin-right:0}#ge-propertyTab .vector3Line .secondLine .numeric{display:grid;grid-template-columns:1fr auto}#ge-propertyTab .vector3Line .secondLine .numeric-label{text-align:right;grid-column:1;display:flex;align-items:center;justify-self:right;margin-right:10px}#ge-propertyTab .vector3Line .secondLine .numeric-value{width:120px;grid-column:2;display:flex;align-items:center;border:1px solid #337ab7}#ge-propertyTab .buttonLine{height:var(--spacingHeight);padding-bottom:0px;padding-top:0px;display:grid;align-items:center;justify-items:stretch;padding-bottom:5px}#ge-propertyTab .buttonLine input[type=file]{display:none}#ge-propertyTab .buttonLine .file-upload{background:var(--backgroundGrey);border:1px solid #424242;margin:5px 10px;color:#fff;padding:4px 5px;opacity:.9;cursor:pointer;text-align:center;border-radius:4px}#ge-propertyTab .buttonLine .file-upload:hover{opacity:1}#ge-propertyTab .buttonLine .file-upload:active{transform:scale(0.98);transform-origin:.5 .5}#ge-propertyTab .buttonLine button{background:var(--backgroundGrey);border:1px solid #424242;margin:5px 10px 5px 10px;color:#fff;padding:4px 5px;opacity:.9;border-radius:4px}#ge-propertyTab .buttonLine button:hover{opacity:1}#ge-propertyTab .buttonLine button:active{background:#282828}#ge-propertyTab .buttonLine button:focus{border:1px solid #424242;outline:0px}#ge-propertyTab .numeric{padding-bottom:0px;padding-top:0px;height:var(--spacingHeight);display:grid;grid-template-columns:1fr 120px auto}#ge-propertyTab .numeric .numeric-label{grid-column:1;display:flex;align-items:center}#ge-propertyTab .numeric .number{display:flex;align-items:center;grid-column:2;height:10px}#ge-propertyTab .numeric .number .input{width:calc(100% - 5px);height:10px}#ge-propertyTab .checkBoxLine{padding-bottom:0px;padding-top:0px;height:var(--spacingHeight);display:grid;grid-template-columns:auto 1fr auto;flex-grow:1}#ge-propertyTab .checkBoxLine .label{grid-column:2;display:flex;align-items:center;min-width:100px;margin-left:15px;height:var(--spacingHeight);font-weight:600}#ge-propertyTab .checkBoxLine img{width:30px}#ge-propertyTab .checkBoxLine .img{grid-column:1;display:flex;align-items:center}#ge-propertyTab .checkBoxLine .hidden{display:none}#ge-propertyTab .checkBoxLine .copy{display:none}#ge-propertyTab .listLine{padding-bottom:0px;padding-top:0px;height:var(--spacingHeight);display:grid;grid-template-columns:auto 1fr auto;flex-grow:1}#ge-propertyTab .listLine .label{grid-column:2;display:none;align-items:center}#ge-propertyTab .listLine img{width:30px}#ge-propertyTab .listLine .img{grid-column:1;display:flex;align-items:center}#ge-propertyTab .listLine .options{grid-column:2;padding-left:15px;display:flex;align-items:center}#ge-propertyTab .listLine .options select{width:100%;height:25px;border:rgba(0,0,0,0)}#ge-propertyTab .listLine .options input{width:100%;height:24px;color:#333}#ge-propertyTab .listLine .copy{display:none}#ge-propertyTab .color3Line{padding-left:15px;padding-bottom:0px;padding-top:0px;display:grid;flex-grow:1}#ge-propertyTab .color3Line .firstLine{height:var(--spacingHeight);display:flex;align-items:center}#ge-propertyTab .color3Line .firstLine .label{grid-column:2;padding-left:5px;display:none;align-items:center;min-width:15px}#ge-propertyTab .color3Line .firstLine .img{grid-column:1;display:flex;align-items:center}#ge-propertyTab .color3Line .firstLine img{width:30px;height:30px}#ge-propertyTab .color3Line .firstLine .textInputLine{grid-column:3;padding-left:2px;flex-grow:1}#ge-propertyTab .color3Line .firstLine .color3{display:flex;align-items:center}#ge-propertyTab .color3Line .firstLine .color3 input{margin-right:5px}#ge-propertyTab .color3Line .firstLine .expand{grid-column:3;display:none;align-items:center;justify-items:center;cursor:pointer}#ge-propertyTab .color3Line .firstLine .expand img{height:100%;width:20px}#ge-propertyTab .color3Line .firstLine .copy{grid-column:4;display:none;align-items:center;justify-items:center;cursor:pointer;color:#000}#ge-propertyTab .color3Line .firstLine .copy img{height:100%;width:20px}#ge-propertyTab .color3Line .secondLine{display:grid;padding-right:5px;border-left:1px solid #337ab7}#ge-propertyTab .color3Line .secondLine .numeric{display:grid;grid-template-columns:1fr auto}#ge-propertyTab .color3Line .secondLine .numeric-label{text-align:right;grid-column:1;display:flex;align-items:center;justify-self:right;margin-right:10px}#ge-propertyTab .color3Line .secondLine .numeric-value{width:120px;grid-column:2;display:flex;align-items:center;border:1px solid #337ab7}#ge-propertyTab .textLine{padding-left:5px;padding-bottom:0px;padding-top:0px;padding-right:18px;height:auto;display:grid;grid-template-columns:auto auto 2fr 1fr}#ge-propertyTab .textLine .label{grid-column:2;padding-left:5px;padding-top:4px;display:flex;align-items:left;min-width:15px;color:#a9a9a9;font-size:10px;font-family:\"acumin-pro-semi-condensed\",sans-serif;font-weight:600}#ge-propertyTab .textLine img{width:30px}#ge-propertyTab .textLine .img{grid-column:1;display:flex;align-items:center}#ge-propertyTab .textLine .link-value{grid-column:2;white-space:nowrap;text-overflow:ellipsis;overflow:hidden;text-align:end;opacity:.8;margin:5px;margin-top:6px;max-width:140px;text-decoration:underline;cursor:pointer}#ge-propertyTab .textLine .value{display:none;grid-column:3;white-space:nowrap;text-overflow:ellipsis;overflow:hidden;text-align:end;opacity:.8;margin:5px;margin-top:6px;max-width:200px;user-select:text}#ge-propertyTab .textLine .value.check{color:green}#ge-propertyTab .textLine .value.uncheck{color:red}`, \"\",{\"version\":3,\"sources\":[\"webpack://./../../tools/guiEditor/dist/components/propertyTab/propertyTab.scss\"],\"names\":[],\"mappings\":\"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\",\"sourcesContent\":[\":root {\\r\\n    --backgroundGrey: #aaaaaa;\\r\\n    --spacingHeight: 30px;\\r\\n    --button: #333333;\\r\\n    --buttonBackground: #ffffff;\\r\\n    --buttonDisabledBackground: #c8c8c8;\\r\\n    --disabledBackground: #c8c8c8;\\r\\n    --buttonPressed: #ffffff;\\r\\n    --buttonPressedBackground: #606060;\\r\\n    --buttonHoverBackground: #afafaf;\\r\\n}\\r\\n\\r\\n#ge-propertyTab {\\r\\n    user-select: none;\\r\\n    $line-padding-left: 5px;\\r\\n    $line-padding-bottom: 0px;\\r\\n    $line-padding-top: 0px;\\r\\n    $line-padding-right: 18px;\\r\\n    color: black;\\r\\n    background: #e2e2e2;\\r\\n    * {\\r\\n        font-family: \\\"acumin-pro-condensed\\\", sans-serif;\\r\\n        font-size: 12px;\\r\\n    }\\r\\n    #header {\\r\\n        height: 32px;\\r\\n        font-size: 16px;\\r\\n        color: white;\\r\\n        background: white;\\r\\n        grid-row: 1;\\r\\n        text-align: center;\\r\\n        display: grid;\\r\\n        grid-template-columns: 30px 1fr;\\r\\n        user-select: none;\\r\\n\\r\\n        #logo {\\r\\n            position: relative;\\r\\n            grid-column: 1;\\r\\n            width: 32px;\\r\\n            height: 32px;\\r\\n            left: 0;\\r\\n            display: flex;\\r\\n            align-self: center;\\r\\n            justify-self: center;\\r\\n            filter: invert(1);\\r\\n        }\\r\\n\\r\\n        #title {\\r\\n            background: white;\\r\\n            color: black;\\r\\n            grid-column: 2;\\r\\n            display: grid;\\r\\n            align-items: center;\\r\\n            text-align: center;\\r\\n        }\\r\\n    }\\r\\n\\r\\n    .copy {\\r\\n        display: none;\\r\\n    }\\r\\n\\r\\n    .range {\\r\\n        -webkit-appearance: none;\\r\\n        width: 100%;\\r\\n        height: 2px;\\r\\n        background: #bcbcbc;\\r\\n        border-radius: 5px;\\r\\n        outline: none;\\r\\n        opacity: 0.7;\\r\\n        transition: opacity 0.2s;\\r\\n        padding: 0;\\r\\n    }\\r\\n\\r\\n    .range:hover {\\r\\n        opacity: 1;\\r\\n    }\\r\\n\\r\\n    .range::-webkit-slider-thumb {\\r\\n        -webkit-appearance: none;\\r\\n        appearance: none;\\r\\n        width: 14px;\\r\\n        height: 14px;\\r\\n        border-radius: 50%;\\r\\n        background: #e2e2e2;\\r\\n        border: solid;\\r\\n        border-width: thin;\\r\\n        cursor: pointer;\\r\\n    }\\r\\n\\r\\n    .range::-moz-range-thumb {\\r\\n        width: 14px;\\r\\n        height: 14px;\\r\\n        border-radius: 50%;\\r\\n        background: rgb(0, 0, 0);\\r\\n        cursor: pointer;\\r\\n    }\\r\\n\\r\\n    input[type=\\\"color\\\"] {\\r\\n        -webkit-appearance: none;\\r\\n        border: 1px solid rgba(255, 255, 255, 0.5);\\r\\n        padding: 0;\\r\\n        width: 30px;\\r\\n        height: 20px;\\r\\n    }\\r\\n    input[type=\\\"color\\\"]::-webkit-color-swatch-wrapper {\\r\\n        padding: 0;\\r\\n    }\\r\\n    input[type=\\\"color\\\"]::-webkit-color-swatch {\\r\\n        border: none;\\r\\n    }\\r\\n\\r\\n    hr {\\r\\n        border: 1px solid #d0cece;\\r\\n    }\\r\\n\\r\\n    .icon {\\r\\n        width: 30px;\\r\\n        height: 30px;\\r\\n    }\\r\\n\\r\\n    .unit {\\r\\n        width: 26px;\\r\\n        height: 26px;\\r\\n        color: var(--button);\\r\\n        background-color: var(--buttonBackground);\\r\\n        border: none;\\r\\n        margin-top: 2px;\\r\\n        cursor: pointer;\\r\\n        margin-left: 2px;\\r\\n        font-family: \\\"atten-round-new\\\", sans-serif;\\r\\n        font-weight: 500;\\r\\n        font-style: normal;\\r\\n        display: flex;\\r\\n        justify-content: center;\\r\\n        align-items: center;\\r\\n    }\\r\\n\\r\\n    .unit:disabled {\\r\\n        background-color: var(--buttonDisabledBackground);\\r\\n        cursor: not-allowed;\\r\\n    }\\r\\n\\r\\n    .unit:not(:disabled):hover {\\r\\n        background-color: var(--buttonHoverBackground);\\r\\n    }\\r\\n\\r\\n    .unit:not(:disabled):active {\\r\\n        color: var(--buttonPressed);\\r\\n        background-color: var(--buttonPressedBackground);\\r\\n    }\\r\\n\\r\\n    input,\\r\\n    select {\\r\\n        outline-style: solid;\\r\\n        outline-width: 0px;\\r\\n        outline-color: transparent;\\r\\n        outline-offset: -1px;\\r\\n        outline-width: 1px;\\r\\n        transition: outline-color 0.2s;\\r\\n        border: transparent;\\r\\n        padding-left: 5px;\\r\\n\\r\\n        &:focus {\\r\\n            outline-width: 1px;\\r\\n            outline-color: black;\\r\\n        }\\r\\n    }\\r\\n\\r\\n    .hasArrows input::-webkit-outer-spin-button,\\r\\n    .hasArrows input::-webkit-inner-spin-button {\\r\\n        -webkit-appearance: none;\\r\\n        margin: 0;\\r\\n    }\\r\\n\\r\\n    .sliderLine {\\r\\n        height: var(--spacingHeight);\\r\\n        display: grid;\\r\\n        grid-template-rows: 100%;\\r\\n        grid-template-columns: auto 1fr 20px 1fr;\\r\\n        flex-grow: 1;\\r\\n\\r\\n        .label {\\r\\n            grid-column: 1;\\r\\n            display: flex;\\r\\n            align-items: center;\\r\\n            min-width: 15px;\\r\\n            font-weight: 600;\\r\\n        }\\r\\n\\r\\n        .img {\\r\\n            grid-column: 1;\\r\\n            display: flex;\\r\\n            align-items: center;\\r\\n        }\\r\\n\\r\\n        .slider {\\r\\n            grid-column: 4;\\r\\n            grid-row: 1;\\r\\n            margin-right: 5px;\\r\\n            display: flex;\\r\\n            align-items: center;\\r\\n            padding-left: 5px;\\r\\n        }\\r\\n\\r\\n        .floatLine {\\r\\n            grid-column: 2;\\r\\n            padding-left: 0px;\\r\\n            grid-template-columns: 1fr auto;\\r\\n\\r\\n            .label {\\r\\n                grid-column: 1;\\r\\n                display: none;\\r\\n                align-items: center;\\r\\n                font-weight: 600;\\r\\n            }\\r\\n\\r\\n            .short {\\r\\n                grid-column: 1;\\r\\n                display: flex;\\r\\n                align-items: center;\\r\\n\\r\\n                input {\\r\\n                    width: 100%;\\r\\n                    background-color: white;\\r\\n                    height: 24px;\\r\\n                }\\r\\n\\r\\n                input::-webkit-outer-spin-button,\\r\\n                input::-webkit-inner-spin-button {\\r\\n                    -webkit-appearance: none;\\r\\n                    margin: 0;\\r\\n                }\\r\\n\\r\\n                input[type=\\\"number\\\"] {\\r\\n                    -webkit-appearance: textfield;\\r\\n                    appearance: textfield;\\r\\n                }\\r\\n            }\\r\\n\\r\\n            .copy {\\r\\n                display: none;\\r\\n            }\\r\\n        }\\r\\n\\r\\n        .copy {\\r\\n            display: none;\\r\\n        }\\r\\n    }\\r\\n\\r\\n    .ge-divider {\\r\\n        padding-right: $line-padding-right;\\r\\n        padding-left: 5px;\\r\\n        display: grid;\\r\\n        grid-template-columns: auto 1fr;\\r\\n        padding-top: 1px;\\r\\n        padding-bottom: 1px;\\r\\n\\r\\n        > .textLine + .command-button {\\r\\n            margin-top: -3px;\\r\\n            grid-column: 5;\\r\\n        }\\r\\n    }\\r\\n    .ge-divider.double {\\r\\n        display: grid;\\r\\n        grid-template-columns: auto 1fr 5px 1fr;\\r\\n        > .textInputLine,\\r\\n        > .floatLine {\\r\\n            &:first-of-type {\\r\\n                grid-column: 2;\\r\\n            }\\r\\n            &:nth-of-type(2) {\\r\\n                grid-column: 4;\\r\\n            }\\r\\n        }\\r\\n        > .command-button {\\r\\n            grid-column: 5;\\r\\n            margin-left: 5px;\\r\\n        }\\r\\n    }\\r\\n    .ge-divider.quad {\\r\\n        display: grid;\\r\\n        grid-template-columns: 1fr 5px 1fr 5px 1fr 5px 1fr;\\r\\n        > .textInputLine,\\r\\n        > .floatLine {\\r\\n            &:first-of-type {\\r\\n                grid-column: 1;\\r\\n            }\\r\\n            &:nth-of-type(2) {\\r\\n                grid-column: 3;\\r\\n            }\\r\\n            &:nth-of-type(3) {\\r\\n                grid-column: 5;\\r\\n            }\\r\\n            &:nth-of-type(4) {\\r\\n                grid-column: 7;\\r\\n            }\\r\\n        }\\r\\n    }\\r\\n    .ge-grid-divider {\\r\\n        display: grid;\\r\\n        grid-template-columns: 150px 1fr auto;\\r\\n\\r\\n        .textLine {\\r\\n            grid-column: auto;\\r\\n        }\\r\\n    }\\r\\n\\r\\n    .ge-grid-button-divider {\\r\\n        display: grid;\\r\\n        grid-template-columns: 60px 60px 60px 60px;\\r\\n    }\\r\\n\\r\\n    .ge-grid-remove {\\r\\n        display: grid;\\r\\n        background-color: #c2c2c2;\\r\\n        margin-bottom: 5px;\\r\\n        filter: invert(1);\\r\\n    }\\r\\n\\r\\n    .ge-grid-edit {\\r\\n        display: grid;\\r\\n        background-color: #878787;\\r\\n        margin-bottom: 5px;\\r\\n        filter: invert(1);\\r\\n    }\\r\\n\\r\\n    .ge-grid {\\r\\n        display: grid;\\r\\n        margin-bottom: 5px;\\r\\n    }\\r\\n\\r\\n    .ge-divider.double .textInputLine {\\r\\n        grid-template-columns: auto auto 1fr auto;\\r\\n    }\\r\\n\\r\\n    .textInputLine,\\r\\n    .floatLine {\\r\\n        user-select: none;\\r\\n        padding-bottom: $line-padding-bottom;\\r\\n        padding-top: $line-padding-top;\\r\\n        height: var(--spacingHeight);\\r\\n        display: grid;\\r\\n        grid-template-columns: auto auto 1fr;\\r\\n        flex-grow: 1;\\r\\n        .label {\\r\\n            grid-column: 2;\\r\\n            display: flex;\\r\\n            align-items: center;\\r\\n            min-width: 15px;\\r\\n            font-weight: 600;\\r\\n        }\\r\\n\\r\\n        .disabled {\\r\\n            color: var(--backgroundGrey);\\r\\n            background-color: var(--disabledBackground);\\r\\n        }\\r\\n\\r\\n        img {\\r\\n            width: 30px;\\r\\n        }\\r\\n\\r\\n        .img {\\r\\n            grid-column: 1;\\r\\n            display: flex;\\r\\n            align-items: center;\\r\\n        }\\r\\n\\r\\n        .value {\\r\\n            display: flex;\\r\\n            align-items: center;\\r\\n            grid-column: 3;\\r\\n            background: transparent;\\r\\n            height: 26px;\\r\\n            position: relative;\\r\\n            background-color: white;\\r\\n            margin-top: 2px;\\r\\n            overflow-y: hidden;\\r\\n            input {\\r\\n                width: 100%;\\r\\n                height: 24px;\\r\\n                color: #333333;\\r\\n            }\\r\\n            input.hasArrows {\\r\\n                padding-right: 15px;\\r\\n            }\\r\\n            .arrows {\\r\\n                display: none;\\r\\n                position: absolute;\\r\\n                right: 0;\\r\\n                flex-direction: column;\\r\\n                cursor: grab;\\r\\n                .downArrowIcon,\\r\\n                .upArrowIcon {\\r\\n                    width: 13px;\\r\\n                    height: 13px;\\r\\n                }\\r\\n            }\\r\\n            &:hover .arrows,\\r\\n            &:focus .arrows,\\r\\n            &.dragging .arrows {\\r\\n                display: flex;\\r\\n            }\\r\\n            .arrows:hover {\\r\\n                background-color: var(--buttonHoverBackground);\\r\\n            }\\r\\n            &.dragging .arrows {\\r\\n                background-color: var(--buttonPressedBackground);\\r\\n                .downArrowIcon,\\r\\n                .upArrowIcon {\\r\\n                    filter: brightness(10);\\r\\n                }\\r\\n            }\\r\\n        }\\r\\n\\r\\n        .copy {\\r\\n            display: none;\\r\\n        }\\r\\n    }\\r\\n\\r\\n    .textInputLine.withUnits {\\r\\n        grid-template-columns: auto auto 1fr auto;\\r\\n    }\\r\\n\\r\\n    .textInputArea {\\r\\n        height: 100%;\\r\\n        display: grid;\\r\\n        grid-template-columns: 1fr 120px;\\r\\n\\r\\n        .disabled {\\r\\n            color: var(--backgroundGrey);\\r\\n            background-color: var(--disabledBackground);\\r\\n        }\\r\\n\\r\\n        .label {\\r\\n            grid-column: 1;\\r\\n            display: flex;\\r\\n            align-items: center;\\r\\n        }\\r\\n\\r\\n        .value {\\r\\n            display: flex;\\r\\n            align-items: center;\\r\\n            grid-column: 2;\\r\\n\\r\\n            textarea {\\r\\n                width: calc(150% - 5px);\\r\\n                margin-left: -50%;\\r\\n                height: 40px;\\r\\n            }\\r\\n        }\\r\\n    }\\r\\n\\r\\n    .paneContainer {\\r\\n        margin-top: 3px;\\r\\n        display: grid;\\r\\n        grid-template-rows: 100%;\\r\\n        grid-template-columns: 100%;\\r\\n\\r\\n        .paneList {\\r\\n            border-left: 3px solid transparent;\\r\\n        }\\r\\n\\r\\n        &:hover {\\r\\n            .paneList {\\r\\n                border-left: 3px solid rgba(51, 122, 183, 0.8);\\r\\n            }\\r\\n\\r\\n            .paneContainer-content {\\r\\n                .header {\\r\\n                    .title {\\r\\n                        border-left: 3px solid rgb(51, 122, 183);\\r\\n                    }\\r\\n                }\\r\\n            }\\r\\n        }\\r\\n\\r\\n        .paneContainer-highlight-border {\\r\\n            grid-row: 1;\\r\\n            grid-column: 1;\\r\\n            opacity: 1;\\r\\n            border: 3px solid red;\\r\\n            transition: opacity 250ms;\\r\\n            pointer-events: none;\\r\\n\\r\\n            &.transparent {\\r\\n                opacity: 0;\\r\\n            }\\r\\n        }\\r\\n\\r\\n        .paneContainer-content {\\r\\n            grid-row: 1;\\r\\n            grid-column: 1;\\r\\n\\r\\n            .header {\\r\\n                display: grid;\\r\\n                grid-template-columns: 1fr auto;\\r\\n                background: #cccccc;\\r\\n                height: var(--spacingHeight);\\r\\n                padding-bottom: $line-padding-bottom;\\r\\n                padding-top: $line-padding-top;\\r\\n                padding-right: 5px;\\r\\n                cursor: pointer;\\r\\n\\r\\n                .title {\\r\\n                    border-left: 3px solid transparent;\\r\\n                    padding-left: 5px;\\r\\n                    grid-column: 1;\\r\\n                    display: flex;\\r\\n                    align-items: center;\\r\\n                }\\r\\n\\r\\n                .collapse {\\r\\n                    grid-column: 2;\\r\\n                    display: flex;\\r\\n                    align-items: center;\\r\\n                    justify-items: center;\\r\\n                    transform-origin: center;\\r\\n\\r\\n                    &.closed {\\r\\n                        transform: rotate(180deg);\\r\\n                    }\\r\\n                }\\r\\n            }\\r\\n\\r\\n            .paneList > div:not(:last-child) {\\r\\n                border-bottom: 0.5px solid rgba(255, 255, 255, 0.1);\\r\\n            }\\r\\n\\r\\n            .fragment > div:not(:last-child) {\\r\\n                border-bottom: 0.5px solid rgba(255, 255, 255, 0.1);\\r\\n            }\\r\\n        }\\r\\n    }\\r\\n\\r\\n    .color-picker {\\r\\n        height: 26px;\\r\\n        width: 26px;\\r\\n\\r\\n        .color-rect-background {\\r\\n            width: calc(100% - 2px);\\r\\n            height: calc(100% - 2px);\\r\\n            border: 1px black solid;\\r\\n            cursor: pointer;\\r\\n            background: repeating-conic-gradient(#e2e2e2 0% 25%, white 0% 50%) 50% / 100% 100%;\\r\\n            .color-rect {\\r\\n                height: 100%;\\r\\n            }\\r\\n        }\\r\\n\\r\\n        .color-picker-cover {\\r\\n            z-index: 2;\\r\\n            position: fixed;\\r\\n            top: 0px;\\r\\n            right: 0px;\\r\\n            bottom: 0px;\\r\\n            left: 0px;\\r\\n        }\\r\\n\\r\\n        .color-picker-float {\\r\\n            position: absolute;\\r\\n            outline: 1px solid black;\\r\\n        }\\r\\n\\r\\n        .color-picker-container {\\r\\n            background-color: #e2e2e2;\\r\\n        }\\r\\n    }\\r\\n\\r\\n    .gradient-step {\\r\\n        display: grid;\\r\\n        grid-template-rows: 100%;\\r\\n        grid-template-columns: 20px 30px 40px auto 20px 30px;\\r\\n        padding-top: 5px;\\r\\n        padding-left: 5px;\\r\\n        padding-bottom: 5px;\\r\\n\\r\\n        .step {\\r\\n            grid-row: 1;\\r\\n            grid-column: 1;\\r\\n        }\\r\\n\\r\\n        .color {\\r\\n            grid-row: 1;\\r\\n            grid-column: 2;\\r\\n            cursor: pointer;\\r\\n        }\\r\\n\\r\\n        .step-value {\\r\\n            margin-left: 5px;\\r\\n            grid-row: 1;\\r\\n            grid-column: 3;\\r\\n            text-align: right;\\r\\n            margin-right: 5px;\\r\\n        }\\r\\n\\r\\n        .step-slider {\\r\\n            grid-row: 1;\\r\\n            grid-column: 4;\\r\\n            display: grid;\\r\\n            justify-content: stretch;\\r\\n            align-content: center;\\r\\n            margin-right: -5px;\\r\\n            padding-left: 12px;\\r\\n\\r\\n            input {\\r\\n                width: 90%;\\r\\n            }\\r\\n        }\\r\\n\\r\\n        .gradient-copy {\\r\\n            grid-row: 1;\\r\\n            grid-column: 5;\\r\\n            display: grid;\\r\\n            align-content: center;\\r\\n            justify-content: center;\\r\\n\\r\\n            .img {\\r\\n                height: 20px;\\r\\n                width: 20px;\\r\\n            }\\r\\n            .img:hover {\\r\\n                cursor: pointer;\\r\\n            }\\r\\n        }\\r\\n        .gradient-delete {\\r\\n            grid-row: 1;\\r\\n            grid-column: 6;\\r\\n            display: grid;\\r\\n            align-content: center;\\r\\n            justify-content: center;\\r\\n            .img {\\r\\n                height: 20px;\\r\\n                width: 20px;\\r\\n            }\\r\\n            .img:hover {\\r\\n                cursor: pointer;\\r\\n            }\\r\\n        }\\r\\n    }\\r\\n\\r\\n    .alignment-bar {\\r\\n        display: flex;\\r\\n        justify-content: center;\\r\\n        padding-right: 5px;\\r\\n    }\\r\\n\\r\\n    .command-button {\\r\\n        cursor: pointer;\\r\\n        width: 30px;\\r\\n\\r\\n        .command-label {\\r\\n            display: none;\\r\\n        }\\r\\n\\r\\n        .command-button-icon {\\r\\n            height: 100%;\\r\\n            width: 100%;\\r\\n            display: grid;\\r\\n            color: white;\\r\\n            align-content: center;\\r\\n            justify-content: center;\\r\\n        }\\r\\n\\r\\n        &:hover {\\r\\n            background-color: white;\\r\\n        }\\r\\n\\r\\n        .active {\\r\\n            transform-origin: center;\\r\\n            background-color: white;\\r\\n        }\\r\\n\\r\\n        img {\\r\\n            &.active {\\r\\n                background-color: white;\\r\\n            }\\r\\n        }\\r\\n\\r\\n        &.disabled {\\r\\n            background-color: var(--buttonDisabledBackground);\\r\\n            pointer-events: none;\\r\\n        }\\r\\n    }\\r\\n\\r\\n    .command-button-alt {\\r\\n        cursor: pointer;\\r\\n        width: 40px;\\r\\n        margin-left: 5px;\\r\\n        margin-right: 5px;\\r\\n        background-color: white;\\r\\n        .command-label {\\r\\n            display: none;\\r\\n        }\\r\\n\\r\\n        .command-button-icon {\\r\\n            height: 100%;\\r\\n            width: 100%;\\r\\n            display: grid;\\r\\n            align-content: center;\\r\\n            justify-content: center;\\r\\n        }\\r\\n        &:hover {\\r\\n            background-color: #c2c2c2;\\r\\n            filter: invert(1);\\r\\n        }\\r\\n    }\\r\\n\\r\\n    .command-button-alt-disabled {\\r\\n        cursor: pointer;\\r\\n        pointer-events: none;\\r\\n        width: 40px;\\r\\n        margin-left: 5px;\\r\\n        margin-right: 5px;\\r\\n        background-color: white;\\r\\n        .command-label {\\r\\n            display: none;\\r\\n        }\\r\\n\\r\\n        .command-button-icon {\\r\\n            height: 100%;\\r\\n            width: 100%;\\r\\n            display: grid;\\r\\n            align-content: center;\\r\\n            justify-content: center;\\r\\n        }\\r\\n\\r\\n        img {\\r\\n            filter: invert(1);\\r\\n        }\\r\\n    }\\r\\n\\r\\n    .command-button-alt-active {\\r\\n        cursor: pointer;\\r\\n        pointer-events: none;\\r\\n        width: 40px;\\r\\n        margin-left: 5px;\\r\\n        margin-right: 5px;\\r\\n        background-color: #c2c2c2;\\r\\n        filter: invert(1);\\r\\n        .command-label {\\r\\n            display: none;\\r\\n        }\\r\\n\\r\\n        .command-button-icon {\\r\\n            height: 100%;\\r\\n            width: 100%;\\r\\n            display: grid;\\r\\n            align-content: center;\\r\\n            justify-content: center;\\r\\n        }\\r\\n    }\\r\\n\\r\\n    .floatLine {\\r\\n        user-select: none;\\r\\n        height: var(--spacingHeight);\\r\\n        padding-bottom: $line-padding-bottom;\\r\\n        padding-top: $line-padding-top;\\r\\n        display: grid;\\r\\n        grid-template-columns: auto auto 2fr auto;\\r\\n        flex-grow: 1;\\r\\n\\r\\n        .label {\\r\\n            grid-column: 2;\\r\\n            display: flex;\\r\\n            align-items: center;\\r\\n            min-width: 15px;\\r\\n            font-weight: 600;\\r\\n        }\\r\\n\\r\\n        img {\\r\\n            width: 30px;\\r\\n        }\\r\\n\\r\\n        .img {\\r\\n            grid-column: 1;\\r\\n            display: flex;\\r\\n            align-items: center;\\r\\n        }\\r\\n\\r\\n        .value {\\r\\n            display: flex;\\r\\n            align-items: center;\\r\\n            grid-column: 3;\\r\\n            background: transparent;\\r\\n            height: 26px;\\r\\n            input {\\r\\n                width: 100%;\\r\\n                background-color: white;\\r\\n                height: 24px;\\r\\n            }\\r\\n        }\\r\\n\\r\\n        .short {\\r\\n            grid-column: 2;\\r\\n\\r\\n            display: flex;\\r\\n            align-items: center;\\r\\n\\r\\n            input {\\r\\n                width: 100%;\\r\\n            }\\r\\n\\r\\n            input::-webkit-outer-spin-button,\\r\\n            input::-webkit-inner-spin-button {\\r\\n                -webkit-appearance: none;\\r\\n                margin: 0;\\r\\n            }\\r\\n        }\\r\\n\\r\\n        .copy {\\r\\n            display: none;\\r\\n        }\\r\\n    }\\r\\n\\r\\n    .vector3Line {\\r\\n        padding-bottom: $line-padding-bottom;\\r\\n        padding-top: $line-padding-top;\\r\\n        display: grid;\\r\\n        .firstLine {\\r\\n            display: grid;\\r\\n            grid-template-columns: 1fr auto 20px;\\r\\n            height: var(--spacingHeight);\\r\\n\\r\\n            .label {\\r\\n                grid-column: 1;\\r\\n                display: flex;\\r\\n                align-items: center;\\r\\n            }\\r\\n\\r\\n            .vector {\\r\\n                grid-column: 2;\\r\\n                display: flex;\\r\\n                align-items: center;\\r\\n                text-align: right;\\r\\n                opacity: 0.8;\\r\\n            }\\r\\n\\r\\n            .expand {\\r\\n                grid-column: 3;\\r\\n                display: grid;\\r\\n                align-items: center;\\r\\n                justify-items: center;\\r\\n                cursor: pointer;\\r\\n            }\\r\\n\\r\\n            .copy {\\r\\n                display: none;\\r\\n            }\\r\\n        }\\r\\n\\r\\n        .secondLine {\\r\\n            display: grid;\\r\\n            padding-right: 5px;\\r\\n            border-left: 1px solid rgb(51, 122, 183);\\r\\n\\r\\n            .no-right-margin {\\r\\n                margin-right: 0;\\r\\n            }\\r\\n\\r\\n            .numeric {\\r\\n                display: grid;\\r\\n                grid-template-columns: 1fr auto;\\r\\n            }\\r\\n\\r\\n            .numeric-label {\\r\\n                text-align: right;\\r\\n                grid-column: 1;\\r\\n                display: flex;\\r\\n                align-items: center;\\r\\n                justify-self: right;\\r\\n                margin-right: 10px;\\r\\n            }\\r\\n\\r\\n            .numeric-value {\\r\\n                width: 120px;\\r\\n                grid-column: 2;\\r\\n                display: flex;\\r\\n                align-items: center;\\r\\n                border: 1px solid rgb(51, 122, 183);\\r\\n            }\\r\\n        }\\r\\n    }\\r\\n\\r\\n    .buttonLine {\\r\\n        height: var(--spacingHeight);\\r\\n        padding-bottom: $line-padding-bottom;\\r\\n        padding-top: $line-padding-top;\\r\\n        display: grid;\\r\\n        align-items: center;\\r\\n        justify-items: stretch;\\r\\n        padding-bottom: 5px;\\r\\n        input[type=\\\"file\\\"] {\\r\\n            display: none;\\r\\n        }\\r\\n\\r\\n        .file-upload {\\r\\n            background: var(--backgroundGrey);\\r\\n            border: 1px solid #424242;\\r\\n            margin: 5px 10px;\\r\\n            color: white;\\r\\n            padding: 4px 5px;\\r\\n            opacity: 0.9;\\r\\n            cursor: pointer;\\r\\n            text-align: center;\\r\\n            border-radius: 4px;\\r\\n        }\\r\\n\\r\\n        .file-upload:hover {\\r\\n            opacity: 1;\\r\\n        }\\r\\n\\r\\n        .file-upload:active {\\r\\n            transform: scale(0.98);\\r\\n            transform-origin: 0.5 0.5;\\r\\n        }\\r\\n\\r\\n        button {\\r\\n            background: var(--backgroundGrey);\\r\\n            border: 1px solid #424242;\\r\\n            margin: 5px 10px 5px 10px;\\r\\n            color: white;\\r\\n            padding: 4px 5px;\\r\\n            opacity: 0.9;\\r\\n            border-radius: 4px;\\r\\n        }\\r\\n\\r\\n        button:hover {\\r\\n            opacity: 1;\\r\\n        }\\r\\n\\r\\n        button:active {\\r\\n            background: #282828;\\r\\n        }\\r\\n\\r\\n        button:focus {\\r\\n            border: 1px solid #424242;\\r\\n            outline: 0px;\\r\\n        }\\r\\n    }\\r\\n\\r\\n    .numeric {\\r\\n        padding-bottom: $line-padding-bottom;\\r\\n        padding-top: $line-padding-top;\\r\\n        height: var(--spacingHeight);\\r\\n        display: grid;\\r\\n        grid-template-columns: 1fr 120px auto;\\r\\n\\r\\n        .numeric-label {\\r\\n            grid-column: 1;\\r\\n            display: flex;\\r\\n            align-items: center;\\r\\n        }\\r\\n\\r\\n        .number {\\r\\n            display: flex;\\r\\n            align-items: center;\\r\\n            grid-column: 2;\\r\\n            height: 10px;\\r\\n            .input {\\r\\n                width: calc(100% - 5px);\\r\\n                height: 10px;\\r\\n            }\\r\\n        }\\r\\n    }\\r\\n\\r\\n    .checkBoxLine {\\r\\n        padding-bottom: $line-padding-bottom;\\r\\n        padding-top: $line-padding-top;\\r\\n        height: var(--spacingHeight);\\r\\n        display: grid;\\r\\n        grid-template-columns: auto 1fr auto;\\r\\n        flex-grow: 1;\\r\\n\\r\\n        .label {\\r\\n            grid-column: 2;\\r\\n            display: flex;\\r\\n            align-items: center;\\r\\n            min-width: 100px;\\r\\n            margin-left: 15px;\\r\\n            height: var(--spacingHeight);\\r\\n            font-weight: 600;\\r\\n        }\\r\\n\\r\\n        img {\\r\\n            width: 30px;\\r\\n        }\\r\\n\\r\\n        .img {\\r\\n            grid-column: 1;\\r\\n            display: flex;\\r\\n            align-items: center;\\r\\n        }\\r\\n\\r\\n        .hidden {\\r\\n            display: none;\\r\\n        }\\r\\n\\r\\n        .copy {\\r\\n            display: none;\\r\\n        }\\r\\n    }\\r\\n\\r\\n    .listLine {\\r\\n        padding-bottom: $line-padding-bottom;\\r\\n        padding-top: $line-padding-top;\\r\\n        height: var(--spacingHeight);\\r\\n        display: grid;\\r\\n        grid-template-columns: auto 1fr auto;\\r\\n        flex-grow: 1;\\r\\n\\r\\n        .label {\\r\\n            grid-column: 2;\\r\\n            display: none;\\r\\n            align-items: center;\\r\\n        }\\r\\n\\r\\n        img {\\r\\n            width: 30px;\\r\\n        }\\r\\n\\r\\n        .img {\\r\\n            grid-column: 1;\\r\\n            display: flex;\\r\\n            align-items: center;\\r\\n        }\\r\\n\\r\\n        .options {\\r\\n            grid-column: 2;\\r\\n            padding-left: 15px;\\r\\n            display: flex;\\r\\n            align-items: center;\\r\\n\\r\\n            select {\\r\\n                width: 100%;\\r\\n                height: 25px;\\r\\n                border: transparent;\\r\\n            }\\r\\n\\r\\n            input {\\r\\n                width: 100%;\\r\\n                height: 24px;\\r\\n                color: #333333;\\r\\n            }\\r\\n        }\\r\\n\\r\\n        .copy {\\r\\n            display: none;\\r\\n        }\\r\\n    }\\r\\n\\r\\n    .color3Line {\\r\\n        padding-left: 15px;\\r\\n        padding-bottom: $line-padding-bottom;\\r\\n        padding-top: $line-padding-top;\\r\\n        display: grid;\\r\\n        flex-grow: 1;\\r\\n\\r\\n        .firstLine {\\r\\n            height: var(--spacingHeight);\\r\\n            display: flex;\\r\\n            align-items: center;\\r\\n\\r\\n            .label {\\r\\n                grid-column: 2;\\r\\n                padding-left: 5px;\\r\\n                display: none;\\r\\n                align-items: center;\\r\\n                min-width: 15px;\\r\\n            }\\r\\n\\r\\n            .img {\\r\\n                grid-column: 1;\\r\\n                display: flex;\\r\\n                align-items: center;\\r\\n            }\\r\\n\\r\\n            img {\\r\\n                width: 30px;\\r\\n                height: 30px;\\r\\n            }\\r\\n\\r\\n            .textInputLine {\\r\\n                grid-column: 3;\\r\\n                padding-left: 2px;\\r\\n                flex-grow: 1;\\r\\n            }\\r\\n\\r\\n            .color3 {\\r\\n                display: flex;\\r\\n                align-items: center;\\r\\n\\r\\n                input {\\r\\n                    margin-right: 5px;\\r\\n                }\\r\\n            }\\r\\n\\r\\n            .expand {\\r\\n                grid-column: 3;\\r\\n                display: none;\\r\\n                align-items: center;\\r\\n                justify-items: center;\\r\\n                cursor: pointer;\\r\\n\\r\\n                img {\\r\\n                    height: 100%;\\r\\n                    width: 20px;\\r\\n                }\\r\\n            }\\r\\n\\r\\n            .copy {\\r\\n                grid-column: 4;\\r\\n                display: none;\\r\\n                align-items: center;\\r\\n                justify-items: center;\\r\\n                cursor: pointer;\\r\\n                color: black;\\r\\n                img {\\r\\n                    height: 100%;\\r\\n                    width: 20px;\\r\\n                }\\r\\n            }\\r\\n        }\\r\\n\\r\\n        .secondLine {\\r\\n            display: grid;\\r\\n            padding-right: 5px;\\r\\n            border-left: 1px solid rgb(51, 122, 183);\\r\\n\\r\\n            .numeric {\\r\\n                display: grid;\\r\\n                grid-template-columns: 1fr auto;\\r\\n            }\\r\\n\\r\\n            .numeric-label {\\r\\n                text-align: right;\\r\\n                grid-column: 1;\\r\\n                display: flex;\\r\\n                align-items: center;\\r\\n                justify-self: right;\\r\\n                margin-right: 10px;\\r\\n            }\\r\\n\\r\\n            .numeric-value {\\r\\n                width: 120px;\\r\\n                grid-column: 2;\\r\\n                display: flex;\\r\\n                align-items: center;\\r\\n                border: 1px solid rgb(51, 122, 183);\\r\\n            }\\r\\n        }\\r\\n    }\\r\\n\\r\\n    .textLine {\\r\\n        padding-left: $line-padding-left;\\r\\n        padding-bottom: $line-padding-bottom;\\r\\n        padding-top: $line-padding-top;\\r\\n        padding-right: $line-padding-right;\\r\\n        height: auto;\\r\\n        display: grid;\\r\\n        grid-template-columns: auto auto 2fr 1fr;\\r\\n        .label {\\r\\n            grid-column: 2;\\r\\n            padding-left: 5px;\\r\\n            padding-top: 4px;\\r\\n            display: flex;\\r\\n            align-items: left;\\r\\n            min-width: 15px;\\r\\n            color: #a9a9a9;\\r\\n            font-size: 10px;\\r\\n            font-family: \\\"acumin-pro-semi-condensed\\\", sans-serif;\\r\\n            font-weight: 600;\\r\\n        }\\r\\n\\r\\n        img {\\r\\n            width: 30px;\\r\\n        }\\r\\n\\r\\n        .img {\\r\\n            grid-column: 1;\\r\\n            display: flex;\\r\\n            align-items: center;\\r\\n        }\\r\\n\\r\\n        .link-value {\\r\\n            grid-column: 2;\\r\\n            white-space: nowrap;\\r\\n            text-overflow: ellipsis;\\r\\n            overflow: hidden;\\r\\n            text-align: end;\\r\\n            opacity: 0.8;\\r\\n            margin: 5px;\\r\\n            margin-top: 6px;\\r\\n            max-width: 140px;\\r\\n            text-decoration: underline;\\r\\n            cursor: pointer;\\r\\n        }\\r\\n\\r\\n        .value {\\r\\n            display: none;\\r\\n            grid-column: 3;\\r\\n            white-space: nowrap;\\r\\n            text-overflow: ellipsis;\\r\\n            overflow: hidden;\\r\\n            text-align: end;\\r\\n            opacity: 0.8;\\r\\n            margin: 5px;\\r\\n            margin-top: 6px;\\r\\n            max-width: 200px;\\r\\n            user-select: text;\\r\\n\\r\\n            &.check {\\r\\n                color: green;\\r\\n            }\\r\\n\\r\\n            &.uncheck {\\r\\n                color: red;\\r\\n            }\\r\\n        }\\r\\n    }\\r\\n}\\r\\n\"],\"sourceRoot\":\"\"}]);\n// Exports\nexport default ___CSS_LOADER_EXPORT___;\n","// Imports\nimport ___CSS_LOADER_API_SOURCEMAP_IMPORT___ from \"../../../../../../node_modules/css-loader/dist/runtime/sourceMaps.js\";\nimport ___CSS_LOADER_API_IMPORT___ from \"../../../../../../node_modules/css-loader/dist/runtime/api.js\";\nvar ___CSS_LOADER_EXPORT___ = ___CSS_LOADER_API_IMPORT___(___CSS_LOADER_API_SOURCEMAP_IMPORT___);\n// Module\n___CSS_LOADER_EXPORT___.push([module.id, `.\\\\---sharedUiComponents-src-components-lines-OptionsLineComponent-module__optionsLine{font-family:\"acumin-pro-condensed\",sans-serif;font-size:12px;height:25px;padding-left:15px}.\\\\---sharedUiComponents-src-components-lines-OptionsLineComponent-module__optionsSelect{width:100%;height:100%;border:unset}`, \"\",{\"version\":3,\"sources\":[\"webpack://./../sharedUiComponents/src/components/lines/OptionsLineComponent.module.scss\"],\"names\":[],\"mappings\":\"AAAA,sFACI,6CAAA,CACA,cAAA,CACA,WAAA,CACA,iBAAA,CAGJ,wFACI,UAAA,CACA,WAAA,CACA,YAAA\",\"sourcesContent\":[\".optionsLine {\\r\\n    font-family: \\\"acumin-pro-condensed\\\", sans-serif;\\r\\n    font-size: 12px;\\r\\n    height: 25px;\\r\\n    padding-left: 15px;\\r\\n}\\r\\n\\r\\n.optionsSelect {\\r\\n    width: 100%;\\r\\n    height: 100%;\\r\\n    border: unset;\\r\\n}\\r\\n\"],\"sourceRoot\":\"\"}]);\n// Exports\nexport var optionsLine = `---sharedUiComponents-src-components-lines-OptionsLineComponent-module__optionsLine`;\nexport var optionsSelect = `---sharedUiComponents-src-components-lines-OptionsLineComponent-module__optionsSelect`;\nexport default ___CSS_LOADER_EXPORT___;\n","// Imports\nimport ___CSS_LOADER_API_SOURCEMAP_IMPORT___ from \"../../../../../node_modules/css-loader/dist/runtime/sourceMaps.js\";\nimport ___CSS_LOADER_API_IMPORT___ from \"../../../../../node_modules/css-loader/dist/runtime/api.js\";\nvar ___CSS_LOADER_EXPORT___ = ___CSS_LOADER_API_IMPORT___(___CSS_LOADER_API_SOURCEMAP_IMPORT___);\n// Module\n___CSS_LOADER_EXPORT___.push([module.id, `.\\\\---sharedUiComponents-src-components-TextInputWithSubmit-module__line{width:100%;height:100%;display:flex;justify-content:space-between;align-items:center}.\\\\---sharedUiComponents-src-components-TextInputWithSubmit-module__input{border:unset;background-color:inherit;flex-grow:1;width:100px}.\\\\---sharedUiComponents-src-components-TextInputWithSubmit-module__valid{background-color:#fff}.\\\\---sharedUiComponents-src-components-TextInputWithSubmit-module__invalid{background-color:hsla(0,100%,90%,.8)}`, \"\",{\"version\":3,\"sources\":[\"webpack://./../sharedUiComponents/src/components/TextInputWithSubmit.module.scss\"],\"names\":[],\"mappings\":\"AAAA,wEACI,UAAA,CACA,WAAA,CACA,YAAA,CACA,6BAAA,CACA,kBAAA,CAGJ,yEACI,YAAA,CACA,wBAAA,CACA,WAAA,CACA,WAAA,CAGJ,yEACI,qBAAA,CAGJ,2EACI,oCAAA\",\"sourcesContent\":[\".line {\\r\\n    width: 100%;\\r\\n    height: 100%;\\r\\n    display: flex;\\r\\n    justify-content: space-between;\\r\\n    align-items: center;\\r\\n}\\r\\n\\r\\n.input {\\r\\n    border: unset;\\r\\n    background-color: inherit;\\r\\n    flex-grow: 1;\\r\\n    width: 100px;\\r\\n}\\r\\n\\r\\n.valid {\\r\\n    background-color: white;\\r\\n}\\r\\n\\r\\n.invalid {\\r\\n    background-color: rgba(255, 204, 204, 0.8);\\r\\n}\\r\\n\"],\"sourceRoot\":\"\"}]);\n// Exports\nexport var line = `---sharedUiComponents-src-components-TextInputWithSubmit-module__line`;\nexport var input = `---sharedUiComponents-src-components-TextInputWithSubmit-module__input`;\nexport var valid = `---sharedUiComponents-src-components-TextInputWithSubmit-module__valid`;\nexport var invalid = `---sharedUiComponents-src-components-TextInputWithSubmit-module__invalid`;\nexport default ___CSS_LOADER_EXPORT___;\n","// Imports\nimport ___CSS_LOADER_API_SOURCEMAP_IMPORT___ from \"../../../../node_modules/css-loader/dist/runtime/sourceMaps.js\";\nimport ___CSS_LOADER_API_IMPORT___ from \"../../../../node_modules/css-loader/dist/runtime/api.js\";\nvar ___CSS_LOADER_EXPORT___ = ___CSS_LOADER_API_IMPORT___(___CSS_LOADER_API_SOURCEMAP_IMPORT___);\n// Module\n___CSS_LOADER_EXPORT___.push([module.id, `:root{--blackBarHeight: 55px}#gui-editor-workbench-root{display:grid;grid-template-rows:calc(100% - 55px);height:100%;width:100%;background:#e2e2e2;font:14px \"acumin-pro-condensed\"}.wait-screen{display:grid;justify-content:center;align-content:center;height:100%;width:100%;background:#464646;opacity:.95;color:#fff;font:24px \"acumin-pro-condensed\";position:absolute;top:0;left:0}.wait-screen.hidden{visibility:hidden}#leftGrab{width:5px;height:100%;cursor:ew-resize;position:absolute;right:-1px;top:0}#rightGrab{cursor:ew-resize;width:5px;bottom:0;position:absolute;top:0;left:0}.toolbarGrab{background:#333;grid-row:1/span 3;grid-column:2;height:100%;overflow-y:auto}.toolbarGrab .blackLine{height:16px;background:#000;position:relative}.toolbarGrab .arrow{color:#fff;position:absolute}.toolbarGrab .toolbar-label{color:#fff;font-size:18px;display:grid;align-items:center;cursor:pointer;user-select:none;grid-template-columns:1fr 20px;grid-template-rows:100%;position:relative}.toolbarGrab .toolbar-label.active{font-weight:bold;font-size:20px}.toolbarGrab .toolbar-label:hover{background:var(--selectionGrey)}.toolbarGrab .toolbar-label:hover .sub-items{display:block}.toolbarGrab .toolbar-icon{width:40px;height:40px}.toolbarGrab.expanded .toolbar-content-sub1{column-count:2}.diagram-container{position:relative;display:grid;grid-row:1;grid-column:2;background:#ccc;width:100%;height:100%;overflow:hidden}.diagram-container .diagram{display:none;width:100%;height:100%}.left-panel{grid-row:1/span 2;grid-column:1;display:grid;grid-template-rows:100%;grid-template-columns:1fr 50px;position:relative;overflow:hidden}.left-panel.expand{grid-template-columns:1fr 100px}.right-panel{grid-row:1/span 2;grid-column:3;display:grid;grid-template-rows:1fr 40px auto 40px;grid-template-columns:100%;overflow-y:auto;position:relative}.right-panel #propertyTab{grid-row:1;grid-column:1}.right-panel .button{display:grid;justify-content:center;align-content:center;height:auto;width:14.2857142857%;cursor:pointer}.right-panel .button:hover{background:#337ab7;color:#fff;opacity:.8}.right-panel .button.selected{background:#337ab7;color:#fff}.right-panel .button.align{justify-content:stretch;text-align:center}.blocker{visibility:hidden;position:absolute;width:calc(100% - 40px);height:100%;top:0;left:0;background:rgba(20,20,20,.95);font-family:\"acumin-pro-condensed\",sans-serif;color:#fff;font-size:24px;display:grid;align-content:center;justify-content:center;user-select:none;padding:20px;text-align:center}#log-console{grid-row:2;grid-column:4;display:none}.gizmo *{user-select:none}.gizmo .bounding-box-line{background-color:#000;position:absolute;line-height:1px;height:1px;pointer-events:none}.gizmo .scale-point-container{position:absolute;width:30px;height:30px}.gizmo .scale-point-container .scale-point{top:10px;left:10px;position:absolute;width:10px;height:10px;background:rgba(0,0,0,0);outline:#7d7d7d 2px solid}.gizmo .scale-point-container .rotate-click-area{width:20px;height:20px;position:absolute}.gizmo .scale-point-container .scale-click-area{width:20px;height:20px;position:absolute}.gizmo .pivot-point{width:30px;height:30px;background:rgba(0,0,0,0);position:absolute}#workbench-canvas{position:relative}.artboard-stroke{outline:1px solid #000;position:absolute;z-index:2;pointer-events:none}.artboard-background{position:absolute;background:repeating-conic-gradient(#e2e2e2 0% 25%, white 0% 50%) 50%/10px 10px;width:100%;height:100%}`, \"\",{\"version\":3,\"sources\":[\"webpack://./../../tools/guiEditor/dist/main.scss\"],\"names\":[],\"mappings\":\"AAAA,MACI,sBAAA,CAGJ,2BACI,YAAA,CACA,oCAAA,CACA,WAAA,CACA,UAAA,CACA,kBAAA,CACA,gCAAA,CAGJ,aACI,YAAA,CACA,sBAAA,CACA,oBAAA,CACA,WAAA,CACA,UAAA,CACA,kBAAA,CACA,WAAA,CACA,UAAA,CACA,gCAAA,CACA,iBAAA,CACA,KAAA,CACA,MAAA,CAEA,oBACI,iBAAA,CAIR,UACI,SAAA,CACA,WAAA,CACA,gBAAA,CACA,iBAAA,CACA,UAAA,CACA,KAAA,CAGJ,WACI,gBAAA,CACA,SAAA,CACA,QAAA,CACA,iBAAA,CACA,KAAA,CACA,MAAA,CAGJ,aACI,eAAA,CACA,iBAAA,CACA,aAAA,CACA,WAAA,CACA,eAAA,CAEA,wBACI,WAAA,CACA,eAAA,CACA,iBAAA,CAEJ,oBACI,UAAA,CACA,iBAAA,CAEJ,4BACI,UAAA,CACA,cAAA,CACA,YAAA,CACA,kBAAA,CACA,cAAA,CACA,gBAAA,CACA,8BAAA,CACA,uBAAA,CACA,iBAAA,CAEA,mCACI,gBAAA,CACA,cAAA,CAGJ,kCACI,+BAAA,CACA,6CACI,aAAA,CAIZ,2BACI,UAAA,CACA,WAAA,CAGA,4CACI,cAAA,CAKZ,mBACI,iBAAA,CACA,YAAA,CACA,UAAA,CACA,aAAA,CACA,eAAA,CACA,UAAA,CACA,WAAA,CACA,eAAA,CAEA,4BACI,YAAA,CACA,UAAA,CACA,WAAA,CAIR,YACI,iBAAA,CACA,aAAA,CACA,YAAA,CACA,uBAAA,CACA,8BAAA,CACA,iBAAA,CACA,eAAA,CACA,mBACI,+BAAA,CAIR,aACI,iBAAA,CACA,aAAA,CACA,YAAA,CACA,qCAAA,CACA,0BAAA,CACA,eAAA,CACA,iBAAA,CAEA,0BACI,UAAA,CACA,aAAA,CAGJ,qBACI,YAAA,CACA,sBAAA,CACA,oBAAA,CACA,WAAA,CACA,oBAAA,CACA,cAAA,CAEA,2BACI,kBAAA,CACA,UAAA,CACA,UAAA,CAGJ,8BACI,kBAAA,CACA,UAAA,CAGJ,2BACI,uBAAA,CACA,iBAAA,CAKZ,SACI,iBAAA,CACA,iBAAA,CACA,uBAAA,CACA,WAAA,CACA,KAAA,CACA,MAAA,CAEA,6BAAA,CACA,6CAAA,CACA,UAAA,CACA,cAAA,CAEA,YAAA,CACA,oBAAA,CACA,sBAAA,CAEA,gBAAA,CAEA,YAAA,CACA,iBAAA,CAGJ,aACI,UAAA,CACA,aAAA,CACA,YAAA,CAIA,SACI,gBAAA,CAEJ,0BACI,qBAAA,CACA,iBAAA,CACA,eAAA,CACA,UAAA,CACA,mBAAA,CAEJ,8BACI,iBAAA,CACA,UAAA,CACA,WAAA,CACA,2CACI,QAAA,CACA,SAAA,CACA,iBAAA,CACA,UAAA,CACA,WAAA,CACA,wBAAA,CACA,yBAAA,CAEJ,iDACI,UAAA,CACA,WAAA,CACA,iBAAA,CAEJ,gDACI,UAAA,CACA,WAAA,CACA,iBAAA,CAGR,oBACI,UAAA,CACA,WAAA,CACA,wBAAA,CACA,iBAAA,CAGR,kBACI,iBAAA,CAEJ,iBACI,sBAAA,CACA,iBAAA,CACA,SAAA,CACA,mBAAA,CAEJ,qBACI,iBAAA,CACA,+EAAA,CACA,UAAA,CACA,WAAA\",\"sourcesContent\":[\":root {\\r\\n    --blackBarHeight: 55px;\\r\\n}\\r\\n\\r\\n#gui-editor-workbench-root {\\r\\n    display: grid;\\r\\n    grid-template-rows: calc(100% - 55px);\\r\\n    height: 100%;\\r\\n    width: 100%;\\r\\n    background: #e2e2e2;\\r\\n    font: 14px \\\"acumin-pro-condensed\\\";\\r\\n}\\r\\n\\r\\n.wait-screen {\\r\\n    display: grid;\\r\\n    justify-content: center;\\r\\n    align-content: center;\\r\\n    height: 100%;\\r\\n    width: 100%;\\r\\n    background: #464646;\\r\\n    opacity: 0.95;\\r\\n    color: white;\\r\\n    font: 24px \\\"acumin-pro-condensed\\\";\\r\\n    position: absolute;\\r\\n    top: 0;\\r\\n    left: 0;\\r\\n\\r\\n    &.hidden {\\r\\n        visibility: hidden;\\r\\n    }\\r\\n}\\r\\n\\r\\n#leftGrab {\\r\\n    width: 5px;\\r\\n    height: 100%;\\r\\n    cursor: ew-resize;\\r\\n    position: absolute;\\r\\n    right: -1px;\\r\\n    top: 0;\\r\\n}\\r\\n\\r\\n#rightGrab {\\r\\n    cursor: ew-resize;\\r\\n    width: 5px;\\r\\n    bottom: 0;\\r\\n    position: absolute;\\r\\n    top: 0;\\r\\n    left: 0;\\r\\n}\\r\\n\\r\\n.toolbarGrab {\\r\\n    background: #333333;\\r\\n    grid-row: 1 / span 3;\\r\\n    grid-column: 2;\\r\\n    height: 100%;\\r\\n    overflow-y: auto;\\r\\n\\r\\n    .blackLine {\\r\\n        height: 16px;\\r\\n        background: black;\\r\\n        position: relative;\\r\\n    }\\r\\n    .arrow {\\r\\n        color: white;\\r\\n        position: absolute;\\r\\n    }\\r\\n    .toolbar-label {\\r\\n        color: white;\\r\\n        font-size: 18px;\\r\\n        display: grid;\\r\\n        align-items: center;\\r\\n        cursor: pointer;\\r\\n        user-select: none;\\r\\n        grid-template-columns: 1fr 20px;\\r\\n        grid-template-rows: 100%;\\r\\n        position: relative;\\r\\n\\r\\n        &.active {\\r\\n            font-weight: bold;\\r\\n            font-size: 20px;\\r\\n        }\\r\\n\\r\\n        &:hover {\\r\\n            background: var(--selectionGrey);\\r\\n            .sub-items {\\r\\n                display: block;\\r\\n            }\\r\\n        }\\r\\n    }\\r\\n    .toolbar-icon {\\r\\n        width: 40px;\\r\\n        height: 40px;\\r\\n    }\\r\\n    &.expanded {\\r\\n        .toolbar-content-sub1 {\\r\\n            column-count: 2;\\r\\n        }\\r\\n    }\\r\\n}\\r\\n\\r\\n.diagram-container {\\r\\n    position: relative;\\r\\n    display: grid;\\r\\n    grid-row: 1;\\r\\n    grid-column: 2;\\r\\n    background: #cccccc;\\r\\n    width: 100%;\\r\\n    height: 100%;\\r\\n    overflow: hidden;\\r\\n\\r\\n    .diagram {\\r\\n        display: none;\\r\\n        width: 100%;\\r\\n        height: 100%;\\r\\n    }\\r\\n}\\r\\n\\r\\n.left-panel {\\r\\n    grid-row: 1 / span 2;\\r\\n    grid-column: 1;\\r\\n    display: grid;\\r\\n    grid-template-rows: 100%;\\r\\n    grid-template-columns: 1fr 50px;\\r\\n    position: relative;\\r\\n    overflow: hidden;\\r\\n    &.expand {\\r\\n        grid-template-columns: 1fr 100px;\\r\\n    }\\r\\n}\\r\\n\\r\\n.right-panel {\\r\\n    grid-row: 1 / span 2;\\r\\n    grid-column: 3;\\r\\n    display: grid;\\r\\n    grid-template-rows: 1fr 40px auto 40px;\\r\\n    grid-template-columns: 100%;\\r\\n    overflow-y: auto;\\r\\n    position: relative;\\r\\n\\r\\n    #propertyTab {\\r\\n        grid-row: 1;\\r\\n        grid-column: 1;\\r\\n    }\\r\\n\\r\\n    .button {\\r\\n        display: grid;\\r\\n        justify-content: center;\\r\\n        align-content: center;\\r\\n        height: auto;\\r\\n        width: calc(100% / 7);\\r\\n        cursor: pointer;\\r\\n\\r\\n        &:hover {\\r\\n            background: rgb(51, 122, 183);\\r\\n            color: white;\\r\\n            opacity: 0.8;\\r\\n        }\\r\\n\\r\\n        &.selected {\\r\\n            background: rgb(51, 122, 183);\\r\\n            color: white;\\r\\n        }\\r\\n\\r\\n        &.align {\\r\\n            justify-content: stretch;\\r\\n            text-align: center;\\r\\n        }\\r\\n    }\\r\\n}\\r\\n\\r\\n.blocker {\\r\\n    visibility: hidden;\\r\\n    position: absolute;\\r\\n    width: calc(100% - 40px);\\r\\n    height: 100%;\\r\\n    top: 0;\\r\\n    left: 0;\\r\\n\\r\\n    background: rgba(20, 20, 20, 0.95);\\r\\n    font-family: \\\"acumin-pro-condensed\\\", sans-serif;\\r\\n    color: white;\\r\\n    font-size: 24px;\\r\\n\\r\\n    display: grid;\\r\\n    align-content: center;\\r\\n    justify-content: center;\\r\\n\\r\\n    user-select: none;\\r\\n\\r\\n    padding: 20px;\\r\\n    text-align: center;\\r\\n}\\r\\n\\r\\n#log-console {\\r\\n    grid-row: 2;\\r\\n    grid-column: 4;\\r\\n    display: none;\\r\\n}\\r\\n\\r\\n.gizmo {\\r\\n    * {\\r\\n        user-select: none;\\r\\n    }\\r\\n    .bounding-box-line {\\r\\n        background-color: black;\\r\\n        position: absolute;\\r\\n        line-height: 1px;\\r\\n        height: 1px;\\r\\n        pointer-events: none;\\r\\n    }\\r\\n    .scale-point-container {\\r\\n        position: absolute;\\r\\n        width: 30px;\\r\\n        height: 30px;\\r\\n        .scale-point {\\r\\n            top: 10px;\\r\\n            left: 10px;\\r\\n            position: absolute;\\r\\n            width: 10px;\\r\\n            height: 10px;\\r\\n            background: transparent;\\r\\n            outline: rgb(125, 125, 125) 2px solid;\\r\\n        }\\r\\n        .rotate-click-area {\\r\\n            width: 20px;\\r\\n            height: 20px;\\r\\n            position: absolute;\\r\\n        }\\r\\n        .scale-click-area {\\r\\n            width: 20px;\\r\\n            height: 20px;\\r\\n            position: absolute;\\r\\n        }\\r\\n    }\\r\\n    .pivot-point {\\r\\n        width: 30px;\\r\\n        height: 30px;\\r\\n        background: transparent;\\r\\n        position: absolute;\\r\\n    }\\r\\n}\\r\\n#workbench-canvas {\\r\\n    position: relative;\\r\\n}\\r\\n.artboard-stroke {\\r\\n    outline: 1px solid black;\\r\\n    position: absolute;\\r\\n    z-index: 2;\\r\\n    pointer-events: none;\\r\\n}\\r\\n.artboard-background {\\r\\n    position: absolute;\\r\\n    background: repeating-conic-gradient(#e2e2e2 0% 25%, white 0% 50%) 50% / 10px 10px;\\r\\n    width: 100%;\\r\\n    height: 100%;\\r\\n}\\r\\n\"],\"sourceRoot\":\"\"}]);\n// Exports\nexport default ___CSS_LOADER_EXPORT___;\n"],"names":["___CSS_LOADER_EXPORT___","push","module","id","i","_1","_2","_3","_4","_5","_6","_7","button","wide","small","smaller","light","active","dark","fontRegular","Rect","constructor","left","top","right","bottom","this","clone","center","topLeft","addInPlace","subtractInPlace","multiplyByFloats","width","height","Round","value","Math","round","CoordinateHelper","GetScale","node","relative","x","scaleX","y","scaleY","parent","GetRotation","rotation","GetParentSizes","guiControl","parentMeasure","copyFrom","_currentMeasure","typeName","cellInfo","getChildCellInfo","cell","cells","widthInPixels","heightInPixels","GetNodeMatrix","storedValues","size","GlobalState","guiTexture","getSize","parentWidth","parentHeight","parentSizes","leftInPixels","topInPixels","horizontalAlignment","HORIZONTAL_ALIGNMENT_LEFT","HORIZONTAL_ALIGNMENT_RIGHT","HORIZONTAL_ALIGNMENT_CENTER","verticalAlignment","VERTICAL_ALIGNMENT_TOP","VERTICAL_ALIGNMENT_BOTTOM","VERTICAL_ALIGNMENT_CENTER","_ResetMatrixArray","m2d","_MatrixCache","translateTo","resultMatrix","Identity","offsetX","transformCenterX","offsetY","transformCenterY","descendantsOnlyPadding","paddingRightInPixels","paddingLeftInPixels","paddingBottomInPixels","paddingTopInPixels","TranslationToRef","scaling","ComposeToRef","multiplyToRef","NodeToRTTWorldMatrix","stopAt","listOfNodes","child","matrices","map","index","undefined","reduce","acc","cur","NodeToRTTSpace","reference","transformCoordinates","RttToLocalNodeSpace","worldMatrix","inv","invertToRef","RttToCanvasSpace","engine","workbench","_scene","getEngine","getRenderWidth","getRenderHeight","MousePointerToRTTSpace","_node","scene","pointerX","pointerY","matrix","IdentityToRef","ComputeLocalBounds","ConvertToPercentage","properties","onPropertyChangedObservable","ratioX","ratioY","thickness","property","initialValue","ratio","newValue","toFixed","notifyObservers","object","floor","ConvertToPixels","_processMeasures","host","getContext","UNITMODE_PIXEL","DragOverLocation","GUIEditorTool","KeyboardManager","hostElement","_kdListener","evt","_keyEvent","_kuListener","_moveListener","_updateModifierKeys","_focusOutListener","_clearKeys","_keys","Set","_hostElement","addEventListener","onKeyPressedObservable","event","isDown","key","_setKeyDown","ctrlKey","altKey","shiftKey","metaKey","down","has","add","delete","isKeyDown","dispose","removeEventListener","tool","_tool","ZOOM","PAN","SELECT","newTool","_prevTool","onToolChangeObservable","usePrevSelected","_usePrevSelected","val","restorePreviousTool","selectedControls","onSelectionChangedObservable","onResizeObservable","onBuiltObservable","onResetRequiredObservable","onUpdateRequiredObservable","onLogRequiredObservable","onErrorMessageDialogRequiredObservable","onIsLoadingChanged","onSelectionBoxMoved","onNewSceneObservable","onGuiNodeRemovalObservable","onPopupClosedObservable","_outlines","blockKeyboardEvents","onOutlineChangedObservable","onFitControlsToWindowObservable","onReframeWindowObservable","onLoadObservable","onSaveObservable","onSaveSelectedControl","onSnippetLoadObservable","onSnippetSaveObservable","onControlLoadObservable","onResponsiveChangeObservable","onParentingChangeObservable","onDropObservable","onPropertyGridUpdateRequiredObservable","onDraggingEndObservable","onDraggingStartObservable","onWindowResizeObservable","onGizmoUpdateRequireObservable","onArtBoardUpdateRequiredObservable","onBackgroundColorChangeObservable","onFontsParsedObservable","onPointerMoveObservable","onPointerUpObservable","draggedControl","onCopyObservable","onCutObservable","onPasteObservable","isSaving","lockObject","shiftKeyPressed","controlCamera","ReadBoolean","r","ReadNumber","g","b","backgroundColor","registerEventListeners","isElementEditable","element","isContentEditable","tagName","hostDocument","target","content","clipboardData","setData","preventDefault","getData","keys","_backgroundColor","fromPG","_fromPg","WriteNumber","outlines","select","control","isMultiSelectable","indexOf","setSelection","filter","controls","_findParentControlInTexture","texture","searchedControl","searchList","rootContainer","length","current","splice","children","deleteSelectedNodes","guiTextureParent","removeControl","liveGuiTexture","allDescendants","getDescendants","descendant","liveGuiTextureDescendantParent","liveGuiTextureParent","CommandButtonComponent","props","super","render","divClassName","altStyle","disabled","isActive","iconClassName","copyDeleteDisabled","pasteDisabled","className","onClick","title","tooltip","shortcut","src","icon","iconLabel","alt","draggable","Icons","size30","on","mixed","off","size40","CheckBoxLineComponent","_localChange","isSelected","state","isConflict","propertyName","isDisabled","shouldComponentUpdate","nextProps","nextState","selected","label","onChange","onSelect","onValueChanged","setState","onCopyClick","babylonNamespace","strCommand","targetName","copyCommandToClipboard","renderOriginal","icons","large","faIcons","enabled","type","checked","copy","renderFluent","Consumer","useFluent","IconComponent","color","onDragStart","options","styleTagTransform","setAttributes","insert","domAPI","insertStyleElement","locals","ButtonComponent","style","Icon","TextInputWithSubmit","setValue","useState","valid","setValid","validateValue","useEffect","line","invalid","placeholder","submitValue","cancelSubmit","OptionStates","OptionAddKey","OptionsLineComponent","optionState","setOptionState","Default","Adding","newOption","Date","now","toString","onOptionAdded","onOptionSelected","addOptionPlaceholder","validateNewOptionValue","selectedOptionValue","addOptionText","option","UnitButton","locked","unit","Tools","LookForItems","item","selectedEntities","firstIteration","includes","getChildren","_RecursiveRemoveHiddenMeshesAndHoistChildren","items","result","reservedDataStore","hidden","getChildMeshes","meshes","m","SortAndFilter","finalArray","detachedChildren","reverse","GetCellInfo","grid","rowNumber","parseInt","substring","search","isNaN","columnNumber","ReorderGrid","tags","addControl","ConstraintDirection","WorkbenchComponent","addedFonts","_addedFonts","visibleRegionContainer","_visibleRegionContainer","panAndZoomContainer","_panAndZoomContainer","trueRootContainer","_trueRootContainer","forEach","_host","globalState","guiSize","_guiSize","_pasteDisabled","applyEditorTransformation","adt","_rootContainer","markAsDirty","_engine","scaleTo","clipContent","clipChildren","removeEditorTransformation","_reframeWindow","_panningOffset","xFactor","yFactor","_zoomFactor","min","_setConstraintDirection","_mouseStartPoint","_constraintDirection","NONE","_isOverGUINode","_doubleClick","_currLeft","_currTop","_controlsHit","_pointerTravelDistance","_processSelectionOnUp","_centerZoomMousePosition","_hasPerformedDragZoom","_defaultGUISize","_initialPanningOffset","_zoomModeIncrement","keyEvent","nodeName","lock","blurEvent","_controlToLinkedMeshMap","Map","_observersMap","onPointerDownObservable","onPointerEnterObservable","onPointerOutObservable","onPointerClickObservable","onDisposeObservable","onIsVisibleChangedObservable","onBeforeDrawObservable","onAfterDrawObservable","onWheelObservable","updateNodeOutlines","forceUpdate","minX","Number","MAX_SAFE_INTEGER","minY","maxX","maxY","selectedControl","leftTopRS","rightBottomRS","leftBottomRS","rightTopRS","max","centerX","centerY","defaultView","framesToUpdate","onBeforeRenderObservable","resize","copyFn","copyToClipboard","cutToClipboard","pasteFromClipboard","controlList","getClassName","row","column","split","metadata","_cellInfo","obj","serialize","JSON","stringify","GUIClipboard","clipboardContents","parsed","parse","newSelection","Parse","newGuiNode","appendBlock","gridParent","Warn","CopyGUIControl","original","serializationObject","newControl","name","addEditorBehavior","clicked","buttonIndex","guiEditor","removeEditorBehavior","editorUniqueId","_guiRenderObserver","onEndRenderObservable","remove","loadFromJson","parseContent","synchronizeLiveGUI","loadToEditor","loadControlFromJson","newControls","loadFromSnippet","snippetId","parseFromSnippetAsync","customLoad","action","catch","alert","guiElement","fontName","fontFamily","trim","toLowerCase","isHighlighted","highlightLineWidth","desc","dropLocationControl","draggedControlParent","_isNotChildInsert","draggedControlDirection","CENTER","_adjustParentingIndex","_reorderGrid","pop","newParent","isVertical","_width","UNITMODE_PERCENTAGE","hostWindow","_height","_canClone","_saveObservables","root","linkedMesh","set","Object","observable","hasObservers","_restoreObservables","get","linkWithMesh","savedObservable","clear","_copyEditorGUIToLiveGUI","liveRoot","clearControls","originalToCloneMap","updatedRootChildren","slice","_syncConnectedLines","reversed","ABOVE","BELOW","guiNode","_onMove","startPos","toConvert","_top","_left","newX","newY","abs","X","Y","referenceAxis","x1","x2","y1","y2","totalRotation","currentControl","rotatedReferenceAxis","sinR","sin","cosR","cos","onMove","pos","getScaledPointerPosition","_panning","movementX","movementY","panning","_screenToTexturePosition","screenPos","zoomVector","divideInPlace","startPanning","endPanning","processSelection","window","setTimeout","onDown","setPointerCapture","pointerId","buttons","onAfterRenderObservable","addOnce","onUp","_panZoomToCenter","zooming","releasePointerCapture","sqrt","lineControl","connectedControl","clonedLine","clonedConnectedControl","_copyLiveGUIToEditorGUI","cloned","createGUICanvas","embed","canvas","clearColor","intensity","CreateFullscreenUI","NEAREST_NEAREST_MIPNEAREST","useInvalidateRectOptimization","Zero","addControls","onCanvasPointerOutObservable","doNotHandleCursors","onBeginRenderObservable","ev","throttledSynchronization","callback","lastCalledTime","args","throttle","runRenderLoop","getScene","onKeyboardObservable","k","moveControls","KEYDOWN","panningDelta","subtract","moveHorizontal","amount","prevValue","zoomWheel","delta","deltaY","detail","mouseCenter","mouseToRtt","rttToLocal","centerToRtt","centerToLocal","panScale","deltaCenter","scale","zoomDrag","zeroIfClose","vec","z","cursor","onPointerMove","_mouseDown","onPointerDown","onPointerUp","onWheel","onContextMenu","ref","CommonControlPropertyGridComponent","_onControlVisibilityChangedObservers","fontFamilyOptions","String","sessionStorage","getItem","transformed","_getTransformedReferenceCoordinate","_previousCenter","visibilityObserver","_onFontsParsedObserver","_checkFontsInLayout","_onPropertyChangedObserver","isTransformEvent","diff","resizeToFit","componentDidMount","correctFonts","font","values","document","fonts","check","moreFonts","setItem","_addFont","fontValue","find","nodeMatrix","_updateAlignment","alignment","charAt","toUpperCase","_checkAndUpdateValues","percentage","isPercentage","negative","match","_addOrUpdateMetadata","v","parseFloat","assign","_removeFromMetadata","_getCommonPropertyKeys","objects","firstObject","restObjects","every","_markChildrenAsDirty","_children","_markAsDirty","componentWillUnmount","_filterFontDuplicates","array","seen","duplicate","firstControl","textHorizontalAlignment","textVerticalAlignment","showTextProperties","proxy","getValue","_value","firstValue","units","getUnitString","_unit","firstUnit","increment","minimum","maximum","initialUnit","convertUnits","horizontalDisabled","verticalDisabled","widthUnitsLocked","heightUnitsLocked","hideDimensions","numbersOnly","delayInput","arrows","arrowsIncrement","autoScale","adaptWidthToChildren","adaptHeightToChildren","digits","step","decimalCount","PI","background","selectedFontValue","newFontValue","f","fontStyle","input","GUIEditor","_PopupWindow","prompt","keyName","num","some","startsWith","isNotEditableValue","SliderPropertyGridComponent","sliders","slider","displayThumb","SliderGenericPropertyGridComponent","LinePropertyGridComponent","onDashChange","lines","dash","int","dashes","dashString","join","RadioButtonPropertyGridComponent","radioButtons","TextBlockPropertyGridComponent","textBlocks","InputTextPropertyGridComponent","inputTexts","ColorPickerPropertyGridComponent","colorPickers","disableAlpha","ImagePropertyGridComponent","_observers","updateObservers","images","oldImages","newImages","image","onImageLoadedObservable","toggleAnimations","cellId","cellWidth","imageWidth","cellHeight","imageHeight","getMaxCells","maxCells","ceil","updateCellSize","stretchOptions","STRETCH_NONE","STRETCH_FILL","STRETCH_UNIFORM","STRETCH_EXTEND","STRETCH_NINE_PATCH","animationSheet","maxCellWidth","maxCellHeight","numeric","mode","stretch","populateNinePatchSlicesFromImage","isInteger","ImageBasedSliderPropertyGridComponent","imageBasedSliders","thumbImage","valueBarImage","backgroundImage","ContainerPropertyGridComponent","containers","RectanglePropertyGridComponent","rectangles","StackPanel","_isVertical","spacing","_spacing","_doNotTrackManualChanges","_manualWidth","fromString","_manualHeight","ignoreLayoutWarnings","_getTypeName","_preMeasure","context","_additionalProcessing","_measureForChildren","_postMeasure","stackWidth","stackHeight","childrenCount","scaledSpacing","idealRatio","isVisible","notRenderable","_rebuildLayout","ignoreAdaptiveScaling","isDimensionFullyDefined","_paddingTopInPixels","_paddingBottomInPixels","uniqueId","_paddingLeftInPixels","_paddingRightInPixels","panelWidthChanged","panelHeightChanged","previousHeight","previousWidth","_getManualDim","dim","getDimension","isPixel","_getAdaptDimTo","force","allowCanvas","isSerializable","manualWidth","manualHeight","_parseFromContent","serializedObject","StackPanelPropertyGridComponent","stackPanels","panel","GridPropertyGridComponent","_previousGrid","_rowDefinitions","_rowEditFlags","_columnEditFlags","_columnDefinitions","_editedRow","_editedColumn","_rowChild","_columnChild","removingColumn","removingRow","renderRows","rd","setRowValues","grids","rowCount","getRowDefinition","setColumnValues","columnCount","getColumnDefinition","renderColumns","cd","parsePercentage","floatResult","at","replace","isCloseTo","expected","epsilon","adjustPercentages","definitions","editFlags","percentageTotal","modifiedEntriesPercentageTotal","cellValues","percent","checkPercentage","checkValue","modifiedCellValues","absoluteRemainingPercentage","magnitudeRemainingPercentage","unmodifiedEntriesPercentage","resizeModifiedEntries","newEntryValue","resizeRow","modifiedRowValues","setRowDefinition","resizeColumn","columnValues","setColumnDefinition","toSearch","resetValues","total","count","addRowDefinition","hasChild","removeRowDefinition","addColumnDefinition","removeColumnDefinition","ScrollViewerPropertyGridComponent","scrollViewers","EllipsePropertyGridComponent","ellipses","CheckboxPropertyGridComponent","checkboxes","ControlPropertyGridComponent","ParentingPropertyGridComponent","updateGridPosition","_changeCell","_rowNumber","_columnNumber","getCellInfo","newCell","DisplayGridPropertyGridComponent","displayGrids","_displayMinorLines","_displayMajorLines","ButtonPropertyGridComponent","onAddComponent","Checkbox","_thickness","checkSizeRatio","_checkSizeRatio","_background","isChecked","_isChecked","onIsCheckedChangedObservable","isPointerBlocker","_draw","save","_applyStates","actualWidth","actualHeight","shadowBlur","shadowOffsetX","shadowOffsetY","shadowColor","fillStyle","_isEnabled","_disabledColor","fillRect","_disabledColorItem","offsetWidth","offsetHeight","strokeStyle","lineWidth","strokeRect","restore","_onPointerDown","coordinates","pi","isReadOnly","AddCheckBoxWithHeader","checkbox","header","text","paddingLeft","TextWrapper","_characters","_text","txt","Array","from","removePart","idxStart","idxEnd","insertTxt","newCharacters","idx","substr","temp","to","isWord","rWord","InputText","outlineWidth","_outlineWidth","outlineColor","_outlineColor","maxWidth","_maxWidth","maxWidthInPixels","getValueInPixel","_cachedParentMeasure","highligherOpacity","highlighterOpacity","_highlighterOpacity","onFocusSelectAll","_onFocusSelectAll","textHighlightColor","_textHighlightColor","margin","_margin","marginInPixels","autoStretchWidth","_autoStretchWidth","focusedBackground","_focusedBackground","focusedColor","_focusedColor","placeholderColor","_placeholderColor","placeholderText","_placeholderText","deadKey","_deadKey","flag","highlightedText","_highlightedText","addKey","_addKey","currentKey","_currentKey","_textWrapper","valueAsString","_textHasChanged","onTextChangedObservable","_blinkIsEven","_cursorOffset","_isTextHighlightOn","_startHighlightIndex","_endHighlightIndex","_cursorIndex","_isPointerDown","promptMessage","disableMobilePrompt","onBeforeKeyAddObservable","onTextHighlightObservable","onTextCopyObservable","onTextCutObservable","onTextPasteObservable","onBlur","_isFocused","_scrollLeft","clearTimeout","_blinkTimeout","onBlurObservable","unRegisterClipboardEvents","_onClipboardObserver","onClipboardObservable","_onPointerDblTapObserver","onPointerObservable","onFocus","onFocusObservable","_focusedBy","focusedControl","registerClipboardEvents","clipboardInfo","COPY","_onCopyText","CUT","_onCutText","PASTE","_onPasteText","pointerInfo","POINTERDOUBLETAP","_processDblClick","selectAllText","keepsFocusWith","_connectedVirtualKeyboard","processKey","keyCode","isTextHighlightOn","deletePosition","insertPosition","_updateValueFromCursorIndex","offset","moveLeft","moveRight","_clickedCoordinate","processKeyboard","data","types","_fontOffset","_wasDirty","_GetFontOffset","clipTextLeft","_tempParentMeasure","_beforeRenderText","_textWidth","measureText","marginWidth","rootY","ascent","availableWidth","beginPath","rect","clip","textLeft","strokeText","fillText","absoluteCursorPosition","currentSize","previousDist","cursorOffsetText","cursorOffsetWidth","cursorLeft","highlightCursorOffsetWidth","highlightCursorLeft","globalAlpha","_capturingControl","pointerType","_onPointerMove","_onPointerUp","notifyClick","textWrapper","onKeyboardEventProcessedObservable","Grid","_clipContent","_cells","_clipChildren","_childControls","_rowDefinitionObservers","onChangedObservable","_columnDefinitionObservers","getChildrenAt","_tag","_removeCell","childIndex","_offsetCell","previousKey","goodContainer","_getGridDefinitions","definitionCallback","widths","heights","lefts","tops","globalWidthPercentage","availableHeight","globalHeightPercentage","rowDefinition","columnDefinition","prototype","hasOwnProperty","call","_flagDescendantsAsMatrixDirty","_markMatrixAsDirty","_renderHighlightSpecific","moveTo","lineTo","stroke","columns","rows","childSerializationObject","columnValue","rowValue","ColorPicker","equals","toHSVToRef","_tmpColor","_h","_s","_v","_Epsilon","onValueChangedObservable","Red","_pointerStartedOnSquare","_pointerStartedOnWheel","_squareLeft","_squareTop","_squareSize","_lastPointerDownId","_pointerIsDown","_updateSquareProps","radius","squareSize","_drawGradientSquare","hueValue","lgh","createLinearGradient","addColorStop","lgv","_drawCircle","arc","_createColorWheelCanvas","LastCreatedEngine","Error","createCanvas","getImageData","maxDistSq","innerRadius","minDistSq","distSq","dist","ang","atan2","HSVtoRGBToRef","alphaRatio","alphaAmount","maxAlpha","minAlpha","lowerRadius","upperRadius","putImageData","wheelThickness","_colorWheelCanvas","drawImage","cx","cy","_updateValueFromPointer","_isPointOnSquare","_isPointOnWheel","dx","dy","_invertTransformMatrix","_transformedPosition","_onCanvasBlur","_forcePointerUp","ShowPickerDialogAsync","advancedTexture","Promise","resolve","pickerWidth","pickerHeight","headerHeight","lastColor","swatchLimit","numSwatchesPerLine","drawerMaxRows","rawSwatchSize","gutterSize","colGutters","swatchSize","drawerMaxSize","containerSize","buttonColor","buttonBackgroundColor","buttonBackgroundHoverColor","buttonBackgroundClickColor","luminanceLimitColor","FromHexString","luminanceLimit","buttonFontSize","butEdit","inputFieldLabels","inputTextBackgroundColor","inputTextColor","swatchNumber","swatchDrawer","butSave","lastVal","activeField","editSwatchMode","dialogContainer","savedColors","topRow","initialRows","gutterCount","pickerPanel","panelHead","pickerPanelRows","closeButton","CreateSimpleButton","headerColor3","closeIconColor","toHexString","fontSize","textBlock","pointerDownAnimation","pointerUpAnimation","pointerEnterAnimation","pointerOutAnimation","closePicker","currentSwatch","dialogBody","dialogBodyCols","pickerGrid","picker","editSwatches","updateValues","pickerBodyRight","pickerBodyRightRows","pickerSwatchesButtons","pickerButtonsCol","pickerSwatches","pickeSwatchesRows","activeSwatches","labelWidth","labelHeight","labelTextSize","newText","newSwatch","swatchOutline","isHitTestVisible","currentText","buttonGrid","buttonGridRows","buttonWidth","buttonHeight","butOK","butCancel","disableButton","setEditButtonVisibility","updateSwatches","pickerColorValues","currentColor","rgbValuesQuadrant","labelText","rValInt","updateInt","gValInt","bValInt","rValDec","updateFloat","gValDec","bValDec","hexValueQuadrant","hexVal","minusPound","inputField","pickedColor","field","channel","test","newSwatchRGB","createSwatch","swatch","swatchColor","swatchLuminence","thisButton","currentRows","thisRow","totalButtonsThisRow","buttonIterations","w","enableButton","newHexValue","checkHex","leadingZero","Ellipse","_arc","_localDraw","drawEllipse","_backgroundGradient","_getBackgroundColor","fill","_clipForChildren","_highlightLineWidth","Line","_dash","_connectedControl","_connectedControlDirtyObserver","onDirtyObservable","_x1","_y1","_x2","_y2","_lineWidth","_effectiveX2","_effectiveY2","_automaticSize","_horizontalAlignment","_verticalAlignment","_getColor","setLineDash","_measure","_layout","_computeAlignment","moveToVector3","position","end","globalViewport","_getGlobalViewport","projectedPosition","Project","IdentityReadOnly","getTransformMatrix","_moveToProjectedPosition","_linkOffsetX","_linkOffsetY","BaseSlider","_displayThumb","_step","barOffset","_barOffset","barOffsetInPixels","thumbWidth","_thumbWidth","thumbWidthInPixels","_minimum","_maximum","isThumbClamped","_isThumbClamped","_effectiveBarOffset","_getThumbPosition","_backgroundBoxLength","_getThumbThickness","thumbThickness","_backgroundBoxThickness","_prepareRenderingData","_renderLeft","_renderTop","_renderWidth","_renderHeight","_effectiveThumbThickness","Slider","displayValueBar","_displayValueBar","borderColor","_borderColor","backgroundGradient","thumbColor","_thumbColor","isThumbCircle","_isThumbCircle","getCanvasGradient","thumbPosition","Instantiate","InputTextArea","autoStretchHeight","_autoStretchHeight","fixedRatioMasterIsWidth","maxHeight","_maxHeight","maxHeightInPixels","_textHorizontalAlignment","_textVerticalAlignment","_prevText","_lineSpacing","onLinesReadyObservable","_updateCursorPosition","_highlightCursorInfo","initialStartIndex","initialRelativeStartIndex","initialLineIndex","_cursorInfo","globalStartIndex","globalEndIndex","relativeEndIndex","relativeStartIndex","currentLineIndex","alternativeProcessKey","code","rightDelta","_lines","currentLine","upperLine","tmpIndex","relativeIndex","currentWidth","_contextForBreakLines","upperWidth","lineEnding","upperLineRelativeIndex","underLine","underWidth","underLineRelativeIndex","_parseLineWordWrap","words","n","testLine","testWidth","flushedLine","char","_breakLines","refWidth","_line","_parseLine","longerString","longerStringWidth","_availableWidth","totalHeight","_availableHeight","lineLength","tmpLength","_computeScroll","_clipTextLeft","_clipTextTop","selectedHeight","textTop","_scrollTop","_drawText","textWidth","deltaIndex","_clickedCoordinateX","_clickedCoordinateY","descent","internalValue","cursorTop","_resetBlinking","startLineIndex","endLineIndex","highlightRootY","highlightRootX","begin","leftOffsetWidth","selectedText","hightlightWidth","globalIndex","lastClickedCoordinateY","relativeCoordinateY","relativeXPosition","_evt","VirtualKeyboard","onKeyPressObservable","defaultButtonWidth","defaultButtonHeight","defaultButtonPaddingLeft","defaultButtonPaddingRight","defaultButtonPaddingTop","defaultButtonPaddingBottom","defaultButtonColor","defaultButtonBackground","shiftButtonColor","selectedShiftThickness","shiftState","_currentlyConnectedInputText","_connectedInputTexts","_onKeyPressObserver","_createKey","propertySet","paddingRight","paddingTop","paddingBottom","isFocusInvisible","addKeysRow","propertySets","maxKey","applyShiftState","rowContainer","j","buttonTblock","connectedInputText","connect","a","onFocusObserver","onBlurObserver","disconnect","filtered","_removeConnectedInputObservables","CreateDefaultLayout","returnValue","stackPanel","InputPassword","pwdTextWrapper","DisplayGrid","displayMinorLines","displayMajorLines","_cellWidth","_cellHeight","minorLineTickness","_minorLineTickness","minorLineColor","_minorLineColor","majorLineTickness","_majorLineTickness","majorLineColor","_majorLineColor","majorLineFrequency","_majorLineFrequency","cellCountX","cellCountY","cellX","cellY","closePath","_ScrollViewerWindow","freezeControls","_freezeControls","_restoreMeasures","textureSize","renderWidth","renderHeight","measure","_numLayoutCalls","_updateMeasures","_useBuckets","_makeBuckets","bucketWidth","_bucketWidth","bucketHeight","_bucketHeight","setBucketSizes","_buckets","_bucketLen","_dispatchInBuckets","_oldLeft","_oldTop","bStartX","_customData","_origLeft","origLeft","bEndX","bEndY","_origTop","origTop","bStartY","bucket","lstc","origLeftForChildren","origTopForChildren","_updateChildrenMeasures","_parentMeasure","invalidateRect","_scrollChildren","_isClipped","_scrollChildrenWithBuckets","scrollLeft","scrollTop","invalidatedRectangle","_intersectsRect","_render","parentClientWidth","parentClientHeight","_offsetLeft","_offsetTop","updateInPlace","_isDirty","ScrollBar","invertScrollDirection","_invertScrollDirection","invert","_tempMeasure","sign","_first","_originX","_originY","ImageScrollBar","_backgroundBaseImage","num90RotationInVerticalMode","isLoaded","_backgroundImage","_rotate90","rotatedValue","_thumbBaseImage","_thumbImage","thumbLength","_thumbLength","thumbHeight","_thumbHeight","barImageHeight","_barImageHeight","copyFromFloats","ScrollViewer","horizontalBar","_horizontalBar","verticalBar","_verticalBar","_window","forceHorizontalBar","_forceHorizontalBar","_grid","_barSize","forceVerticalBar","_forceVerticalBar","isImageBased","_pointerIsOver","_wheelPrecision","_horizontalBarImageHeight","_verticalBarImageHeight","_oldWindowContentsWidth","_oldWindowContentsHeight","_useImageBar","_horizontalBarSpace","_verticalBarSpace","_dragSpace","_addBar","barColor","barBackground","resetWindow","_buildClientSizes","_clientWidth","_clientHeight","_updateScroller","_setWindowPosition","wheelPrecision","scrollBackground","_barColor","_barImage","hb","vb","horizontalThumbImage","_horizontalBarImage","verticalThumbImage","_verticalBarImage","barSize","horizontalBarImageHeight","verticalBarImageHeight","_barBackground","barImage","_barBackgroundImage","horizontalBarImage","_horizontalBarBackgroundImage","verticalBarImage","_verticalBarBackgroundImage","windowContentsWidth","windowContentsHeight","_endLeft","_endTop","newLeft","newTop","_link","_attachWheel","barControl","barContainer","_onWheelObserver","RadioButton","executeOnAllControls","group","childRadio","offseHeight","AddRadioButtonWithHeader","radio","ImageBasedSlider","_valueBarImage","GUINodeTools","CreateControlFromString","CreateImageButton","ImageControlDefaultUrl","ControlTypes","PropertyTabComponent","saveLocally","json","serializeContent","DownloadAsFile","error","saveSelectedControlLocally","controlSerializationObject","saveToSnippetServerHelper","async","reject","xmlHttp","XMLHttpRequest","onreadystatechange","readyState","status","snippet","responseText","oldId","version","windowAsAny","Playground","onRequestCodeChangeObservable","regex","RegExp","buffer","TextEncoder","encode","testData","fromCharCode","objToSend","gui","encodedGui","open","SnippetUrl","setRequestHeader","dataToSend","payload","description","send","saveToSnippetServer","customSave","then","alertMessage","navigator","clipboard","writeText","err","_lockObject","file","load","loadControl","_onBuiltObserver","clearInterval","_timerIntervalId","ReadFile","decoder","TextDecoder","decode","saveCallback","allControls","snippedId","renderNode","nodes","renderControlIcon","noUnderline","renderProperties","getControlsCommonClassName","firstClass","nodesToRender","Portal","LogComponent","_consoleRef","logs","log","newLogArray","number","componentDidUpdate","logConsole","scrollHeight","today","h","getHours","getMinutes","s","getSeconds","l","isError","message","TreeItemLabelComponent","renaming","setRenaming","autoFocus","onKeyDown","onDoubleClick","ExtensionsComponent","popupVisible","_extensionRef","showPopup","_popup","focus","extensibilityGroups","predicate","entries","tabIndex","extensibility","ControlTreeItemComponent","isRenaming","_onIsVisibleChangedObserver","highlight","switchVisibility","newState","onRename","bracket","draggingSelf","controlType","onRenamingStateChanged","isDragOver","dragOverLocation","isHovered","TreeItemSelectableComponent","_thisRef","_secondDragEnter","expand","dragOver","entity","blockDrag","_onSelectionChangedObservable","_onDraggingEndObservable","_onDraggingStartObservable","switchExpandedState","setExpandedState","isExpanded","scrollIntoView","selectionLock","renderChildren","mustExpand","marginStyle","lineMarginStyle","marginLeft","expanded","chevron","hasChildren","lowerCaseFilter","styleName","onPointerEnter","onPointerLeave","onDragEnd","onDrop","drop","onDragEnter","onDragOver","updateDragOverLocation","onDragLeave","getBoundingClientRect","clientY","CONTROL_HEIGHT","useStyles","menuPopover","minWidth","menuItem","menuItemIcon","colorNeutralForeground2","RenderMenuItems","classes","IsDivider","IsGroup","secondaryContent","RenderMenuItem","ContextMenu","forwardRef","onOpenChange","setOpen","openOnContext","_","disableButtonEnhancement","trigger","e","stopPropagation","displayName","TreeItemExpandableHeaderComponent","expandAll","onExpandAll","TreeItemRootHeaderComponent","ConvertToContextMenuItems","TreeItemComponent","forceSubitems","contextMenuItems","_ContextMenuUniqueIdGenerator","toolName","sortedItems","SceneExplorerComponent","selectedEntity","_onNewSceneObserver","_onPropertyChangedObservable","_onUpdateRequiredObserver","_onSelectionChangeObserver","_onParrentingChangeObserver","filterContent","findSiblings","goNext","found","previousOne","processKeys","localName","Log","rootNodes","materials","textures","renderContent","guiElements","onClose","onPopup","CommandDropdownComponent","activeState","pgHost","getElementById","zIndex","toRight","fileButton","loadControlButton","accept","subItems","onCheck","SizeValues","SizeOptions","CommandBarComponent","_sizeOption","_stopUpdating","isPasteDisabled","copyyIcon","deleteeIcon","pasteeIcon","responsiveUI","findIndex","WriteBoolean","readText","noDirectUpdate","newSize","onDragStop","ScalePointPosition","CursorScaleDiagonaLeft","CursorScaleDiagonalRight","CursorScaleHorizontal","CursorScaleVertical","ScalePointCursors","RotateCursors","GizmoScalePoint","scalePoint","clickable","onDrag","onRotate","overrideCursor","canRotate","allowClickOnPivot","transform","pointerEvents","isPivot","angleAdjusted","defaultRotation","cursorIndex","rotateClickAreaStyle","verticalPosition","horizontalPosition","scaleClickAreaStyle","Lines","DefaultScalePointRotations","GizmoGeneric","_onUp","scalePointDragging","isRotating","inRTT","inNodeSpace","_storedValues","_dragLocalBounds","_updateNodeFromLocalBounds","angle","_rotation","pivot","initialAngleToPivot","_beginDraggingScalePoint","scalePointIndex","_localBounds","localBounds","_beginRotate","nodeSpace","rtt","scalePoints","vertical","Top","Bottom","horizontal","Left","Right","Center","canvasBounds","_gizmoUpdateObserver","updateGizmo","_pointerUpObserver","_pointerMoveObserver","MAX_VALUE","totalPadding","horizontalAdjustment","verticalAdjustment","updatedPoints","pivotX","pivotY","_rotate","toPosition","preserveAspectRatio","newBounds","currentAspectRatio","deltaWidth","deltaHeight","signInverted","comparison","aspectRatioDeltaHeight","aspectRatioDeltaWidth","edges","initialBounds","nb","rotationModifier","divisor","edge","modifiedIndex","flipSign","localRotation","localScaling","absoluteCenter","multiplyInPlace","cosRotation","sinRotation","cosRotation180","sinRotation180","widthDelta","heightDelta","rotatedCenter","newPixels","start","GetPivotToRef","xm","ym","TmpVectors","GizmoLine","isPivotMoving","isDragging","movedScalePoint","lastCursor","setScalePoints","gizmoUpdateObserver","update","v1","v2","vm","_transformMatrix","positions","point","_getAddAndRound","_getDeltasToRef","currentPointer","rttClientCoords","localClientCoords","rttLastCoordinates","localLastCoordinates","subtractToRef","rotatedDelta","rotateToRef","deltas","_dragPivot","movedPointIndex","_dragEndpoint","currentToPivot","normalize","lastToPivot","dotProd","Dot","acos","direction","_rotateEndpoint","pointerMoveObserver","pointerUpObserver","finalTransform","currentTransform","RotationToRef","GizmoWrapper","observer","ArtBoardComponent","bounds","visibleRegion","topLeftRTT","topLeftCanvas","bottomRightRTT","bottomRightCanvas","WorkbenchEditor","userAgent","querySelector","visibility","addToolControls","removePressToolControls","onReady","_onErrorMessageObserver","_leftWidth","_rightWidth","_workbenchRef","HTMLInputElement","handlePopUp","showPreviewPopUp","handleClosingPopUp","_popUpWindow","close","_rootRef","toolbarExpand","_draggedItem","onCreate","showWaitScreen","classList","hideWaitScreen","_moveInProgress","currentTarget","resizeColumns","forLeft","rootElement","ownerDocument","innerWidth","clientX","clientLeft","clientWidth","gridTemplateColumns","buildColumnLayout","classForElement","onMouseDown","noExpand","createToolbar","MessageDialog","createBlackLine","createToolbarHelper","ct","Show","_CurrentState","currentSnippetToken","onWindowCreateCallback","graphEditor","customLoadObservable","onbeforeunload","optionsLine","optionsSelect"],"ignoreList":[],"sourceRoot":""}