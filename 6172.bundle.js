"use strict";(self.webpackChunk_dev_inspector_v2=self.webpackChunk_dev_inspector_v2||[]).push([[6172],{6172:(e,s,t)=>{t.d(s,{KHR_materials_volume:()=>o});var n=t(43291),a=t(69884),r=t(96734);const i="KHR_materials_volume";class o{constructor(e){this.name=i,this.order=173,this._loader=e,this.enabled=this._loader.isExtensionUsed(i),this.enabled&&this._loader._disableInstancedMesh++}dispose(){this.enabled&&this._loader._disableInstancedMesh--,this._loader=null}loadMaterialPropertiesAsync(e,s,t){return a.BT.LoadExtensionAsync(e,s,this.name,(async(n,a)=>{const r=new Array;return r.push(this._loader.loadMaterialPropertiesAsync(e,s,t)),r.push(this._loadVolumePropertiesAsync(n,s,t,a)),await Promise.all(r).then((()=>{}))}))}_loadVolumePropertiesAsync(e,s,t,a){const r=this._loader._getOrCreateMaterialAdapter(t);if(0===r.transmissionWeight&&0===r.subsurfaceWeight||!a.thicknessFactor)return Promise.resolve();r.transmissionDepth=void 0!==a.attenuationDistance?a.attenuationDistance:Number.MAX_VALUE,r.transmissionColor=void 0!==a.attenuationColor&&3==a.attenuationColor.length?n.v9.FromArray(a.attenuationColor):n.v9.White(),r.volumeThickness=a.thicknessFactor??0;const i=new Array;return a.thicknessTexture&&(a.thicknessTexture.nonColorData=!0,i.push(this._loader.loadTextureInfoAsync(`${e}/thicknessTexture`,a.thicknessTexture,(e=>{e.name=`${t.name} (Thickness)`,r.volumeThicknessTexture=e})))),Promise.all(i).then((()=>{}))}}(0,r.Hg)(i),(0,r.Ye)(i,!0,(e=>new o(e)))}}]);
//# sourceMappingURL=6172.bundle.js.map