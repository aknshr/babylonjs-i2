"use strict";(self.webpackChunk_dev_inspector_v2=self.webpackChunk_dev_inspector_v2||[]).push([[4105],{14105:(s,e,r)=>{r.d(e,{KHR_materials_diffuse_transmission:()=>t});var n=r(69884),i=r(43291),a=r(96734);const o="KHR_materials_diffuse_transmission";class t{constructor(s){this.name=o,this.order=174,this._loader=s,this.enabled=this._loader.isExtensionUsed(o),this.enabled&&(s.parent.transparencyAsCoverage=!0)}dispose(){this._loader=null}loadMaterialPropertiesAsync(s,e,r){return n.BT.LoadExtensionAsync(s,e,this.name,(async(n,i)=>{const a=new Array;return a.push(this._loader.loadMaterialPropertiesAsync(s,e,r)),a.push(this._loadTranslucentPropertiesAsync(n,e,r,i)),await Promise.all(a).then((()=>{}))}))}_loadTranslucentPropertiesAsync(s,e,r,n){const a=this._loader._getOrCreateMaterialAdapter(r);a.configureSubsurface(),a.subsurfaceWeight=n.diffuseTransmissionFactor??0,a.subsurfaceColor=void 0!==n.diffuseTransmissionColorFactor?i.v9.FromArray(n.diffuseTransmissionColorFactor):i.v9.White();const o=new Array;return n.diffuseTransmissionTexture&&(n.diffuseTransmissionTexture.nonColorData=!0,o.push(this._loader.loadTextureInfoAsync(`${s}/diffuseTransmissionTexture`,n.diffuseTransmissionTexture).then((s=>{s.name=`${r.name} (Diffuse Transmission)`,a.subsurfaceWeightTexture=s})))),n.diffuseTransmissionColorTexture&&o.push(this._loader.loadTextureInfoAsync(`${s}/diffuseTransmissionColorTexture`,n.diffuseTransmissionColorTexture).then((s=>{s.name=`${r.name} (Diffuse Transmission Color)`,a.subsurfaceColorTexture=s}))),Promise.all(o).then((()=>{}))}}(0,a.Hg)(o),(0,a.Ye)(o,!0,(s=>new t(s)))}}]);
//# sourceMappingURL=4105.bundle.js.map