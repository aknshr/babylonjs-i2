"use strict";(self.webpackChunk_dev_inspector_v2=self.webpackChunk_dev_inspector_v2||[]).push([[2988],{82988:(e,i,t)=>{t.d(i,{EXT_lights_ies:()=>_});var s=t(31273),n=t(43291),l=t(814),o=t(14390),a=t(69884),r=t(96734),d=t(14491);const h="EXT_lights_ies";class _{constructor(e){this.name=h,this._loader=e,this.enabled=this._loader.isExtensionUsed(h)}dispose(){this._loader=null,delete this._lights}onLoading(){const e=this._loader.gltf.extensions;if(e&&e[this.name]){const i=e[this.name];this._lights=i.lights,a.l2.Assign(this._lights)}}loadNodeAsync(e,i,t){return a.BT.LoadExtensionAsync(e,i,this.name,(async(r,h)=>{let _,c;this._loader._allMaterialsDirtyRequired=!0;const f=await this._loader.loadNodeAsync(e,i,(e=>{c=a.l2.Get(r,this._lights,h.light);const i=c.name||e.name;this._loader.babylonScene._blockEntityCollection=!!this._loader._assetContainer,_=new l.n(i,s.Pq.Zero(),s.Pq.Backward(),0,1,this._loader.babylonScene),_.angle=Math.PI/2,_.innerAngle=0,_._parentContainer=this._loader._assetContainer,this._loader.babylonScene._blockEntityCollection=!1,c._babylonLight=_,_.falloffType=o.v.FALLOFF_GLTF,_.diffuse=h.color?n.v9.FromArray(h.color):n.v9.White(),_.intensity=h.multiplier||1,_.range=Number.MAX_VALUE,_.parent=e,this._loader._babylonLights.push(_),a.BT.AddPointerMetadata(_,r),t(e)}));let u;if(c.uri)u=await this._loader.loadUriAsync(e,c,c.uri);else{const i=a.l2.Get(`${e}/bufferView`,this._loader.gltf.bufferViews,c.bufferView);u=await this._loader.loadBufferViewAsync(`/bufferViews/${i.index}`,i)}return _.iesProfileTexture=new d.g(name+"_iesProfile",this._loader.babylonScene,!0,!1,void 0,null,null,u,!0,void 0,void 0,void 0,void 0,".ies"),f}))}}(0,r.Hg)(h),(0,r.Ye)(h,!0,(e=>new _(e)))}}]);
//# sourceMappingURL=2988.bundle.js.map