{"version":3,"file":"3826.bundle.js","mappings":"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","sources":["webpack://@dev/inspector-v2/../core/src/AudioV2/abstractAudio/subNodes/abstractAudioSubNode.ts?","webpack://@dev/inspector-v2/../core/src/AudioV2/abstractAudio/subNodes/volumeAudioSubNode.ts?","webpack://@dev/inspector-v2/../core/src/AudioV2/abstractAudio/subProperties/abstractAudioAnalyzer.ts?","webpack://@dev/inspector-v2/../core/src/AudioV2/abstractAudio/subNodes/abstractAudioSubGraph.ts?","webpack://@dev/inspector-v2/../core/src/AudioV2/webAudio/subNodes/volumeWebAudioSubNode.ts?","webpack://@dev/inspector-v2/../core/src/AudioV2/webAudio/subNodes/webAudioAnalyzerSubNode.ts?","webpack://@dev/inspector-v2/../core/src/AudioV2/webAudio/subNodes/webAudioBaseSubGraph.ts?","webpack://@dev/inspector-v2/../core/src/AudioV2/abstractAudio/abstractAudioOutNode.ts?","webpack://@dev/inspector-v2/../core/src/AudioV2/abstractAudio/subProperties/audioAnalyzer.ts?","webpack://@dev/inspector-v2/../core/src/AudioV2/abstractAudio/subNodes/audioAnalyzerSubNode.ts?"],"sourcesContent":["import { AudioNodeType, AbstractNamedAudioNode } from \"../abstractAudioNode\";\nimport type { AudioEngineV2 } from \"../audioEngineV2\";\n\n/** @internal */\nexport abstract class _AbstractAudioSubNode extends AbstractNamedAudioNode {\n    /** @internal */\n    protected constructor(name: string, engine: AudioEngineV2) {\n        super(name, engine, AudioNodeType.HAS_INPUTS_AND_OUTPUTS);\n    }\n\n    /** @internal */\n    public connect(node: _AbstractAudioSubNode): void {\n        if (!this._connect(node)) {\n            throw new Error(\"Connect failed\");\n        }\n    }\n\n    /** @internal */\n    public disconnect(node: _AbstractAudioSubNode): void {\n        if (!this._disconnect(node)) {\n            throw new Error(\"Disconnect failed\");\n        }\n    }\n\n    /** @internal */\n    public disconnectAll(): void {\n        if (!this._downstreamNodes) {\n            throw new Error(\"Disconnect failed\");\n        }\n\n        const it = this._downstreamNodes.values();\n\n        for (let next = it.next(); !next.done; next = it.next()) {\n            if (!this._disconnect(next.value)) {\n                throw new Error(\"Disconnect failed\");\n            }\n        }\n    }\n}\n","import type { Nullable } from \"../../../types\";\nimport type { IAudioParameterRampOptions } from \"../../audioParameter\";\nimport { AudioParameterRampShape } from \"../../audioParameter\";\nimport type { AudioEngineV2 } from \"../audioEngineV2\";\nimport { _AbstractAudioSubNode } from \"../subNodes/abstractAudioSubNode\";\nimport { AudioSubNode } from \"../subNodes/audioSubNode\";\nimport type { _AbstractAudioSubGraph } from \"./abstractAudioSubGraph\";\n\n/** @internal */\nexport const _VolumeAudioDefaults = {\n    volume: 1 as number,\n} as const;\n\n/**\n * Volume options.\n */\nexport interface IVolumeAudioOptions {\n    /**\n     * The volume/gain. Defaults to 1.\n     */\n    volume: number;\n}\n\n/** @internal */\nexport abstract class _VolumeAudioSubNode extends _AbstractAudioSubNode {\n    protected constructor(engine: AudioEngineV2) {\n        super(AudioSubNode.VOLUME, engine);\n    }\n\n    public abstract volume: number;\n\n    /** @internal */\n    public setOptions(options: Partial<IVolumeAudioOptions>): void {\n        this.setVolume(options.volume ?? _VolumeAudioDefaults.volume, { shape: AudioParameterRampShape.None });\n    }\n\n    /** @internal */\n    public abstract setVolume(value: number, options?: Nullable<Partial<IAudioParameterRampOptions>>): void;\n}\n\n/** @internal */\nexport function _GetVolumeAudioSubNode(subGraph: _AbstractAudioSubGraph): Nullable<_VolumeAudioSubNode> {\n    return subGraph.getSubNode<_VolumeAudioSubNode>(AudioSubNode.VOLUME);\n}\n\n/** @internal */\nexport function _GetVolumeAudioProperty<K extends keyof typeof _VolumeAudioDefaults>(subGraph: _AbstractAudioSubGraph, property: K): (typeof _VolumeAudioDefaults)[K] {\n    return _GetVolumeAudioSubNode(subGraph)?.[property] ?? _VolumeAudioDefaults[property];\n}\n","// eslint-disable-next-line @typescript-eslint/naming-convention\nexport type AudioAnalyzerFFTSizeType = 32 | 64 | 128 | 256 | 512 | 1024 | 2048 | 4096 | 8192 | 16384 | 32768;\n\nexport const _AudioAnalyzerDefaults = {\n    fftSize: 2048 as AudioAnalyzerFFTSizeType,\n    minDecibels: -100 as number,\n    maxDecibels: -30 as number,\n    smoothing: 0.8 as number,\n} as const;\n\n/**\n * Options for the AudioAnalyzer\n */\nexport interface IAudioAnalyzerOptions {\n    /**\n     * Enable the audio analyzer. Defaults to false.\n     */\n    analyzerEnabled: boolean;\n    /**\n     * The size of the FFT (fast fourier transform) to use when converting time-domain data to frequency-domain data. Default is 2048.\n     */\n    analyzerFFTSize: AudioAnalyzerFFTSizeType;\n\n    /**\n     * The minimum decibel value for the range of the analyzer. Default is -100.\n     */\n    analyzerMinDecibels: number;\n\n    /**\n     * The maximum decibel value for the range of the analyzer. Default is -30.\n     */\n    analyzerMaxDecibels: number;\n\n    /**\n     * A number between 0 and 1 that determines how quickly the analyzer's value changes. Default is 0.8.\n     */\n    analyzerSmoothing: number;\n}\n\n/**\n * @param options The audio analyzer options to check.\n * @returns `true` if audio analyzer options are defined, otherwise `false`.\n */\nexport function _HasAudioAnalyzerOptions(options: Partial<IAudioAnalyzerOptions>): boolean {\n    return (\n        options.analyzerEnabled ||\n        options.analyzerFFTSize !== undefined ||\n        options.analyzerMinDecibels !== undefined ||\n        options.analyzerMaxDecibels !== undefined ||\n        options.analyzerSmoothing !== undefined\n    );\n}\n\n/**\n * An AudioAnalyzer converts time-domain audio data into the frequency-domain.\n */\nexport abstract class AbstractAudioAnalyzer {\n    /**\n     * The size of the FFT (fast fourier transform) to use when converting time-domain data to frequency-domain data. Default is 2048.\n     */\n    public abstract fftSize: AudioAnalyzerFFTSizeType;\n\n    /**\n     * The number of data values that will be returned when calling getByteFrequencyData() or getFloatFrequencyData(). This is always half the `fftSize`.\n     */\n    public get frequencyBinCount(): number {\n        return this.fftSize / 2;\n    }\n\n    /**\n     * Whether the analyzer is enabled or not.\n     * - The `getByteFrequencyData` and `getFloatFrequencyData` functions return `null` if the analyzer is not enabled.\n     * @see {@link enableAsync}\n     */\n    public abstract isEnabled: boolean;\n\n    /**\n     * The minimum decibel value for the range of the analyzer. Default is -100.\n     */\n    public abstract minDecibels: number;\n\n    /**\n     * The maximum decibel value for the range of the analyzer. Default is -30.\n     */\n    public abstract maxDecibels: number;\n\n    /**\n     * A number between 0 and 1 that determines how quickly the analyzer's value changes. Default is 0.8.\n     */\n    public abstract smoothing: number;\n\n    /**\n     * Releases associated resources.\n     */\n    public abstract dispose(): void;\n\n    /**\n     * Enables the analyzer\n     */\n    public abstract enableAsync(): Promise<void>;\n\n    /**\n     * Gets the current frequency data as a byte array\n     * @returns a Uint8Array if the analyzer is enabled, otherwise `null`\n     */\n    public abstract getByteFrequencyData(): Uint8Array;\n\n    /**\n     * Gets the current frequency data as a float array\n     * @returns a Float32Array if the analyzer is enabled, otherwise `null`\n     */\n    public abstract getFloatFrequencyData(): Float32Array;\n}\n","import type { Nullable } from \"../../../types\";\nimport type { AbstractAudioNode, AbstractNamedAudioNode } from \"../abstractAudioNode\";\nimport type { _AbstractAudioSubNode } from \"./abstractAudioSubNode\";\nimport type { AudioSubNode } from \"./audioSubNode\";\n\n/**\n * Adds common sub graph functionality to an audio node.\n *\n * Audio nodes such as static sounds, streaming sounds, and buses can use audio sub graphs to process audio internally\n * before sending it to connected downstream audio nodes. This is useful for applying effects, spatial audio, and other\n * audio processing tasks common to multiple audio node classes.\n *\n * A key feature of audio sub graphs is their audio sub nodes are created asynchronously on demand so the minimum set\n * of sub nodes are used at all times to save memory and CPU resources. The tradeoff is a small delay when first\n * setting a property backed by a sub node. This delay is avoided by using the appropriate options to initialize the\n * sub node on creation, e.g. `spatialEnabled` and `stereoEnabled`, or by setting any creation option backed by the\n * sub node, e.g. `spatialPosition` and `stereoPan`.\n *\n * @internal\n */\nexport abstract class _AbstractAudioSubGraph {\n    private _createSubNodePromises: { [key: string]: Promise<_AbstractAudioSubNode> } = {};\n    private _isDisposed = false;\n    private _subNodes: { [key: string]: _AbstractAudioSubNode } = {};\n\n    /**\n     * Executes the given callback with the named sub node, creating the sub node if needed.\n     *\n     * @param name The name of the sub node\n     * @param callback The function to call with the named sub node\n     *\n     * @internal\n     */\n    public callOnSubNode<T extends _AbstractAudioSubNode>(name: AudioSubNode, callback: (node: T) => void): void {\n        const node = this.getSubNode(name);\n        if (node) {\n            callback(node as T);\n            return;\n        }\n\n        // eslint-disable-next-line @typescript-eslint/no-floating-promises, github/no-then\n        this._createSubNodePromisesResolvedAsync().then(() => {\n            const node = this.getSubNode(name);\n            if (node) {\n                callback(node as T);\n                return;\n            }\n\n            // eslint-disable-next-line @typescript-eslint/no-floating-promises, github/no-then\n            this.createAndAddSubNodeAsync(name).then((node) => {\n                callback(node as T);\n            });\n        });\n    }\n\n    /**\n     * Creates the named subnode and adds it to the sub graph.\n     *\n     * @param name The name of the sub node.\n     * @returns A promise that resolves to the created sub node.\n     *\n     * @internal\n     */\n    // eslint-disable-next-line @typescript-eslint/promise-function-async, no-restricted-syntax\n    public createAndAddSubNodeAsync(name: AudioSubNode): Promise<_AbstractAudioSubNode> {\n        // eslint-disable-next-line github/no-then\n        this._createSubNodePromises[name] ||= this._createSubNode(name).then((node) => {\n            this._addSubNode(node);\n            return node;\n        });\n\n        return this._createSubNodePromises[name];\n    }\n\n    /**\n     * Releases associated resources.\n     *\n     * @internal\n     */\n    public dispose() {\n        this._isDisposed = true;\n\n        const subNodes = Object.values(this._subNodes);\n        for (const subNode of subNodes) {\n            subNode.dispose();\n        }\n\n        this._subNodes = {};\n        this._createSubNodePromises = {};\n    }\n\n    /**\n     * Gets a previously created sub node.\n     *\n     * @param name - The name of the sub node\n     * @returns The named sub node, or `null` if it has not been created, yet\n     *\n     * @internal\n     * */\n    public getSubNode<T extends _AbstractAudioSubNode>(name: string): Nullable<T> {\n        return (this._subNodes[name] as T) ?? null;\n    }\n\n    /**\n     * Removes a sub node from the sub graph.\n     *\n     * @param subNode - The sub node to remove\n     * @returns A promise that resolves when the sub node is removed\n     *\n     * @internal\n     */\n    public async removeSubNodeAsync(subNode: Nullable<_AbstractAudioSubNode>): Promise<void> {\n        if (!subNode) {\n            return;\n        }\n\n        await this._createSubNodePromisesResolvedAsync();\n\n        const name = subNode.name;\n        if (this._subNodes[name]) {\n            delete this._subNodes[name];\n        }\n\n        delete this._createSubNodePromises[name];\n\n        this._onSubNodesChanged();\n    }\n\n    protected abstract _createSubNode(name: string): Promise<_AbstractAudioSubNode>;\n\n    /**\n     * Called when sub-nodes are added or removed.\n     * - Override this to connect and reconnect sub-nodes as needed.\n     */\n    protected abstract _onSubNodesChanged(): void;\n\n    protected async _createSubNodePromisesResolvedAsync(): Promise<_AbstractAudioSubNode[]> {\n        return await Promise.all(Object.values(this._createSubNodePromises));\n    }\n\n    private _addSubNode(node: _AbstractAudioSubNode): void {\n        if (this._isDisposed) {\n            node.dispose();\n            return;\n        }\n\n        this._subNodes[node.name] = node;\n\n        node.onDisposeObservable.addOnce(this._onSubNodeDisposed);\n\n        this._onSubNodesChanged();\n    }\n\n    private _onSubNodeDisposed = (node: AbstractAudioNode) => {\n        const subNode = node as AbstractNamedAudioNode;\n\n        delete this._subNodes[subNode.name];\n\n        this._onSubNodesChanged();\n    };\n}\n","import type { Nullable } from \"../../../types\";\nimport { _VolumeAudioSubNode } from \"../../abstractAudio/subNodes/volumeAudioSubNode\";\nimport type { IAudioParameterRampOptions } from \"../../audioParameter\";\nimport { _WebAudioParameterComponent } from \"../components/webAudioParameterComponent\";\nimport type { _WebAudioEngine } from \"../webAudioEngine\";\nimport type { IWebAudioInNode, IWebAudioSubNode } from \"../webAudioNode\";\n\n/** @internal */\n// eslint-disable-next-line @typescript-eslint/require-await\nexport async function _CreateVolumeAudioSubNodeAsync(engine: _WebAudioEngine): Promise<_VolumeAudioSubNode> {\n    return new _VolumeWebAudioSubNode(engine);\n}\n\n/** @internal */\nexport class _VolumeWebAudioSubNode extends _VolumeAudioSubNode implements IWebAudioSubNode {\n    private _volume: _WebAudioParameterComponent;\n\n    /** @internal */\n    public override readonly engine: _WebAudioEngine;\n\n    /** @internal */\n    public readonly node: AudioNode;\n\n    /** @internal */\n    public constructor(engine: _WebAudioEngine) {\n        super(engine);\n\n        const gainNode = (this.node = new GainNode(engine._audioContext));\n        this._volume = new _WebAudioParameterComponent(engine, gainNode.gain);\n    }\n\n    /** @internal */\n    public override dispose(): void {\n        super.dispose();\n\n        this._volume.dispose();\n    }\n\n    /** @internal */\n    public get volume(): number {\n        return this._volume.value;\n    }\n\n    /** @internal */\n    public set volume(value: number) {\n        this.setVolume(value);\n    }\n\n    /** @internal */\n    public get _inNode(): AudioNode {\n        return this.node;\n    }\n\n    /** @internal */\n    public get _outNode(): AudioNode {\n        return this.node;\n    }\n\n    /** @internal */\n    public setVolume(value: number, options: Nullable<Partial<IAudioParameterRampOptions>> = null): void {\n        this._volume.setTargetValue(value, options);\n    }\n\n    protected override _connect(node: IWebAudioInNode): boolean {\n        const connected = super._connect(node);\n\n        if (!connected) {\n            return false;\n        }\n\n        // If the wrapped node is not available now, it will be connected later by the subgraph.\n        if (node._inNode) {\n            this.node.connect(node._inNode);\n        }\n\n        return true;\n    }\n\n    protected override _disconnect(node: IWebAudioInNode): boolean {\n        const disconnected = super._disconnect(node);\n\n        if (!disconnected) {\n            return false;\n        }\n\n        if (node._inNode) {\n            this.node.disconnect(node._inNode);\n        }\n\n        return true;\n    }\n\n    /** @internal */\n    public getClassName(): string {\n        return \"_VolumeWebAudioSubNode\";\n    }\n}\n","import type { Nullable } from \"../../../types\";\nimport { _AudioAnalyzerSubNode } from \"../../abstractAudio/subNodes/audioAnalyzerSubNode\";\nimport type { AudioAnalyzerFFTSizeType } from \"../../abstractAudio/subProperties/abstractAudioAnalyzer\";\nimport { _GetEmptyByteFrequencyData, _GetEmptyFloatFrequencyData } from \"../../abstractAudio/subProperties/audioAnalyzer\";\nimport type { _WebAudioEngine } from \"../webAudioEngine\";\nimport type { IWebAudioInNode } from \"../webAudioNode\";\n\n/** @internal */\n// eslint-disable-next-line @typescript-eslint/require-await\nexport async function _CreateAudioAnalyzerSubNodeAsync(engine: _WebAudioEngine): Promise<_AudioAnalyzerSubNode> {\n    return new _WebAudioAnalyzerSubNode(engine);\n}\n\n/** @internal */\nexport class _WebAudioAnalyzerSubNode extends _AudioAnalyzerSubNode implements IWebAudioInNode {\n    private readonly _analyzerNode: AnalyserNode;\n    private _byteFrequencyData: Nullable<Uint8Array> = null;\n    private _floatFrequencyData: Nullable<Float32Array> = null;\n\n    /** @internal */\n    public constructor(engine: _WebAudioEngine) {\n        super(engine);\n\n        this._analyzerNode = new AnalyserNode(engine._audioContext);\n    }\n\n    /** @internal */\n    public get fftSize(): AudioAnalyzerFFTSizeType {\n        return this._analyzerNode.fftSize as AudioAnalyzerFFTSizeType;\n    }\n\n    public set fftSize(value: AudioAnalyzerFFTSizeType) {\n        if (value === this._analyzerNode.fftSize) {\n            return;\n        }\n\n        this._analyzerNode.fftSize = value;\n\n        this._clearArrays();\n    }\n\n    /** @internal */\n    public get _inNode(): AudioNode {\n        return this._analyzerNode;\n    }\n\n    /** @internal */\n    public get minDecibels(): number {\n        return this._analyzerNode.minDecibels;\n    }\n\n    public set minDecibels(value: number) {\n        this._analyzerNode.minDecibels = value;\n    }\n\n    /** @internal */\n    public get maxDecibels(): number {\n        return this._analyzerNode.maxDecibels;\n    }\n\n    public set maxDecibels(value: number) {\n        this._analyzerNode.maxDecibels = value;\n    }\n\n    /** @internal */\n    public get smoothing(): number {\n        return this._analyzerNode.smoothingTimeConstant;\n    }\n\n    public set smoothing(value: number) {\n        this._analyzerNode.smoothingTimeConstant = value;\n    }\n\n    /** @internal */\n    public override dispose(): void {\n        super.dispose();\n\n        this._clearArrays();\n        this._byteFrequencyData = null;\n        this._floatFrequencyData = null;\n\n        this._analyzerNode.disconnect();\n    }\n\n    /** @internal */\n    public getClassName(): string {\n        return \"_WebAudioAnalyzerSubNode\";\n    }\n\n    /** @internal */\n    public getByteFrequencyData(): Uint8Array {\n        if (!this._byteFrequencyData || this._byteFrequencyData.length === 0) {\n            this._byteFrequencyData = new Uint8Array(this._analyzerNode.frequencyBinCount);\n        }\n        this._analyzerNode.getByteFrequencyData(this._byteFrequencyData);\n        return this._byteFrequencyData;\n    }\n\n    /** @internal */\n    public getFloatFrequencyData(): Float32Array {\n        if (!this._floatFrequencyData || this._floatFrequencyData.length === 0) {\n            this._floatFrequencyData = new Float32Array(this._analyzerNode.frequencyBinCount);\n        }\n        this._analyzerNode.getFloatFrequencyData(this._floatFrequencyData);\n        return this._floatFrequencyData;\n    }\n\n    private _clearArrays(): void {\n        this._byteFrequencyData?.set(_GetEmptyByteFrequencyData());\n        this._floatFrequencyData?.set(_GetEmptyFloatFrequencyData());\n    }\n}\n","import type { Nullable } from \"../../../types\";\nimport type { AbstractAudioNode } from \"../../abstractAudio/abstractAudioNode\";\nimport { _AbstractAudioSubGraph } from \"../../abstractAudio/subNodes/abstractAudioSubGraph\";\nimport type { _AbstractAudioSubNode } from \"../../abstractAudio/subNodes/abstractAudioSubNode\";\nimport { _GetAudioAnalyzerSubNode } from \"../../abstractAudio/subNodes/audioAnalyzerSubNode\";\nimport { AudioSubNode } from \"../../abstractAudio/subNodes/audioSubNode\";\nimport type { IVolumeAudioOptions } from \"../../abstractAudio/subNodes/volumeAudioSubNode\";\nimport { _GetVolumeAudioSubNode } from \"../../abstractAudio/subNodes/volumeAudioSubNode\";\nimport type { IAudioAnalyzerOptions } from \"../../abstractAudio/subProperties/abstractAudioAnalyzer\";\nimport { _HasAudioAnalyzerOptions } from \"../../abstractAudio/subProperties/abstractAudioAnalyzer\";\nimport type { IWebAudioInNode, IWebAudioSuperNode } from \"../webAudioNode\";\nimport type { _VolumeWebAudioSubNode } from \"./volumeWebAudioSubNode\";\nimport { _CreateVolumeAudioSubNodeAsync } from \"./volumeWebAudioSubNode\";\nimport { _CreateAudioAnalyzerSubNodeAsync } from \"./webAudioAnalyzerSubNode\";\n\n/**\n * Options for creating a WebAudioBaseSubGraph.\n */\nexport interface IWebAudioBaseSubGraphOptions extends IAudioAnalyzerOptions, IVolumeAudioOptions {}\n\n/** @internal */\nexport abstract class _WebAudioBaseSubGraph extends _AbstractAudioSubGraph {\n    protected _owner: IWebAudioSuperNode;\n    protected _outputNode: Nullable<AudioNode> = null;\n\n    /** @internal */\n    public constructor(owner: IWebAudioSuperNode) {\n        super();\n\n        this._owner = owner;\n    }\n\n    /** @internal */\n    public async initAsync(options: Partial<IWebAudioBaseSubGraphOptions>): Promise<void> {\n        const hasAnalyzerOptions = _HasAudioAnalyzerOptions(options);\n\n        if (hasAnalyzerOptions) {\n            await this.createAndAddSubNodeAsync(AudioSubNode.ANALYZER);\n        }\n\n        await this.createAndAddSubNodeAsync(AudioSubNode.VOLUME);\n\n        await this._createSubNodePromisesResolvedAsync();\n\n        if (hasAnalyzerOptions) {\n            const analyzerNode = _GetAudioAnalyzerSubNode(this);\n            if (!analyzerNode) {\n                throw new Error(\"No analyzer subnode.\");\n            }\n\n            analyzerNode.setOptions(options);\n        }\n\n        const volumeNode = _GetVolumeAudioSubNode(this);\n        if (!volumeNode) {\n            throw new Error(\"No volume subnode.\");\n        }\n\n        volumeNode.setOptions(options);\n\n        if (volumeNode.getClassName() !== \"_VolumeWebAudioSubNode\") {\n            throw new Error(\"Not a WebAudio subnode.\");\n        }\n\n        this._outputNode = (volumeNode as _VolumeWebAudioSubNode).node;\n\n        // Connect the new wrapped WebAudio node to the wrapped downstream WebAudio nodes.\n        // The wrapper nodes are unaware of this change.\n        if (this._outputNode && this._downstreamNodes) {\n            const it = this._downstreamNodes.values();\n            for (let next = it.next(); !next.done; next = it.next()) {\n                const inNode = (next.value as IWebAudioInNode)._inNode;\n                if (inNode) {\n                    this._outputNode.connect(inNode);\n                }\n            }\n        }\n    }\n\n    protected abstract readonly _downstreamNodes: Nullable<Set<AbstractAudioNode>>;\n\n    /** @internal */\n    public get _inNode(): Nullable<AudioNode> {\n        return this._outputNode;\n    }\n\n    /** @internal */\n    public get _outNode(): Nullable<AudioNode> {\n        return this._outputNode;\n    }\n\n    // Function is async, but throws synchronously. Avoiding breaking changes.\n    // eslint-disable-next-line @typescript-eslint/promise-function-async\n    protected _createSubNode(name: string): Promise<_AbstractAudioSubNode> {\n        switch (name) {\n            case AudioSubNode.ANALYZER:\n                return _CreateAudioAnalyzerSubNodeAsync(this._owner.engine);\n            case AudioSubNode.VOLUME:\n                return _CreateVolumeAudioSubNodeAsync(this._owner.engine);\n            default:\n                throw new Error(`Unknown subnode name: ${name}`);\n        }\n    }\n\n    protected _onSubNodesChanged(): void {\n        const analyzerNode = _GetAudioAnalyzerSubNode(this);\n        const volumeNode = _GetVolumeAudioSubNode(this);\n\n        if (analyzerNode && volumeNode) {\n            volumeNode.connect(analyzerNode);\n        }\n    }\n}\n","import type { Nullable } from \"../../types\";\nimport type { IAudioParameterRampOptions } from \"../audioParameter\";\nimport type { AudioNodeType } from \"./abstractAudioNode\";\nimport { AbstractNamedAudioNode } from \"./abstractAudioNode\";\nimport type { AudioEngineV2 } from \"./audioEngineV2\";\nimport type { _AbstractAudioSubGraph } from \"./subNodes/abstractAudioSubGraph\";\nimport type { IVolumeAudioOptions } from \"./subNodes/volumeAudioSubNode\";\nimport { _GetVolumeAudioProperty, _GetVolumeAudioSubNode } from \"./subNodes/volumeAudioSubNode\";\nimport type { AbstractAudioAnalyzer, IAudioAnalyzerOptions } from \"./subProperties/abstractAudioAnalyzer\";\nimport { _AudioAnalyzer } from \"./subProperties/audioAnalyzer\";\n\n/** @internal */\nexport interface IAbstractAudioOutNodeOptions extends IAudioAnalyzerOptions, IVolumeAudioOptions {}\n\n/**\n * Abstract class representing and audio output node with an analyzer and volume control.\n */\nexport abstract class AbstractAudioOutNode extends AbstractNamedAudioNode {\n    private _analyzer: Nullable<AbstractAudioAnalyzer> = null;\n\n    protected abstract _subGraph: _AbstractAudioSubGraph;\n\n    protected constructor(name: string, engine: AudioEngineV2, nodeType: AudioNodeType) {\n        super(name, engine, nodeType);\n    }\n\n    /**\n     * The audio analyzer features.\n     */\n    public get analyzer(): AbstractAudioAnalyzer {\n        return this._analyzer ?? (this._analyzer = new _AudioAnalyzer(this._subGraph));\n    }\n\n    /**\n     * The audio output volume.\n     */\n    public get volume(): number {\n        return _GetVolumeAudioProperty(this._subGraph, \"volume\");\n    }\n\n    public set volume(value: number) {\n        // The volume subnode is created on initialization and should always exist.\n        const node = _GetVolumeAudioSubNode(this._subGraph);\n        if (!node) {\n            throw new Error(\"No volume subnode\");\n        }\n\n        node.volume = value;\n    }\n\n    /**\n     * Releases associated resources.\n     */\n    public override dispose(): void {\n        super.dispose();\n\n        this._analyzer?.dispose();\n        this._analyzer = null;\n\n        this._subGraph.dispose();\n    }\n\n    /**\n     * Sets the audio output volume with optional ramping.\n     * If the duration is 0 then the volume is set immediately, otherwise it is ramped to the new value over the given duration using the given shape.\n     * If a ramp is already in progress then the volume is not set and an error is thrown.\n     * @param value The value to set the volume to.\n     * @param options The options to use for ramping the volume change.\n     */\n    public setVolume(value: number, options: Nullable<Partial<IAudioParameterRampOptions>> = null): void {\n        const node = _GetVolumeAudioSubNode(this._subGraph);\n        if (!node) {\n            throw new Error(\"No volume subnode\");\n        }\n\n        node.setVolume(value, options);\n    }\n}\n","import { Logger } from \"../../../Misc/logger\";\nimport type { Nullable } from \"../../../types\";\nimport type { AudioAnalyzerFFTSizeType } from \"../../abstractAudio/subProperties/abstractAudioAnalyzer\";\nimport { _AudioAnalyzerDefaults, AbstractAudioAnalyzer } from \"../../abstractAudio/subProperties/abstractAudioAnalyzer\";\nimport type { _AbstractAudioSubGraph } from \"../subNodes/abstractAudioSubGraph\";\nimport { _GetAudioAnalyzerSubNode, _SetAudioAnalyzerProperty } from \"../subNodes/audioAnalyzerSubNode\";\nimport { AudioSubNode } from \"../subNodes/audioSubNode\";\n\nlet EmptyByteFrequencyData: Nullable<Uint8Array> = null;\nlet EmptyFloatFrequencyData: Nullable<Float32Array> = null;\n\n/** @internal */\nexport function _GetEmptyByteFrequencyData(): Uint8Array {\n    if (!EmptyByteFrequencyData) {\n        EmptyByteFrequencyData = new Uint8Array();\n    }\n    return EmptyByteFrequencyData;\n}\n\n/** @internal */\nexport function _GetEmptyFloatFrequencyData(): Float32Array {\n    if (!EmptyFloatFrequencyData) {\n        EmptyFloatFrequencyData = new Float32Array();\n    }\n    return EmptyFloatFrequencyData;\n}\n\n/** @internal */\nexport class _AudioAnalyzer extends AbstractAudioAnalyzer {\n    private _fftSize: AudioAnalyzerFFTSizeType = _AudioAnalyzerDefaults.fftSize;\n    private _maxDecibels: number = _AudioAnalyzerDefaults.maxDecibels;\n    private _minDecibels: number = _AudioAnalyzerDefaults.minDecibels;\n    private _smoothing: number = _AudioAnalyzerDefaults.smoothing;\n    private _subGraph: _AbstractAudioSubGraph;\n\n    /** @internal */\n    public constructor(subGraph: _AbstractAudioSubGraph) {\n        super();\n        this._subGraph = subGraph;\n    }\n\n    /** @internal */\n    public get fftSize(): AudioAnalyzerFFTSizeType {\n        return this._fftSize;\n    }\n\n    public set fftSize(value: AudioAnalyzerFFTSizeType) {\n        this._fftSize = value;\n        _SetAudioAnalyzerProperty(this._subGraph, \"fftSize\", value);\n    }\n\n    /** @internal */\n    public get isEnabled(): boolean {\n        return _GetAudioAnalyzerSubNode(this._subGraph) !== null;\n    }\n\n    /** @internal */\n    public get minDecibels(): number {\n        return this._minDecibels;\n    }\n\n    public set minDecibels(value: number) {\n        this._minDecibels = value;\n        _SetAudioAnalyzerProperty(this._subGraph, \"minDecibels\", value);\n    }\n\n    /** @internal */\n    public get maxDecibels(): number {\n        return this._maxDecibels;\n    }\n\n    public set maxDecibels(value: number) {\n        this._maxDecibels = value;\n        _SetAudioAnalyzerProperty(this._subGraph, \"maxDecibels\", value);\n    }\n\n    /** @internal */\n    public get smoothing(): number {\n        return this._smoothing;\n    }\n\n    public set smoothing(value: number) {\n        this._smoothing = value;\n        _SetAudioAnalyzerProperty(this._subGraph, \"smoothing\", value);\n    }\n\n    /** @internal */\n    public dispose(): void {\n        const subNode = _GetAudioAnalyzerSubNode(this._subGraph);\n        if (subNode) {\n            // eslint-disable-next-line @typescript-eslint/no-floating-promises\n            this._subGraph.removeSubNodeAsync(subNode);\n            subNode.dispose();\n        }\n    }\n\n    /** @internal */\n    public async enableAsync(): Promise<void> {\n        const subNode = _GetAudioAnalyzerSubNode(this._subGraph);\n        if (!subNode) {\n            await this._subGraph.createAndAddSubNodeAsync(AudioSubNode.ANALYZER);\n        }\n    }\n\n    /** @internal */\n    public getByteFrequencyData(): Uint8Array {\n        const subNode = _GetAudioAnalyzerSubNode(this._subGraph);\n        if (!subNode) {\n            Logger.Warn(\"AudioAnalyzer not enabled\");\n            // eslint-disable-next-line @typescript-eslint/no-floating-promises\n            this.enableAsync();\n            return _GetEmptyByteFrequencyData();\n        }\n        return subNode.getByteFrequencyData();\n    }\n\n    /** @internal */\n    public getFloatFrequencyData(): Float32Array {\n        const subNode = _GetAudioAnalyzerSubNode(this._subGraph);\n        if (!subNode) {\n            Logger.Warn(\"AudioAnalyzer not enabled\");\n            // eslint-disable-next-line @typescript-eslint/no-floating-promises\n            this.enableAsync();\n            return _GetEmptyFloatFrequencyData();\n        }\n        return subNode.getFloatFrequencyData();\n    }\n}\n","import type { Nullable } from \"../../../types\";\nimport type { AudioEngineV2 } from \"../audioEngineV2\";\nimport type { AudioAnalyzerFFTSizeType, IAudioAnalyzerOptions } from \"../subProperties/abstractAudioAnalyzer\";\nimport { _AudioAnalyzerDefaults } from \"../subProperties/abstractAudioAnalyzer\";\nimport type { _AbstractAudioSubGraph } from \"./abstractAudioSubGraph\";\nimport { _AbstractAudioSubNode } from \"./abstractAudioSubNode\";\nimport { AudioSubNode } from \"./audioSubNode\";\n\n/** @internal */\nexport abstract class _AudioAnalyzerSubNode extends _AbstractAudioSubNode {\n    protected constructor(engine: AudioEngineV2) {\n        super(AudioSubNode.ANALYZER, engine);\n    }\n\n    public abstract fftSize: AudioAnalyzerFFTSizeType;\n    public abstract minDecibels: number;\n    public abstract maxDecibels: number;\n    public abstract smoothing: number;\n\n    public abstract getByteFrequencyData(): Uint8Array;\n    public abstract getFloatFrequencyData(): Float32Array;\n\n    /** @internal */\n    public setOptions(options: Partial<IAudioAnalyzerOptions>): void {\n        this.fftSize = options.analyzerFFTSize ?? _AudioAnalyzerDefaults.fftSize;\n        this.minDecibels = options.analyzerMinDecibels ?? _AudioAnalyzerDefaults.minDecibels;\n        this.maxDecibels = options.analyzerMaxDecibels ?? _AudioAnalyzerDefaults.maxDecibels;\n        this.smoothing = options.analyzerSmoothing ?? _AudioAnalyzerDefaults.smoothing;\n    }\n}\n\n/** @internal */\nexport function _GetAudioAnalyzerSubNode(subGraph: _AbstractAudioSubGraph): Nullable<_AudioAnalyzerSubNode> {\n    return subGraph.getSubNode<_AudioAnalyzerSubNode>(AudioSubNode.ANALYZER);\n}\n\n/** @internal */\nexport function _SetAudioAnalyzerProperty<K extends keyof typeof _AudioAnalyzerDefaults>(subGraph: _AbstractAudioSubGraph, property: K, value: _AudioAnalyzerSubNode[K]): void {\n    subGraph.callOnSubNode<_AudioAnalyzerSubNode>(AudioSubNode.ANALYZER, (node) => {\n        node[property] = value;\n    });\n}\n"],"names":["_AbstractAudioSubNode","name","engine","super","connect","node","this","_connect","Error","disconnect","_disconnect","disconnectAll","_downstreamNodes","it","values","next","done","value","_VolumeAudioDefaults","volume","_VolumeAudioSubNode","setOptions","options","setVolume","shape","_GetVolumeAudioSubNode","subGraph","getSubNode","_GetVolumeAudioProperty","property","_AudioAnalyzerDefaults","fftSize","minDecibels","maxDecibels","smoothing","_HasAudioAnalyzerOptions","analyzerEnabled","undefined","analyzerFFTSize","analyzerMinDecibels","analyzerMaxDecibels","analyzerSmoothing","AbstractAudioAnalyzer","frequencyBinCount","_AbstractAudioSubGraph","_createSubNodePromises","_isDisposed","_subNodes","_onSubNodeDisposed","subNode","_onSubNodesChanged","callOnSubNode","callback","_createSubNodePromisesResolvedAsync","then","createAndAddSubNodeAsync","_createSubNode","_addSubNode","dispose","subNodes","Object","removeSubNodeAsync","Promise","all","onDisposeObservable","addOnce","_VolumeWebAudioSubNode","gainNode","GainNode","_audioContext","_volume","gain","_inNode","_outNode","setTargetValue","getClassName","_WebAudioAnalyzerSubNode","_byteFrequencyData","_floatFrequencyData","_analyzerNode","AnalyserNode","_clearArrays","smoothingTimeConstant","getByteFrequencyData","length","Uint8Array","getFloatFrequencyData","Float32Array","set","_WebAudioBaseSubGraph","owner","_outputNode","_owner","initAsync","hasAnalyzerOptions","analyzerNode","volumeNode","inNode","async","_CreateAudioAnalyzerSubNodeAsync","_CreateVolumeAudioSubNodeAsync","AbstractAudioOutNode","nodeType","_analyzer","analyzer","_subGraph","EmptyByteFrequencyData","EmptyFloatFrequencyData","_GetEmptyByteFrequencyData","_GetEmptyFloatFrequencyData","_AudioAnalyzer","_fftSize","_maxDecibels","_minDecibels","_smoothing","isEnabled","enableAsync","Warn","_AudioAnalyzerSubNode","_GetAudioAnalyzerSubNode","_SetAudioAnalyzerProperty"],"ignoreList":[],"sourceRoot":""}