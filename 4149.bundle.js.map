{"version":3,"file":"4149.bundle.js","mappings":"iMAUA,MAAMA,EAAO,wBAiBN,MAAMC,EAgBT,WAAAC,CAAYC,GAZI,KAAAC,KAAOJ,EAanBK,KAAKC,QAAUH,EACfE,KAAKE,QAAUF,KAAKC,QAAQE,gBAAgBR,EAChD,CAGO,OAAAS,GACFJ,KAAKC,QAAkB,IAC5B,CAMO,oBAAAI,CAAqBC,EAAiBC,EAA2BC,GACpE,OAAO,KAAWC,mBAAsDH,EAASC,EAAaP,KAAKD,MAAMW,MAAOC,EAAkBC,UACjHZ,KAAKC,QAAQI,qBAAqBC,EAASC,GAAcM,IAClE,KAAMA,aAA0B,KAC5B,MAAM,IAAIC,MAAM,GAAGH,iCAGnBC,EAAUG,SACVF,EAAeG,QAAUJ,EAAUG,OAAO,GAC1CF,EAAeI,QAAUL,EAAUG,OAAO,IAI9CF,EAAeK,gBAAkB,EACjCL,EAAeM,gBAAkB,EAE7BP,EAAUQ,WACVP,EAAeQ,MAAQT,EAAUQ,UAGjCR,EAAUU,QACVT,EAAeU,OAASX,EAAUU,MAAM,GACxCT,EAAeW,OAASZ,EAAUU,MAAM,IAGlBG,MAAtBb,EAAUc,WACVb,EAAec,iBAAmBf,EAAUc,UAGhDlB,EAAOK,OAGnB,GAGJ,QAAwBlB,IACxB,QAAsBA,GAAM,GAAOG,GAAW,IAAIF,EAAsBE,I","sources":["webpack://@dev/inspector-v2/../loaders/src/glTF/2.0/Extensions/KHR_texture_transform.ts?"],"sourcesContent":["import type { Nullable } from \"core/types\";\r\nimport type { BaseTexture } from \"core/Materials/Textures/baseTexture\";\r\nimport { Texture } from \"core/Materials/Textures/texture\";\r\n\r\nimport type { ITextureInfo } from \"../glTFLoaderInterfaces\";\r\nimport type { IGLTFLoaderExtension } from \"../glTFLoaderExtension\";\r\nimport { GLTFLoader } from \"../glTFLoader\";\r\nimport type { IKHRTextureTransform } from \"babylonjs-gltf2interface\";\r\nimport { registerGLTFExtension, unregisterGLTFExtension } from \"../glTFLoaderExtensionRegistry\";\r\n\r\nconst NAME = \"KHR_texture_transform\";\r\n\r\ndeclare module \"../../glTFFileLoader\" {\r\n    // eslint-disable-next-line jsdoc/require-jsdoc, @typescript-eslint/naming-convention\r\n    export interface GLTFLoaderExtensionOptions {\r\n        /**\r\n         * Defines options for the KHR_texture_transform extension.\r\n         */\r\n        // NOTE: Don't use NAME here as it will break the UMD type declarations.\r\n        [\"KHR_texture_transform\"]: {};\r\n    }\r\n}\r\n\r\n/**\r\n * [Specification](https://github.com/KhronosGroup/glTF/blob/main/extensions/2.0/Khronos/KHR_texture_transform/README.md)\r\n */\r\n// eslint-disable-next-line @typescript-eslint/naming-convention\r\nexport class KHR_texture_transform implements IGLTFLoaderExtension {\r\n    /**\r\n     * The name of this extension.\r\n     */\r\n    public readonly name = NAME;\r\n\r\n    /**\r\n     * Defines whether this extension is enabled.\r\n     */\r\n    public enabled: boolean;\r\n\r\n    private _loader: GLTFLoader;\r\n\r\n    /**\r\n     * @internal\r\n     */\r\n    constructor(loader: GLTFLoader) {\r\n        this._loader = loader;\r\n        this.enabled = this._loader.isExtensionUsed(NAME);\r\n    }\r\n\r\n    /** @internal */\r\n    public dispose() {\r\n        (this._loader as any) = null;\r\n    }\r\n\r\n    /**\r\n     * @internal\r\n     */\r\n    // eslint-disable-next-line no-restricted-syntax\r\n    public loadTextureInfoAsync(context: string, textureInfo: ITextureInfo, assign: (babylonTexture: BaseTexture) => void): Nullable<Promise<BaseTexture>> {\r\n        return GLTFLoader.LoadExtensionAsync<IKHRTextureTransform, BaseTexture>(context, textureInfo, this.name, async (extensionContext, extension) => {\r\n            return await this._loader.loadTextureInfoAsync(context, textureInfo, (babylonTexture) => {\r\n                if (!(babylonTexture instanceof Texture)) {\r\n                    throw new Error(`${extensionContext}: Texture type not supported`);\r\n                }\r\n\r\n                if (extension.offset) {\r\n                    babylonTexture.uOffset = extension.offset[0];\r\n                    babylonTexture.vOffset = extension.offset[1];\r\n                }\r\n\r\n                // Always rotate around the origin.\r\n                babylonTexture.uRotationCenter = 0;\r\n                babylonTexture.vRotationCenter = 0;\r\n\r\n                if (extension.rotation) {\r\n                    babylonTexture.wAng = -extension.rotation;\r\n                }\r\n\r\n                if (extension.scale) {\r\n                    babylonTexture.uScale = extension.scale[0];\r\n                    babylonTexture.vScale = extension.scale[1];\r\n                }\r\n\r\n                if (extension.texCoord != undefined) {\r\n                    babylonTexture.coordinatesIndex = extension.texCoord;\r\n                }\r\n\r\n                assign(babylonTexture);\r\n            });\r\n        });\r\n    }\r\n}\r\n\r\nunregisterGLTFExtension(NAME);\r\nregisterGLTFExtension(NAME, true, (loader) => new KHR_texture_transform(loader));\r\n"],"names":["NAME","KHR_texture_transform","constructor","loader","name","this","_loader","enabled","isExtensionUsed","dispose","loadTextureInfoAsync","context","textureInfo","assign","LoadExtensionAsync","async","extensionContext","extension","babylonTexture","Error","offset","uOffset","vOffset","uRotationCenter","vRotationCenter","rotation","wAng","scale","uScale","vScale","undefined","texCoord","coordinatesIndex"],"ignoreList":[],"sourceRoot":""}