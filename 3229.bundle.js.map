{"version":3,"file":"3229.bundle.js","mappings":"sNAeO,MAAMA,UAAkC,IAM3C,WAAAC,CAAYC,GACRC,MAAMD,GACNE,KAAKC,WAAaD,KAAKE,kBAAkB,aAAc,KAC3D,CAEO,QAAAC,CAASC,EAA2BC,GACvC,MAAMJ,GAAa,QAAgBD,KAAKC,WAAWK,SAASF,IAC5D,GAAIH,GAAc,GAAKM,MAAMN,KAAgBO,SAASP,GAClD,OAAOD,KAAKS,aAAaL,EAAS,uBAEtC,MACMM,EADSN,EAAQO,0BAA0B,gBAAiB,IAC7CV,GACjBS,GACAA,EAAME,UAIVZ,KAAKa,IAAIC,gBAAgBV,EAC7B,CAEgB,YAAAW,GACZ,MAAO,2BACX,GAGJ,QAAc,4BAAiCnB,E","sources":["webpack://@dev/inspector-v2/../core/src/FlowGraph/Blocks/Execution/ControlFlow/flowGraphCancelDelayBlock.ts?"],"sourcesContent":["import { RegisterClass } from \"core/Misc/typeStore\";\nimport type { AdvancedTimer } from \"../../../../Misc/timer\";\nimport type { IFlowGraphBlockConfiguration } from \"../../../flowGraphBlock\";\nimport type { FlowGraphContext } from \"../../../flowGraphContext\";\nimport type { FlowGraphDataConnection } from \"../../../flowGraphDataConnection\";\nimport { FlowGraphExecutionBlockWithOutSignal } from \"../../../flowGraphExecutionBlockWithOutSignal\";\nimport { RichTypeFlowGraphInteger } from \"../../../flowGraphRichTypes\";\nimport type { FlowGraphSignalConnection } from \"../../../flowGraphSignalConnection\";\nimport { FlowGraphBlockNames } from \"../../flowGraphBlockNames\";\nimport type { FlowGraphInteger } from \"core/FlowGraph/CustomTypes/flowGraphInteger\";\nimport { getNumericValue } from \"core/FlowGraph/utils\";\n\n/**\n * This block cancels a delay that was previously scheduled.\n */\nexport class FlowGraphCancelDelayBlock extends FlowGraphExecutionBlockWithOutSignal {\n    /**\n     * Input connection: The index value of the scheduled activation to be cancelled.\n     */\n    public readonly delayIndex: FlowGraphDataConnection<FlowGraphInteger>;\n\n    constructor(config?: IFlowGraphBlockConfiguration) {\n        super(config);\n        this.delayIndex = this.registerDataInput(\"delayIndex\", RichTypeFlowGraphInteger);\n    }\n\n    public _execute(context: FlowGraphContext, _callingSignal: FlowGraphSignalConnection): void {\n        const delayIndex = getNumericValue(this.delayIndex.getValue(context));\n        if (delayIndex <= 0 || isNaN(delayIndex) || !isFinite(delayIndex)) {\n            return this._reportError(context, \"Invalid delay index\");\n        }\n        const timers = context._getGlobalContextVariable(\"pendingDelays\", [] as AdvancedTimer[]);\n        const timer = timers[delayIndex];\n        if (timer) {\n            timer.dispose();\n            // not removing it from the array. Disposing it will clear all of its resources\n        }\n        // activate the out output flow\n        this.out._activateSignal(context);\n    }\n\n    public override getClassName(): string {\n        return FlowGraphBlockNames.CancelDelay;\n    }\n}\n\nRegisterClass(FlowGraphBlockNames.CancelDelay, FlowGraphCancelDelayBlock);\n"],"names":["FlowGraphCancelDelayBlock","constructor","config","super","this","delayIndex","registerDataInput","_execute","context","_callingSignal","getValue","isNaN","isFinite","_reportError","timer","_getGlobalContextVariable","dispose","out","_activateSignal","getClassName"],"ignoreList":[],"sourceRoot":""}